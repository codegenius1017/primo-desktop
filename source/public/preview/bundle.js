
(function(l, r) { if (l.getElementById('livereloadscript')) return; r = l.createElement('script'); r.async = 1; r.src = '//' + (window.location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1'; r.id = 'livereloadscript'; l.getElementsByTagName('head')[0].appendChild(r) })(window.document);
var preview = (function () {
    'use strict';

    function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r);}function s(e){return "function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function c(e){let t;return l(e,e=>t=e)(),t}function u(e,t,n){e.$$.on_destroy.push(l(t,n));}function f(e,t,n,r){if(e){const i=p(e,t,n,r);return e[0](i)}}function p(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function d(e,t,n,r,i,o,s){const a=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(a){const i=p(t,n,r,s);e.p(i,a);}}function m(e){return null==e?"":e}const g="undefined"!=typeof window;let v=g?()=>window.performance.now():()=>Date.now(),y=g?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach(t=>{t.c(e)||(b.delete(t),t.f());}),0!==b.size&&y(w);}function x(e){let t;return 0===b.size&&y(w),{promise:new Promise(n=>{b.add(t={c:e,f:n});}),abort(){b.delete(t);}}}function k(e,t){e.appendChild(t);}function $(e,t,n){e.insertBefore(t,n||null);}function S(e){e.parentNode.removeChild(e);}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t);}function M(e){return document.createElement(e)}function O(e){return document.createTextNode(e)}function T(){return O(" ")}function A(){return O("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n);}function D(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:L(e,r,t[r]);}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t);}function I(e,t){e.value=null==t?"":t;}function z(e,t,n,r){e.style.setProperty(t,n,r?"important":"");}function R(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function F(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function B(e,t,n){e.classList[n?"add":"remove"](t);}function W(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}class H{constructor(e=null){this.a=e,this.e=this.n=null;}m(e,t,n=null){this.e||(this.e=M(t.nodeName),this.t=t,this.h(e)),this.i(n);}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes);}i(e){for(let t=0;t<this.n.length;t+=1)$(this.t,this.n[t],e);}p(e){this.d(),this.h(e),this.i(this.a);}d(){this.n.forEach(S);}}const V=new Set;let q,U=0;function K(e,t,n,r,i,o,s,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*o(e);c+=100*e+`%{${s(r,1-r)}}\n`;}const u=c+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=e.ownerDocument;V.add(p);const d=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(M("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[f]||(h[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${f} ${r}ms linear ${i}ms 1 both`,U+=1,f}function J(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),U-=i,U||y(()=>{U||(V.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={};}),V.clear());}));}function G(e){q=e;}function Y(){if(!q)throw new Error("Function called outside component initialization");return q}function X(e){Y().$$.on_mount.push(e);}function Z(){const e=Y();return (t,n)=>{const r=e.$$.callbacks[t];if(r){const i=W(t,n);r.slice().forEach(t=>{t.call(e,i);});}}}const ne=[],re=[],ie=[],oe=[],se=Promise.resolve();let ae=!1;function le(e){ie.push(e);}let ue=!1;const fe=new Set;function pe(){if(!ue){ue=!0;do{for(let e=0;e<ne.length;e+=1){const t=ne[e];G(t),de(t.$$);}for(ne.length=0;re.length;)re.pop()();for(let e=0;e<ie.length;e+=1){const t=ie[e];fe.has(t)||(fe.add(t),t());}ie.length=0;}while(ne.length);for(;oe.length;)oe.pop()();ae=!1,ue=!1,fe.clear();}}function de(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le);}}let he;function me(){return he||(he=Promise.resolve(),he.then(()=>{he=null;})),he}function ge(e,t,n){e.dispatchEvent(W(`${t?"intro":"outro"}${n}`));}const ve=new Set;let ye;function be(){ye={r:0,c:[],p:ye};}function we(){ye.r||o(ye.c),ye=ye.p;}function xe(e,t){e&&e.i&&(ve.delete(e),e.i(t));}function ke(e,t,n,r){if(e&&e.o){if(ve.has(e))return;ve.add(e),ye.c.push(()=>{ve.delete(e),r&&(n&&e.d(1),r());}),e.o(t);}}const $e={duration:0};function Se(n,r,i){let o,a,l=r(n,i),c=!1,u=0;function f(){o&&J(n,o);}function p(){const{delay:r=0,duration:i=300,easing:s=t,tick:p=e,css:d}=l||$e;d&&(o=K(n,0,1,i,r,s,d,u++)),p(0,1);const h=v()+r,m=h+i;a&&a.abort(),c=!0,le(()=>ge(n,!0,"start")),a=x(e=>{if(c){if(e>=m)return p(1,0),ge(n,!0,"end"),f(),c=!1;if(e>=h){const t=s((e-h)/i);p(t,1-t);}}return c});}let d=!1;return {start(){d||(J(n),s(l)?(l=l(),me().then(p)):p());},invalidate(){d=!1;},end(){c&&(f(),c=!1);}}}function Ce(n,r,i,a){let l=r(n,i),c=a?0:1,u=null,f=null,p=null;function d(){p&&J(n,p);}function h(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:s=300,easing:a=t,tick:m=e,css:g}=l||$e,y={start:v()+i,b:r};r||(y.group=ye,ye.r+=1),u?f=y:(g&&(d(),p=K(n,c,r,s,i,a,g)),r&&m(0,1),u=h(y,s),le(()=>ge(n,r,"start")),x(e=>{if(f&&e>f.start&&(u=h(f,s),f=null,ge(n,u.b,"start"),g&&(d(),p=K(n,c,u.b,u.duration,0,a,l.css))),u)if(e>=u.end)m(c=u.b,1-c),ge(n,u.b,"end"),f||(u.b?d():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*a(t/u.duration),m(c,1-c);}return !(!u&&!f)}));}return {run(e){s(l)?me().then(()=>{l=l(),m(e);}):m(e);},end(){d(),u=f=null;}}}function Te(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a;}else for(const e in s)i[e]=1;}for(const e in r)e in n||(n[e]=void 0);return n}function Ne(e){e&&e.c();}function Ee(e,t,n){const{fragment:i,on_mount:a,on_destroy:l,after_update:c}=e.$$;i&&i.m(t,n),le(()=>{const t=a.map(r).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[];}),c.forEach(le);}function Le(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[]);}function De(e,t){-1===e.$$.dirty[0]&&(ne.push(e),ae||(ae=!0,se.then(pe)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31;}function je(t,n,r,s,a,l,c=[-1]){const u=q;G(t);const f=n.props||{},p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:c};let d=!1;if(p.ctx=r?r(t,f,(e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=i)&&(p.bound[e]&&p.bound[e](i),d&&De(t,e)),n}):[],p.update(),d=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(S);}else p.fragment&&p.fragment.c();n.intro&&xe(t.$$.fragment),Ee(t,n.target,n.anchor),pe();}G(u);}class Ie{$destroy(){Le(this,1),this.$destroy=e;}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1);}}$set(){}}var ze=function(){this.__data__=[],this.size=0;};var Re=function(e,t){return e===t||e!=e&&t!=t};var Fe=function(e,t){for(var n=e.length;n--;)if(Re(e[n][0],t))return n;return -1},Be=Array.prototype.splice;var We=function(e){var t=this.__data__,n=Fe(t,e);return !(n<0)&&(n==t.length-1?t.pop():Be.call(t,n,1),--this.size,!0)};var He=function(e){var t=this.__data__,n=Fe(t,e);return n<0?void 0:t[n][1]};var Ve=function(e){return Fe(this.__data__,e)>-1};var qe=function(e,t){var n=this.__data__,r=Fe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}Ue.prototype.clear=ze,Ue.prototype.delete=We,Ue.prototype.get=He,Ue.prototype.has=Ve,Ue.prototype.set=qe;var Ke=Ue;var Ze="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Qe(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return et(null==t&&n.path)}},n.exports),n.exports}function et(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var tt="object"==typeof Ze&&Ze&&Ze.Object===Object&&Ze,nt="object"==typeof self&&self&&self.Object===Object&&self,rt=tt||nt||Function("return this")(),it=rt.Symbol,ot=Object.prototype,st=ot.hasOwnProperty,at=ot.toString,lt=it?it.toStringTag:void 0;var ct=function(e){var t=st.call(e,lt),n=e[lt];try{e[lt]=void 0;var r=!0;}catch(e){}var i=at.call(e);return r&&(t?e[lt]=n:delete e[lt]),i},ut=Object.prototype.toString;var ft=function(e){return ut.call(e)},pt=it?it.toStringTag:void 0;var dt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":pt&&pt in Object(e)?ct(e):ft(e)};var ht=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var mt,gt=function(e){if(!ht(e))return !1;var t=dt(e);return "[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},vt=rt["__core-js_shared__"],yt=(mt=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||""))?"Symbol(src)_1."+mt:"";var bt=function(e){return !!yt&&yt in e},wt=Function.prototype.toString;var xt=function(e){if(null!=e){try{return wt.call(e)}catch(e){}try{return e+""}catch(e){}}return ""},kt=/^\[object .+?Constructor\]$/,$t=Function.prototype,St=Object.prototype,Ct=$t.toString,Mt=St.hasOwnProperty,Ot=RegExp("^"+Ct.call(Mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Tt=function(e){return !(!ht(e)||bt(e))&&(gt(e)?Ot:kt).test(xt(e))};var _t=function(e,t){return null==e?void 0:e[t]};var At=function(e,t){var n=_t(e,t);return Tt(n)?n:void 0},Nt=At(rt,"Map"),Et=At(Object,"create");var Lt=function(){this.__data__=Et?Et(null):{},this.size=0;};var Dt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jt=Object.prototype.hasOwnProperty;var Pt=function(e){var t=this.__data__;if(Et){var n=t[e];return "__lodash_hash_undefined__"===n?void 0:n}return jt.call(t,e)?t[e]:void 0},It=Object.prototype.hasOwnProperty;var zt=function(e){var t=this.__data__;return Et?void 0!==t[e]:It.call(t,e)};var Rt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Et&&void 0===t?"__lodash_hash_undefined__":t,this};function Ft(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}Ft.prototype.clear=Lt,Ft.prototype.delete=Dt,Ft.prototype.get=Pt,Ft.prototype.has=zt,Ft.prototype.set=Rt;var Bt=Ft;var Wt=function(){this.size=0,this.__data__={hash:new Bt,map:new(Nt||Ke),string:new Bt};};var Ht=function(e){var t=typeof e;return "string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Vt=function(e,t){var n=e.__data__;return Ht(t)?n["string"==typeof t?"string":"hash"]:n.map};var qt=function(e){var t=Vt(this,e).delete(e);return this.size-=t?1:0,t};var Ut=function(e){return Vt(this,e).get(e)};var Kt=function(e){return Vt(this,e).has(e)};var Jt=function(e,t){var n=Vt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Gt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}Gt.prototype.clear=Wt,Gt.prototype.delete=qt,Gt.prototype.get=Ut,Gt.prototype.has=Kt,Gt.prototype.set=Jt;var Yt=Gt;var ln=rt.Uint8Array;var fn=it?it.prototype:void 0,pn=fn?fn.valueOf:void 0;var $n=function(e){return null!=e&&"object"==typeof e};var Sn=function(e){return $n(e)&&"[object Arguments]"==dt(e)},Cn=Object.prototype,Mn=Cn.hasOwnProperty,On=Cn.propertyIsEnumerable,Tn=Sn(function(){return arguments}())?Sn:function(e){return $n(e)&&Mn.call(e,"callee")&&!On.call(e,"callee")};var _n=function(){return !1},An=Qe((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?rt.Buffer:void 0,o=(i?i.isBuffer:void 0)||_n;e.exports=o;}));var In=Qe((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&tt.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o;})),zn=In&&In.isTypedArray;var Zn=At(rt,"DataView"),Qn=At(rt,"Promise"),er=At(rt,"Set"),tr=At(rt,"WeakMap"),nr=xt(Zn),rr=xt(Nt),ir=xt(Qn),or=xt(er),sr=xt(tr),ar=dt;(Zn&&"[object DataView]"!=ar(new Zn(new ArrayBuffer(1)))||Nt&&"[object Map]"!=ar(new Nt)||Qn&&"[object Promise]"!=ar(Qn.resolve())||er&&"[object Set]"!=ar(new er)||tr&&"[object WeakMap]"!=ar(new tr))&&(ar=function(e){var t=dt(e),n="[object Object]"==t?e.constructor:void 0,r=n?xt(n):"";if(r)switch(r){case nr:return "[object DataView]";case rr:return "[object Map]";case ir:return "[object Promise]";case or:return "[object Set]";case sr:return "[object WeakMap]"}return t});function xr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(xr.Cache||Yt),n}xr.Cache=Yt;var kr=xr;var $r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sr=/\\(\\)?/g,Cr=function(e){var t=kr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($r,(function(e,n,r,i){t.push(r?i.replace(Sr,"$1"):n||e);})),t}));var Or=it?it.prototype:void 0,Tr=Or?Or.toString:void 0;const ni=[];function ri(t,n=e){let r;const i=[];function o(e){if(a(t,e)&&(t=e,r)){const e=!ni.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ni.push(n,t);}if(e){for(let e=0;e<ni.length;e+=2)ni[e][0](ni[e+1]);ni.length=0;}}}return {set:o,update:function(e){o(e(t));},subscribe:function(s,a=e){const l=[s,a];return i.push(l),1===i.length&&(r=n(o)||e),s(t),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null);}}}}function ii(t,n,r){const i=!Array.isArray(t),a=i?[t]:t,c=n.length<2;return {subscribe:ri(r,t=>{let r=!1;const u=[];let f=0,p=e;const d=()=>{if(f)return;p();const r=n(i?u[0]:u,t);c?t(r):p=s(r)?r:e;},h=a.map((e,t)=>l(e,e=>{u[t]=e,f&=~(1<<t),r&&d();},()=>{f|=1<<t;}));return r=!0,d(),function(){o(h),p();}}).subscribe}}function ai(e){return {...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const li=function(e,t){const n=[];let r=ai(e);return {get location(){return r},listen(t){n.push(t);const i=()=>{r=ai(e),t({location:r,action:"POP"});};return e.addEventListener("popstate",i),()=>{e.removeEventListener("popstate",i);const r=n.indexOf(t);n.splice(r,1);}},navigate(t,{state:i,replace:o=!1}={}){i={...i,key:Date.now()+""};try{o?e.history.replaceState(i,null,t):e.history.pushState(i,null,t);}catch(n){e.location[o?"replace":"assign"](t);}r=ai(e),n.forEach(e=>e({location:r,action:"PUSH"}));}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],r=[];return {get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(e,i,o){const[s,a=""]=o.split("?");t++,n.push({pathname:s,search:a}),r.push(e);},replaceState(e,i,o){const[s,a=""]=o.split("?");n[t]={pathname:s,search:a},r[t]=e;}}}}());var _i=Qe((function(e,t){(function(){var n="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",f="[object GeneratorFunction]",p="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",x="[object DataView]",k="[object Float32Array]",$="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",M="[object Int32Array]",O="[object Uint8Array]",T="[object Uint16Array]",_="[object Uint32Array]",A=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,E=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,j=RegExp(L.source),P=RegExp(D.source),I=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,R=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,B=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,V=RegExp(H.source),q=/^\s+|\s+$/g,U=/^\s+/,K=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/\\(\\)?/g,Q=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ee=/\w*$/,te=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,re=/^\[object .+?Constructor\]$/,ie=/^0o[0-7]+$/i,oe=/^(?:0|[1-9]\d*)$/,se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,le=/['\n\r\u2028\u2029\\]/g,ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ue="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="[\\ud800-\\udfff]",pe="["+ue+"]",de="["+ce+"]",he="\\d+",me="[\\u2700-\\u27bf]",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+ue+he+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ye="\\ud83c[\\udffb-\\udfff]",be="[^\\ud800-\\udfff]",we="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="[A-Z\\xc0-\\xd6\\xd8-\\xde]",$e="(?:"+ge+"|"+ve+")",Se="(?:"+ke+"|"+ve+")",Ce="(?:"+de+"|"+ye+")"+"?",Me="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[be,we,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Oe="(?:"+[me,we,xe].join("|")+")"+Me,Te="(?:"+[be+de+"?",de,we,xe,fe].join("|")+")",_e=RegExp("['’]","g"),Ae=RegExp(de,"g"),Ne=RegExp(ye+"(?="+ye+")|"+Te+Me,"g"),Ee=RegExp([ke+"?"+ge+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[pe,ke,"$"].join("|")+")",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[pe,ke+$e,"$"].join("|")+")",ke+"?"+$e+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ke+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",he,Oe].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+ce+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pe=-1,Ie={};Ie[k]=Ie[$]=Ie[S]=Ie[C]=Ie[M]=Ie[O]=Ie["[object Uint8ClampedArray]"]=Ie[T]=Ie[_]=!0,Ie[o]=Ie[s]=Ie[w]=Ie[a]=Ie[x]=Ie[l]=Ie[c]=Ie[u]=Ie[p]=Ie[d]=Ie[h]=Ie[m]=Ie[g]=Ie[v]=Ie[b]=!1;var ze={};ze[o]=ze[s]=ze[w]=ze[x]=ze[a]=ze[l]=ze[k]=ze[$]=ze[S]=ze[C]=ze[M]=ze[p]=ze[d]=ze[h]=ze[m]=ze[g]=ze[v]=ze[y]=ze[O]=ze["[object Uint8ClampedArray]"]=ze[T]=ze[_]=!0,ze[c]=ze[u]=ze[b]=!1;var Re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fe=parseFloat,Be=parseInt,We="object"==typeof Ze&&Ze&&Ze.Object===Object&&Ze,He="object"==typeof self&&self&&self.Object===Object&&self,Ve=We||He||Function("return this")(),qe=t&&!t.nodeType&&t,Ue=qe&&e&&!e.nodeType&&e,Ke=Ue&&Ue.exports===qe,Je=Ke&&We.process,Ge=function(){try{var e=Ue&&Ue.require&&Ue.require("util").types;return e||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Ye=Ge&&Ge.isArrayBuffer,Xe=Ge&&Ge.isDate,Qe=Ge&&Ge.isMap,et=Ge&&Ge.isRegExp,tt=Ge&&Ge.isSet,nt=Ge&&Ge.isTypedArray;function rt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function it(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e);}return r}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return !1;return !0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s);}return o}function ct(e,t){return !!(null==e?0:e.length)&&bt(e,t,0)>-1}function ut(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return !0;return !1}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ht(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return !0;return !1}var gt=$t("length");function vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function yt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return -1}function bt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return -1}(e,t,n):yt(e,xt,n)}function wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return -1}function xt(e){return e!=e}function kt(e,t){var n=null==e?0:e.length;return n?Mt(e,t)/n:NaN}function $t(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Ct(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o);})),n}function Mt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o);}return n}function Ot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Tt(e){return function(t){return e(t)}}function _t(e,t){return ft(t,(function(t){return e[t]}))}function At(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function Et(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Dt=St({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),jt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pt(e){return "\\"+Re[e]}function It(e){return Le.test(e)}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e];})),n}function Rt(e,t){return function(n){return e(t(n))}}function Ft(e,t){for(var n=-1,i=e.length,o=0,s=[];++n<i;){var a=e[n];a!==t&&a!==r||(e[n]=r,s[o++]=n);}return s}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e;})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e];})),n}function Ht(e){return It(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):gt(e)}function Vt(e){return It(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}var qt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ut=function e(t){var ce=(t=null==t?Ve:Ut.defaults(Ve.Object(),t,Ut.pick(Ve,je))).Array,ue=t.Date,fe=t.Error,pe=t.Function,de=t.Math,he=t.Object,me=t.RegExp,ge=t.String,ve=t.TypeError,ye=ce.prototype,be=pe.prototype,we=he.prototype,xe=t["__core-js_shared__"],ke=be.toString,$e=we.hasOwnProperty,Se=0,Ce=function(){var e=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=we.toString,Oe=ke.call(he),Te=Ve._,Ne=me("^"+ke.call($e).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=Ke?t.Buffer:void 0,Re=t.Symbol,We=t.Uint8Array,He=Le?Le.allocUnsafe:void 0,qe=Rt(he.getPrototypeOf,he),Ue=he.create,Je=we.propertyIsEnumerable,Ge=ye.splice,Ze=Re?Re.isConcatSpreadable:void 0,gt=Re?Re.iterator:void 0,St=Re?Re.toStringTag:void 0,Kt=function(){try{var e=Zi(he,"defineProperty");return e({},"",{}),e}catch(e){}}(),Jt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Gt=ue&&ue.now!==Ve.Date.now&&ue.now,Yt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Xt=de.ceil,Zt=de.floor,Qt=he.getOwnPropertySymbols,en=Le?Le.isBuffer:void 0,tn=t.isFinite,nn=ye.join,rn=Rt(he.keys,he),on=de.max,sn=de.min,an=ue.now,ln=t.parseInt,cn=de.random,un=ye.reverse,fn=Zi(t,"DataView"),pn=Zi(t,"Map"),dn=Zi(t,"Promise"),hn=Zi(t,"Set"),mn=Zi(t,"WeakMap"),gn=Zi(he,"create"),vn=mn&&new mn,yn={},bn=Mo(fn),wn=Mo(pn),xn=Mo(dn),kn=Mo(hn),$n=Mo(mn),Sn=Re?Re.prototype:void 0,Cn=Sn?Sn.valueOf:void 0,Mn=Sn?Sn.toString:void 0;function On(e){if(Hs(e)&&!Es(e)&&!(e instanceof Nn)){if(e instanceof An)return e;if($e.call(e,"__wrapped__"))return Oo(e)}return new An(e)}var Tn=function(){function e(){}return function(t){if(!Ws(t))return {};if(Ue)return Ue(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function _n(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0;}function Nn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[];}function En(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1]);}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t]);}function Pn(e){var t=this.__data__=new Ln(e);this.size=t.size;}function In(e,t){var n=Es(e),r=!n&&Ns(e),i=!n&&!r&&Ps(e),o=!n&&!r&&!i&&Xs(e),s=n||r||i||o,a=s?Ot(e.length,ge):[],l=a.length;for(var c in e)!t&&!$e.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oo(c,l))||a.push(c);return a}function zn(e){var t=e.length;return t?e[jr(0,t-1)]:void 0}function Rn(e,t){return $o(gi(e),Jn(t,0,e.length))}function Fn(e){return $o(gi(e))}function Bn(e,t,n){(void 0!==n&&!Ts(e[t],n)||void 0===n&&!(t in e))&&Un(e,t,n);}function Wn(e,t,n){var r=e[t];$e.call(e,t)&&Ts(r,n)&&(void 0!==n||t in e)||Un(e,t,n);}function Hn(e,t){for(var n=e.length;n--;)if(Ts(e[n][0],t))return n;return -1}function Vn(e,t,n,r){return Qn(e,(function(e,i,o){t(r,e,n(e),o);})),r}function qn(e,t){return e&&vi(t,ba(t),e)}function Un(e,t,n){"__proto__"==t&&Kt?Kt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n;}function Kn(e,t){for(var n=-1,r=t.length,i=ce(r),o=null==e;++n<r;)i[n]=o?void 0:ha(e,t[n]);return i}function Jn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Gn(e,t,n,r,i,s){var c,b=1&t,A=2&t,N=4&t;if(n&&(c=i?n(e,r,i,s):n(e)),void 0!==c)return c;if(!Ws(e))return e;var E=Es(e);if(E){if(c=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&$e.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!b)return gi(e,c)}else {var L=to(e),D=L==u||L==f;if(Ps(e))return ui(e,b);if(L==h||L==o||D&&!i){if(c=A||D?{}:ro(e),!b)return A?function(e,t){return vi(e,eo(e),t)}(e,function(e,t){return e&&vi(t,wa(t),e)}(c,e)):function(e,t){return vi(e,Qi(e),t)}(e,qn(c,e))}else {if(!ze[L])return i?e:{};c=function(e,t,n){var r=e.constructor;switch(t){case w:return fi(e);case a:case l:return new r(+e);case x:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case k:case $:case S:case C:case M:case O:case"[object Uint8ClampedArray]":case T:case _:return pi(e,n);case p:return new r;case d:case v:return new r(e);case m:return function(e){var t=new e.constructor(e.source,ee.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return new r;case y:return i=e,Cn?he(Cn.call(i)):{}}var i;}(e,L,b);}}s||(s=new Pn);var j=s.get(e);if(j)return j;s.set(e,c),Js(e)?e.forEach((function(r){c.add(Gn(r,t,n,r,e,s));})):Vs(e)&&e.forEach((function(r,i){c.set(i,Gn(r,t,n,i,e,s));}));var P=E?void 0:(N?A?qi:Vi:A?wa:ba)(e);return ot(P||e,(function(r,i){P&&(r=e[i=r]),Wn(c,i,Gn(r,t,n,i,e,s));})),c}function Yn(e,t,n){var r=n.length;if(null==e)return !r;for(e=he(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return !1}return !0}function Xn(e,t,r){if("function"!=typeof e)throw new ve(n);return bo((function(){e.apply(void 0,r);}),t)}function Zn(e,t,n,r){var i=-1,o=ct,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=ft(t,Tt(n))),r?(o=ut,s=!1):t.length>=200&&(o=At,s=!1,t=new jn(t));e:for(;++i<a;){var u=e[i],f=null==n?u:n(u);if(u=r||0!==u?u:0,s&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;l.push(u);}else o(t,f,r)||l.push(u);}return l}On.templateSettings={escape:I,evaluate:z,interpolate:R,variable:"",imports:{_:On}},On.prototype=_n.prototype,On.prototype.constructor=On,An.prototype=Tn(_n.prototype),An.prototype.constructor=An,Nn.prototype=Tn(_n.prototype),Nn.prototype.constructor=Nn,En.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0;},En.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},En.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return "__lodash_hash_undefined__"===n?void 0:n}return $e.call(t,e)?t[e]:void 0},En.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:$e.call(t,e)},En.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Ln.prototype.clear=function(){this.__data__=[],this.size=0;},Ln.prototype.delete=function(e){var t=this.__data__,n=Hn(t,e);return !(n<0)&&(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,!0)},Ln.prototype.get=function(e){var t=this.__data__,n=Hn(t,e);return n<0?void 0:t[n][1]},Ln.prototype.has=function(e){return Hn(this.__data__,e)>-1},Ln.prototype.set=function(e,t){var n=this.__data__,r=Hn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new En,map:new(pn||Ln),string:new En};},Dn.prototype.delete=function(e){var t=Yi(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Yi(this,e).get(e)},Dn.prototype.has=function(e){return Yi(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Yi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},jn.prototype.add=jn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jn.prototype.has=function(e){return this.__data__.has(e)},Pn.prototype.clear=function(){this.__data__=new Ln,this.size=0;},Pn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Pn.prototype.get=function(e){return this.__data__.get(e)},Pn.prototype.has=function(e){return this.__data__.has(e)},Pn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ln){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r);}return n.set(e,t),this.size=n.size,this};var Qn=wi(ar),er=wi(lr,!0);function tr(e,t){var n=!0;return Qn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Ys(s):n(s,a)))var a=s,l=o;}return l}function rr(e,t){var n=[];return Qn(e,(function(e,r,i){t(e,r,i)&&n.push(e);})),n}function ir(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=io),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?ir(a,t-1,n,r,i):pt(i,a):r||(i[i.length]=a);}return i}var or=xi(),sr=xi(!0);function ar(e,t){return e&&or(e,t,ba)}function lr(e,t){return e&&sr(e,t,ba)}function cr(e,t){return lt(t,(function(t){return Rs(e[t])}))}function ur(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Co(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Es(e)?r:pt(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":St&&St in he(e)?function(e){var t=$e.call(e,St),n=e[St];try{e[St]=void 0;var r=!0;}catch(e){}var i=Me.call(e);r&&(t?e[St]=n:delete e[St]);return i}(e):function(e){return Me.call(e)}(e)}function dr(e,t){return e>t}function hr(e,t){return null!=e&&$e.call(e,t)}function mr(e,t){return null!=e&&t in he(e)}function gr(e,t,n){for(var r=n?ut:ct,i=e[0].length,o=e.length,s=o,a=ce(o),l=1/0,c=[];s--;){var u=e[s];s&&t&&(u=ft(u,Tt(t))),l=sn(u.length,l),a[s]=!n&&(t||i>=120&&u.length>=120)?new jn(s&&u):void 0;}u=e[0];var f=-1,p=a[0];e:for(;++f<i&&c.length<l;){var d=u[f],h=t?t(d):d;if(d=n||0!==d?d:0,!(p?At(p,h):r(c,h,n))){for(s=o;--s;){var m=a[s];if(!(m?At(m,h):r(e[s],h,n)))continue e}p&&p.push(h),c.push(d);}}return c}function vr(e,t,n){var r=null==(e=mo(e,t=si(t,e)))?e:e[Co(zo(t))];return null==r?void 0:rt(r,e,n)}function yr(e){return Hs(e)&&pr(e)==o}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Hs(e)&&!Hs(t)?e!=e&&t!=t:function(e,t,n,r,i,u){var f=Es(e),b=Es(t),k=f?s:to(e),$=b?s:to(t),S=(k=k==o?h:k)==h,C=($=$==o?h:$)==h,M=k==$;if(M&&Ps(e)){if(!Ps(t))return !1;f=!0,S=!1;}if(M&&!S)return u||(u=new Pn),f||Xs(e)?Wi(e,t,n,r,i,u):function(e,t,n,r,i,o,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return !1;e=e.buffer,t=t.buffer;case w:return !(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case a:case l:case d:return Ts(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case p:var u=zt;case g:var f=1&r;if(u||(u=Bt),e.size!=t.size&&!f)return !1;var h=s.get(e);if(h)return h==t;r|=2,s.set(e,t);var b=Wi(u(e),u(t),r,i,o,s);return s.delete(e),b;case y:if(Cn)return Cn.call(e)==Cn.call(t)}return !1}(e,t,k,n,r,i,u);if(!(1&n)){var O=S&&$e.call(e,"__wrapped__"),T=C&&$e.call(t,"__wrapped__");if(O||T){var _=O?e.value():e,A=T?t.value():t;return u||(u=new Pn),i(_,A,n,r,u)}}if(!M)return !1;return u||(u=new Pn),function(e,t,n,r,i,o){var s=1&n,a=Vi(e),l=a.length,c=Vi(t).length;if(l!=c&&!s)return !1;var u=l;for(;u--;){var f=a[u];if(!(s?f in t:$e.call(t,f)))return !1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);var m=s;for(;++u<l;){f=a[u];var g=e[f],v=t[f];if(r)var y=s?r(v,g,f,t,e,o):r(g,v,f,e,t,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){h=!1;break}m||(m="constructor"==f);}if(h&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1);}return o.delete(e),o.delete(t),h}(e,t,n,r,i,u)}(e,t,n,r,br,i))}function wr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return !o;for(e=he(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return !1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return !1}else {var f=new Pn;if(r)var p=r(c,u,l,e,t,f);if(!(void 0===p?br(u,c,3,r,f):p))return !1}}return !0}function xr(e){return !(!Ws(e)||(t=e,Ce&&Ce in t))&&(Rs(e)?Ne:re).test(Mo(e));var t;}function kr(e){return "function"==typeof e?e:null==e?qa:"object"==typeof e?Es(e)?Tr(e[0],e[1]):Or(e):el(e)}function $r(e){if(!uo(e))return rn(e);var t=[];for(var n in he(e))$e.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Sr(e){if(!Ws(e))return function(e){var t=[];if(null!=e)for(var n in he(e))t.push(n);return t}(e);var t=uo(e),n=[];for(var r in e)("constructor"!=r||!t&&$e.call(e,r))&&n.push(r);return n}function Cr(e,t){return e<t}function Mr(e,t){var n=-1,r=Ds(e)?ce(e.length):[];return Qn(e,(function(e,i,o){r[++n]=t(e,i,o);})),r}function Or(e){var t=Xi(e);return 1==t.length&&t[0][2]?po(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Tr(e,t){return ao(e)&&fo(t)?po(Co(e),t):function(n){var r=ha(n,e);return void 0===r&&r===t?ma(n,e):br(t,r,3)}}function _r(e,t,n,r,i){e!==t&&or(t,(function(o,s){if(i||(i=new Pn),Ws(o))!function(e,t,n,r,i,o,s){var a=vo(e,n),l=vo(t,n),c=s.get(l);if(c)return void Bn(e,n,c);var u=o?o(a,l,n+"",e,t,s):void 0,f=void 0===u;if(f){var p=Es(l),d=!p&&Ps(l),h=!p&&!d&&Xs(l);u=l,p||d||h?Es(a)?u=a:js(a)?u=gi(a):d?(f=!1,u=ui(l,!0)):h?(f=!1,u=pi(l,!0)):u=[]:Us(l)||Ns(l)?(u=a,Ns(a)?u=oa(a):Ws(a)&&!Rs(a)||(u=ro(l))):f=!1;}f&&(s.set(l,u),i(u,l,r,o,s),s.delete(l));Bn(e,n,u);}(e,t,s,n,_r,r,i);else {var a=r?r(vo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Bn(e,s,a);}}),wa);}function Ar(e,t){var n=e.length;if(n)return oo(t+=t<0?n:0,n)?e[t]:void 0}function Nr(e,t,n){t=t.length?ft(t,(function(e){return Es(e)?function(t){return ur(t,1===e.length?e[0]:e)}:e})):[qa];var r=-1;return t=ft(t,Tt(Gi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Mr(e,(function(e,n,i){return {criteria:ft(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=di(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Er(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=ur(e,s);n(a,s)&&Fr(o,si(s,e),a);}return o}function Lr(e,t,n,r){var i=r?wt:bt,o=-1,s=t.length,a=e;for(e===t&&(t=gi(t)),n&&(a=ft(e,Tt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ge.call(a,l,1),Ge.call(e,l,1);return e}function Dr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;oo(i)?Ge.call(e,i,1):Zr(e,i);}}return e}function jr(e,t){return e+Zt(cn()*(t-e+1))}function Pr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Zt(t/2))&&(e+=e);}while(t);return n}function Ir(e,t){return wo(ho(e,t,qa),e+"")}function zr(e){return zn(Ta(e))}function Rr(e,t){var n=Ta(e);return $o(n,Jn(t,0,n.length))}function Fr(e,t,n,r){if(!Ws(e))return e;for(var i=-1,o=(t=si(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=Co(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=Ws(u)?u:oo(t[i+1])?[]:{});}Wn(a,l,c),a=a[l];}return e}var Br=vn?function(e,t){return vn.set(e,t),e}:qa,Wr=Kt?function(e,t){return Kt(e,"toString",{configurable:!0,enumerable:!1,value:Wa(t),writable:!0})}:qa;function Hr(e){return $o(Ta(e))}function Vr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ce(i);++r<i;)o[r]=e[r+t];return o}function qr(e,t){var n;return Qn(e,(function(e,r,i){return !(n=t(e,r,i))})),!!n}function Ur(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Ys(s)&&(n?s<=t:s<t)?r=o+1:i=o;}return i}return Kr(e,t,qa,n)}function Kr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,l=Ys(t),c=void 0===t;i<o;){var u=Zt((i+o)/2),f=n(e[u]),p=void 0!==f,d=null===f,h=f==f,m=Ys(f);if(s)var g=r||h;else g=c?h&&(r||p):a?h&&p&&(r||!d):l?h&&p&&!d&&(r||!m):!d&&!m&&(r?f<=t:f<t);g?i=u+1:o=u;}return sn(o,4294967294)}function Jr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ts(a,l)){var l=a;o[i++]=0===s?0:s;}}return o}function Gr(e){return "number"==typeof e?e:Ys(e)?NaN:+e}function Yr(e){if("string"==typeof e)return e;if(Es(e))return ft(e,Yr)+"";if(Ys(e))return Mn?Mn.call(e):"";var t=e+"";return "0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=ct,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=ut;else if(o>=200){var c=t?null:Pi(e);if(c)return Bt(c);s=!1,i=At,l=new jn;}else l=t?[]:a;e:for(;++r<o;){var u=e[r],f=t?t(u):u;if(u=n||0!==u?u:0,s&&f==f){for(var p=l.length;p--;)if(l[p]===f)continue e;t&&l.push(f),a.push(u);}else i(l,f,n)||(l!==a&&l.push(f),a.push(u));}return a}function Zr(e,t){return null==(e=mo(e,t=si(t,e)))||delete e[Co(zo(t))]}function Qr(e,t,n,r){return Fr(e,t,n(ur(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Vr(e,r?0:o,r?o+1:i):Vr(e,r?o+1:0,r?i:o)}function ti(e,t){var n=e;return n instanceof Nn&&(n=n.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ni(e,t,n){var r=e.length;if(r<2)return r?Xr(e[0]):[];for(var i=-1,o=ce(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=Zn(o[i]||s,e[a],t,n));return Xr(ir(o,1),t,n)}function ri(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a);}return s}function ii(e){return js(e)?e:[]}function oi(e){return "function"==typeof e?e:qa}function si(e,t){return Es(e)?e:ao(e,t)?[e]:So(sa(e))}var ai=Ir;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Vr(e,t,n)}var ci=Jt||function(e){return Ve.clearTimeout(e)};function ui(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function pi(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function di(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ys(e),s=void 0!==t,a=null===t,l=t==t,c=Ys(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return -1}return 0}function hi(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,l=t.length,c=on(o-s,0),u=ce(l+c),f=!r;++a<l;)u[a]=t[a];for(;++i<s;)(f||i<o)&&(u[n[i]]=e[i]);for(;c--;)u[a++]=e[i++];return u}function mi(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,l=-1,c=t.length,u=on(o-a,0),f=ce(u+c),p=!r;++i<u;)f[i]=e[i];for(var d=i;++l<c;)f[d+l]=t[l];for(;++s<a;)(p||i<o)&&(f[d+n[s]]=e[i++]);return f}function gi(e,t){var n=-1,r=e.length;for(t||(t=ce(r));++n<r;)t[n]=e[n];return t}function vi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Un(n,a,l):Wn(n,a,l);}return n}function yi(e,t){return function(n,r){var i=Es(n)?it:Vn,o=t?t():{};return i(n,e,Gi(r,2),o)}}function bi(e){return Ir((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&so(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=he(t);++r<i;){var a=n[r];a&&e(t,a,r,o);}return t}))}function wi(e,t){return function(n,r){if(null==n)return n;if(!Ds(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=he(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function xi(e){return function(t,n,r){for(var i=-1,o=he(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function ki(e){return function(t){var n=It(t=sa(t))?Vt(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function $i(e){return function(t){return dt(Ra(Na(t).replace(_e,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Tn(e.prototype),r=e.apply(n,t);return Ws(r)?r:n}}function Ci(e){return function(t,n,r){var i=he(t);if(!Ds(t)){var o=Gi(n,3);t=ba(t),n=function(e){return o(i[e],e,i)};}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Mi(e){return Hi((function(t){var r=t.length,i=r,o=An.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new ve(n);if(o&&!a&&"wrapper"==Ki(s))var a=new An([],!0);}for(i=a?i:r;++i<r;){var l=Ki(s=t[i]),c="wrapper"==l?Ui(s):void 0;a=c&&lo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[Ki(c[0])].apply(a,c[3]):1==s.length&&lo(s)?a[l]():a.thru(s);}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&Es(n))return a.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Oi(e,t,n,r,i,o,s,a,l,c){var u=128&t,f=1&t,p=2&t,d=24&t,h=512&t,m=p?void 0:Si(e);return function g(){for(var v=arguments.length,y=ce(v),b=v;b--;)y[b]=arguments[b];if(d)var w=Ji(g),x=Lt(y,w);if(r&&(y=hi(y,r,i,d)),o&&(y=mi(y,o,s,d)),v-=x,d&&v<c){var k=Ft(y,w);return Di(e,t,Oi,g.placeholder,n,y,k,a,l,c-v)}var $=f?n:this,S=p?$[e]:e;return v=y.length,a?y=go(y,a):h&&v>1&&y.reverse(),u&&l<v&&(y.length=l),this&&this!==Ve&&this instanceof g&&(S=m||Si(S)),S.apply($,y)}}function Ti(e,t){return function(n,r){return function(e,t,n,r){return ar(e,(function(e,i,o){t(r,n(e),i,o);})),r}(n,e,t(r),{})}}function _i(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Yr(n),r=Yr(r)):(n=Gr(n),r=Gr(r)),i=e(n,r);}return i}}function Ai(e){return Hi((function(t){return t=ft(t,Tt(Gi())),Ir((function(n){var r=this;return e(t,(function(e){return rt(e,r,n)}))}))}))}function Ni(e,t){var n=(t=void 0===t?" ":Yr(t)).length;if(n<2)return n?Pr(t,e):t;var r=Pr(t,Xt(e/Ht(t)));return It(t)?li(Vt(r),0,e).join(""):r.slice(0,e)}function Ei(e){return function(t,n,r){return r&&"number"!=typeof r&&so(t,n,r)&&(n=r=void 0),t=ta(t),void 0===n?(n=t,t=0):n=ta(n),function(e,t,n,r){for(var i=-1,o=on(Xt((t-e)/(n||1)),0),s=ce(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:ta(r),e)}}function Li(e){return function(t,n){return "string"==typeof t&&"string"==typeof n||(t=ia(t),n=ia(n)),e(t,n)}}function Di(e,t,n,r,i,o,s,a,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var f=[e,t,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,l,c],p=n.apply(void 0,f);return lo(e)&&yo(p,f),p.placeholder=r,xo(p,e,t)}function ji(e){var t=de[e];return function(e,n){if(e=ia(e),(n=null==n?0:sn(na(n),292))&&tn(e)){var r=(sa(e)+"e").split("e");return +((r=(sa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Pi=hn&&1/Bt(new hn([,-0]))[1]==1/0?function(e){return new hn(e)}:Ya;function Ii(e){return function(t){var n=to(t);return n==p?zt(t):n==g?Wt(t):function(e,t){return ft(t,(function(t){return [t,e[t]]}))}(t,e(t))}}function zi(e,t,i,o,s,a,l,c){var u=2&t;if(!u&&"function"!=typeof e)throw new ve(n);var f=o?o.length:0;if(f||(t&=-97,o=s=void 0),l=void 0===l?l:on(na(l),0),c=void 0===c?c:na(c),f-=s?s.length:0,64&t){var p=o,d=s;o=s=void 0;}var h=u?void 0:Ui(e),m=[e,t,i,o,s,p,d,a,l,c];if(h&&function(e,t){var n=e[1],i=t[1],o=n|i,s=o<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?hi(c,l,t[4]):l,e[4]=c?Ft(e[3],r):t[4];}(l=t[5])&&(c=e[5],e[5]=c?mi(c,l,t[6]):l,e[6]=c?Ft(e[5],r):t[6]);(l=t[7])&&(e[7]=l);128&i&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o;}(m,h),e=m[0],t=m[1],i=m[2],o=m[3],s=m[4],!(c=m[9]=void 0===m[9]?u?0:e.length:on(m[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var r=Si(e);return function i(){for(var o=arguments.length,s=ce(o),a=o,l=Ji(i);a--;)s[a]=arguments[a];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:Ft(s,l);if((o-=c.length)<n)return Di(e,t,Oi,i.placeholder,void 0,s,c,void 0,void 0,n-o);var u=this&&this!==Ve&&this instanceof i?r:e;return rt(u,this,s)}}(e,t,c):32!=t&&33!=t||s.length?Oi.apply(void 0,m):function(e,t,n,r){var i=1&t,o=Si(e);return function t(){for(var s=-1,a=arguments.length,l=-1,c=r.length,u=ce(c+a),f=this&&this!==Ve&&this instanceof t?o:e;++l<c;)u[l]=r[l];for(;a--;)u[l++]=arguments[++s];return rt(f,i?n:this,u)}}(e,t,i,o);else var g=function(e,t,n){var r=1&t,i=Si(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,i);return xo((h?Br:yo)(g,m),e,t)}function Ri(e,t,n,r){return void 0===e||Ts(e,we[n])&&!$e.call(r,n)?t:e}function Fi(e,t,n,r,i,o){return Ws(e)&&Ws(t)&&(o.set(t,e),_r(e,t,void 0,Fi,o),o.delete(t)),e}function Bi(e){return Us(e)?void 0:e}function Wi(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return !1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,p=!0,d=2&n?new jn:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var h=e[f],m=t[f];if(r)var g=s?r(m,h,f,t,e,o):r(h,m,f,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(d){if(!mt(t,(function(e,t){if(!At(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)}))){p=!1;break}}else if(h!==m&&!i(h,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Hi(e){return wo(ho(e,void 0,Lo),e+"")}function Vi(e){return fr(e,ba,Qi)}function qi(e){return fr(e,wa,eo)}var Ui=vn?function(e){return vn.get(e)}:Ya;function Ki(e){for(var t=e.name+"",n=yn[t],r=$e.call(yn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ji(e){return ($e.call(On,"placeholder")?On:e).placeholder}function Gi(){var e=On.iteratee||Ua;return e=e===Ua?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Yi(e,t){var n,r,i=e.__data__;return ("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=ba(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)];}return t}function Zi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var Qi=Qt?function(e){return null==e?[]:(e=he(e),lt(Qt(e),(function(t){return Je.call(e,t)})))}:rl,eo=Qt?function(e){for(var t=[];e;)pt(t,Qi(e)),e=qe(e);return t}:rl,to=pr;function no(e,t,n){for(var r=-1,i=(t=si(t,e)).length,o=!1;++r<i;){var s=Co(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s];}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Bs(i)&&oo(s,i)&&(Es(e)||Ns(e))}function ro(e){return "function"!=typeof e.constructor||uo(e)?{}:Tn(qe(e))}function io(e){return Es(e)||Ns(e)||!!(Ze&&e&&e[Ze])}function oo(e,t){var n=typeof e;return !!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&oe.test(e))&&e>-1&&e%1==0&&e<t}function so(e,t,n){if(!Ws(n))return !1;var r=typeof t;return !!("number"==r?Ds(n)&&oo(t,n.length):"string"==r&&t in n)&&Ts(n[t],e)}function ao(e,t){if(Es(e))return !1;var n=typeof e;return !("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ys(e))||(B.test(e)||!F.test(e)||null!=t&&e in he(t))}function lo(e){var t=Ki(e),n=On[t];if("function"!=typeof n||!(t in Nn.prototype))return !1;if(e===n)return !0;var r=Ui(n);return !!r&&e===r[0]}(fn&&to(new fn(new ArrayBuffer(1)))!=x||pn&&to(new pn)!=p||dn&&"[object Promise]"!=to(dn.resolve())||hn&&to(new hn)!=g||mn&&to(new mn)!=b)&&(to=function(e){var t=pr(e),n=t==h?e.constructor:void 0,r=n?Mo(n):"";if(r)switch(r){case bn:return x;case wn:return p;case xn:return "[object Promise]";case kn:return g;case $n:return b}return t});var co=xe?Rs:il;function uo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fo(e){return e==e&&!Ws(e)}function po(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in he(n)))}}function ho(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=on(r.length-t,0),s=ce(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=ce(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),rt(e,this,a)}}function mo(e,t){return t.length<2?e:ur(e,Vr(t,0,-1))}function go(e,t){for(var n=e.length,r=sn(t.length,n),i=gi(e);r--;){var o=t[r];e[r]=oo(o,n)?i[o]:void 0;}return e}function vo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var yo=ko(Br),bo=Yt||function(e,t){return Ve.setTimeout(e,t)},wo=ko(Wr);function xo(e,t,n){var r=t+"";return wo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return ot(i,(function(n){var r="_."+n[0];t&n[1]&&!ct(e,r)&&e.push(r);})),e.sort()}(function(e){var t=e.match(G);return t?t[1].split(Y):[]}(r),n)))}function ko(e){var t=0,n=0;return function(){var r=an(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function $o(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=jr(n,i),s=e[o];e[o]=e[n],e[n]=s;}return e.length=t,e}var So=function(e){var t=ks(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(W,(function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e);})),t}));function Co(e){if("string"==typeof e||Ys(e))return e;var t=e+"";return "0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return ""}function Oo(e){if(e instanceof Nn)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var To=Ir((function(e,t){return js(e)?Zn(e,ir(t,1,js,!0)):[]})),_o=Ir((function(e,t){var n=zo(t);return js(n)&&(n=void 0),js(e)?Zn(e,ir(t,1,js,!0),Gi(n,2)):[]})),Ao=Ir((function(e,t){var n=zo(t);return js(n)&&(n=void 0),js(e)?Zn(e,ir(t,1,js,!0),void 0,n):[]}));function No(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:na(n);return i<0&&(i=on(r+i,0)),yt(e,Gi(t,3),i)}function Eo(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r-1;return void 0!==n&&(i=na(n),i=n<0?on(r+i,0):sn(i,r-1)),yt(e,Gi(t,3),i,!0)}function Lo(e){return (null==e?0:e.length)?ir(e,1):[]}function Do(e){return e&&e.length?e[0]:void 0}var jo=Ir((function(e){var t=ft(e,ii);return t.length&&t[0]===e[0]?gr(t):[]})),Po=Ir((function(e){var t=zo(e),n=ft(e,ii);return t===zo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Gi(t,2)):[]})),Io=Ir((function(e){var t=zo(e),n=ft(e,ii);return (t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function zo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ro=Ir(Fo);function Fo(e,t){return e&&e.length&&t&&t.length?Lr(e,t):e}var Bo=Hi((function(e,t){var n=null==e?0:e.length,r=Kn(e,t);return Dr(e,ft(t,(function(e){return oo(e,n)?+e:e})).sort(di)),r}));function Wo(e){return null==e?e:un.call(e)}var Ho=Ir((function(e){return Xr(ir(e,1,js,!0))})),Vo=Ir((function(e){var t=zo(e);return js(t)&&(t=void 0),Xr(ir(e,1,js,!0),Gi(t,2))})),qo=Ir((function(e){var t=zo(e);return t="function"==typeof t?t:void 0,Xr(ir(e,1,js,!0),void 0,t)}));function Uo(e){if(!e||!e.length)return [];var t=0;return e=lt(e,(function(e){if(js(e))return t=on(e.length,t),!0})),Ot(t,(function(t){return ft(e,$t(t))}))}function Ko(e,t){if(!e||!e.length)return [];var n=Uo(e);return null==t?n:ft(n,(function(e){return rt(t,void 0,e)}))}var Jo=Ir((function(e,t){return js(e)?Zn(e,t):[]})),Go=Ir((function(e){return ni(lt(e,js))})),Yo=Ir((function(e){var t=zo(e);return js(t)&&(t=void 0),ni(lt(e,js),Gi(t,2))})),Xo=Ir((function(e){var t=zo(e);return t="function"==typeof t?t:void 0,ni(lt(e,js),void 0,t)})),Zo=Ir(Uo);var Qo=Ir((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ko(e,n)}));function es(e){var t=On(e);return t.__chain__=!0,t}function ts(e,t){return t(e)}var ns=Hi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Kn(t,e)};return !(t>1||this.__actions__.length)&&r instanceof Nn&&oo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ts,args:[i],thisArg:void 0}),new An(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var rs=yi((function(e,t,n){$e.call(e,n)?++e[n]:Un(e,n,1);}));var is=Ci(No),os=Ci(Eo);function ss(e,t){return (Es(e)?ot:Qn)(e,Gi(t,3))}function as(e,t){return (Es(e)?st:er)(e,Gi(t,3))}var ls=yi((function(e,t,n){$e.call(e,n)?e[n].push(t):Un(e,n,[t]);}));var cs=Ir((function(e,t,n){var r=-1,i="function"==typeof t,o=Ds(e)?ce(e.length):[];return Qn(e,(function(e){o[++r]=i?rt(t,e,n):vr(e,t,n);})),o})),us=yi((function(e,t,n){Un(e,n,t);}));function fs(e,t){return (Es(e)?ft:Mr)(e,Gi(t,3))}var ps=yi((function(e,t,n){e[n?0:1].push(t);}),(function(){return [[],[]]}));var ds=Ir((function(e,t){if(null==e)return [];var n=t.length;return n>1&&so(e,t[0],t[1])?t=[]:n>2&&so(t[0],t[1],t[2])&&(t=[t[0]]),Nr(e,ir(t,1),[])})),hs=Gt||function(){return Ve.Date.now()};function ms(e,t,n){return t=n?void 0:t,zi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function gs(e,t){var r;if("function"!=typeof t)throw new ve(n);return e=na(e),function(){return --e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var vs=Ir((function(e,t,n){var r=1;if(n.length){var i=Ft(n,Ji(vs));r|=32;}return zi(e,r,t,n,i)})),ys=Ir((function(e,t,n){var r=3;if(n.length){var i=Ft(n,Ji(ys));r|=32;}return zi(t,r,e,n,i)}));function bs(e,t,r){var i,o,s,a,l,c,u=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new ve(n);function h(t){var n=i,r=o;return i=o=void 0,u=t,a=e.apply(r,n)}function m(e){return u=e,l=bo(v,t),f?h(e):a}function g(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=s}function v(){var e=hs();if(g(e))return y(e);l=bo(v,function(e){var n=t-(e-c);return p?sn(n,s-(e-u)):n}(e));}function y(e){return l=void 0,d&&i?h(e):(i=o=void 0,a)}function b(){var e=hs(),n=g(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return m(c);if(p)return ci(l),l=bo(v,t),h(c)}return void 0===l&&(l=bo(v,t)),a}return t=ia(t)||0,Ws(r)&&(f=!!r.leading,s=(p="maxWait"in r)?on(ia(r.maxWait)||0,t):s,d="trailing"in r?!!r.trailing:d),b.cancel=function(){void 0!==l&&ci(l),u=0,i=c=o=l=void 0;},b.flush=function(){return void 0===l?a:y(hs())},b}var ws=Ir((function(e,t){return Xn(e,1,t)})),xs=Ir((function(e,t,n){return Xn(e,ia(t)||0,n)}));function ks(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(ks.Cache||Dn),r}function $s(e){if("function"!=typeof e)throw new ve(n);return function(){var t=arguments;switch(t.length){case 0:return !e.call(this);case 1:return !e.call(this,t[0]);case 2:return !e.call(this,t[0],t[1]);case 3:return !e.call(this,t[0],t[1],t[2])}return !e.apply(this,t)}}ks.Cache=Dn;var Ss=ai((function(e,t){var n=(t=1==t.length&&Es(t[0])?ft(t[0],Tt(Gi())):ft(ir(t,1),Tt(Gi()))).length;return Ir((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return rt(e,this,r)}))})),Cs=Ir((function(e,t){return zi(e,32,void 0,t,Ft(t,Ji(Cs)))})),Ms=Ir((function(e,t){return zi(e,64,void 0,t,Ft(t,Ji(Ms)))})),Os=Hi((function(e,t){return zi(e,256,void 0,void 0,void 0,t)}));function Ts(e,t){return e===t||e!=e&&t!=t}var _s=Li(dr),As=Li((function(e,t){return e>=t})),Ns=yr(function(){return arguments}())?yr:function(e){return Hs(e)&&$e.call(e,"callee")&&!Je.call(e,"callee")},Es=ce.isArray,Ls=Ye?Tt(Ye):function(e){return Hs(e)&&pr(e)==w};function Ds(e){return null!=e&&Bs(e.length)&&!Rs(e)}function js(e){return Hs(e)&&Ds(e)}var Ps=en||il,Is=Xe?Tt(Xe):function(e){return Hs(e)&&pr(e)==l};function zs(e){if(!Hs(e))return !1;var t=pr(e);return t==c||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Us(e)}function Rs(e){if(!Ws(e))return !1;var t=pr(e);return t==u||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fs(e){return "number"==typeof e&&e==na(e)}function Bs(e){return "number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ws(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Hs(e){return null!=e&&"object"==typeof e}var Vs=Qe?Tt(Qe):function(e){return Hs(e)&&to(e)==p};function qs(e){return "number"==typeof e||Hs(e)&&pr(e)==d}function Us(e){if(!Hs(e)||pr(e)!=h)return !1;var t=qe(e);if(null===t)return !0;var n=$e.call(t,"constructor")&&t.constructor;return "function"==typeof n&&n instanceof n&&ke.call(n)==Oe}var Ks=et?Tt(et):function(e){return Hs(e)&&pr(e)==m};var Js=tt?Tt(tt):function(e){return Hs(e)&&to(e)==g};function Gs(e){return "string"==typeof e||!Es(e)&&Hs(e)&&pr(e)==v}function Ys(e){return "symbol"==typeof e||Hs(e)&&pr(e)==y}var Xs=nt?Tt(nt):function(e){return Hs(e)&&Bs(e.length)&&!!Ie[pr(e)]};var Zs=Li(Cr),Qs=Li((function(e,t){return e<=t}));function ea(e){if(!e)return [];if(Ds(e))return Gs(e)?Vt(e):gi(e);if(gt&&e[gt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[gt]());var t=to(e);return (t==p?zt:t==g?Bt:Ta)(e)}function ta(e){return e?(e=ia(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function na(e){var t=ta(e),n=t%1;return t==t?n?t-n:t:0}function ra(e){return e?Jn(na(e),0,4294967295):0}function ia(e){if("number"==typeof e)return e;if(Ys(e))return NaN;if(Ws(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ws(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(q,"");var n=ne.test(e);return n||ie.test(e)?Be(e.slice(2),n?2:8):te.test(e)?NaN:+e}function oa(e){return vi(e,wa(e))}function sa(e){return null==e?"":Yr(e)}var aa=bi((function(e,t){if(uo(t)||Ds(t))vi(t,ba(t),e);else for(var n in t)$e.call(t,n)&&Wn(e,n,t[n]);})),la=bi((function(e,t){vi(t,wa(t),e);})),ca=bi((function(e,t,n,r){vi(t,wa(t),e,r);})),ua=bi((function(e,t,n,r){vi(t,ba(t),e,r);})),fa=Hi(Kn);var pa=Ir((function(e,t){e=he(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&so(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=wa(o),a=-1,l=s.length;++a<l;){var c=s[a],u=e[c];(void 0===u||Ts(u,we[c])&&!$e.call(e,c))&&(e[c]=o[c]);}return e})),da=Ir((function(e){return e.push(void 0,Fi),rt(ka,void 0,e)}));function ha(e,t,n){var r=null==e?void 0:ur(e,t);return void 0===r?n:r}function ma(e,t){return null!=e&&no(e,t,mr)}var ga=Ti((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n;}),Wa(qa)),va=Ti((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),$e.call(e,t)?e[t].push(n):e[t]=[n];}),Gi),ya=Ir(vr);function ba(e){return Ds(e)?In(e):$r(e)}function wa(e){return Ds(e)?In(e,!0):Sr(e)}var xa=bi((function(e,t,n){_r(e,t,n);})),ka=bi((function(e,t,n,r){_r(e,t,n,r);})),$a=Hi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ft(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),vi(e,qi(e),n),r&&(n=Gn(n,7,Bi));for(var i=t.length;i--;)Zr(n,t[i]);return n}));var Sa=Hi((function(e,t){return null==e?{}:function(e,t){return Er(e,t,(function(t,n){return ma(e,n)}))}(e,t)}));function Ca(e,t){if(null==e)return {};var n=ft(qi(e),(function(e){return [e]}));return t=Gi(t),Er(e,n,(function(e,n){return t(e,n[0])}))}var Ma=Ii(ba),Oa=Ii(wa);function Ta(e){return null==e?[]:_t(e,ba(e))}var _a=$i((function(e,t,n){return t=t.toLowerCase(),e+(n?Aa(t):t)}));function Aa(e){return za(sa(e).toLowerCase())}function Na(e){return (e=sa(e))&&e.replace(se,Dt).replace(Ae,"")}var Ea=$i((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),La=$i((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Da=ki("toLowerCase");var ja=$i((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Pa=$i((function(e,t,n){return e+(n?" ":"")+za(t)}));var Ia=$i((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),za=ki("toUpperCase");function Ra(e,t,n){return e=sa(e),void 0===(t=n?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Ee)||[]}(e):function(e){return e.match(X)||[]}(e):e.match(t)||[]}var Fa=Ir((function(e,t){try{return rt(e,void 0,t)}catch(e){return zs(e)?e:new fe(e)}})),Ba=Hi((function(e,t){return ot(t,(function(t){t=Co(t),Un(e,t,vs(e[t],e));})),e}));function Wa(e){return function(){return e}}var Ha=Mi(),Va=Mi(!0);function qa(e){return e}function Ua(e){return kr("function"==typeof e?e:Gn(e,1))}var Ka=Ir((function(e,t){return function(n){return vr(n,e,t)}})),Ja=Ir((function(e,t){return function(n){return vr(e,n,t)}}));function Ga(e,t,n){var r=ba(t),i=cr(t,r);null!=n||Ws(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,ba(t)));var o=!(Ws(n)&&"chain"in n&&!n.chain),s=Rs(e);return ot(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))});})),e}function Ya(){}var Xa=Ai(ft),Za=Ai(at),Qa=Ai(mt);function el(e){return ao(e)?$t(Co(e)):function(e){return function(t){return ur(t,e)}}(e)}var tl=Ei(),nl=Ei(!0);function rl(){return []}function il(){return !1}var ol=_i((function(e,t){return e+t}),0),sl=ji("ceil"),al=_i((function(e,t){return e/t}),1),ll=ji("floor");var cl,ul=_i((function(e,t){return e*t}),1),fl=ji("round"),pl=_i((function(e,t){return e-t}),0);return On.after=function(e,t){if("function"!=typeof t)throw new ve(n);return e=na(e),function(){if(--e<1)return t.apply(this,arguments)}},On.ary=ms,On.assign=aa,On.assignIn=la,On.assignInWith=ca,On.assignWith=ua,On.at=fa,On.before=gs,On.bind=vs,On.bindAll=Ba,On.bindKey=ys,On.castArray=function(){if(!arguments.length)return [];var e=arguments[0];return Es(e)?e:[e]},On.chain=es,On.chunk=function(e,t,n){t=(n?so(e,t,n):void 0===t)?1:on(na(t),0);var r=null==e?0:e.length;if(!r||t<1)return [];for(var i=0,o=0,s=ce(Xt(r/t));i<r;)s[o++]=Vr(e,i,i+=t);return s},On.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o);}return i},On.concat=function(){var e=arguments.length;if(!e)return [];for(var t=ce(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pt(Es(n)?gi(n):[n],ir(t,1))},On.cond=function(e){var t=null==e?0:e.length,r=Gi();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(n);return [r(e[0]),e[1]]})):[],Ir((function(n){for(var r=-1;++r<t;){var i=e[r];if(rt(i[0],this,n))return rt(i[1],this,n)}}))},On.conforms=function(e){return function(e){var t=ba(e);return function(n){return Yn(n,e,t)}}(Gn(e,1))},On.constant=Wa,On.countBy=rs,On.create=function(e,t){var n=Tn(e);return null==t?n:qn(n,t)},On.curry=function e(t,n,r){var i=zi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.curryRight=function e(t,n,r){var i=zi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.debounce=bs,On.defaults=pa,On.defaultsDeep=da,On.defer=ws,On.delay=xs,On.difference=To,On.differenceBy=_o,On.differenceWith=Ao,On.drop=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=n||void 0===t?1:na(t))<0?0:t,r):[]},On.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,0,(t=r-(t=n||void 0===t?1:na(t)))<0?0:t):[]},On.dropRightWhile=function(e,t){return e&&e.length?ei(e,Gi(t,3),!0,!0):[]},On.dropWhile=function(e,t){return e&&e.length?ei(e,Gi(t,3),!0):[]},On.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&so(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=na(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:na(r))<0&&(r+=i),r=n>r?0:ra(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},On.filter=function(e,t){return (Es(e)?lt:rr)(e,Gi(t,3))},On.flatMap=function(e,t){return ir(fs(e,t),1)},On.flatMapDeep=function(e,t){return ir(fs(e,t),1/0)},On.flatMapDepth=function(e,t,n){return n=void 0===n?1:na(n),ir(fs(e,t),n)},On.flatten=Lo,On.flattenDeep=function(e){return (null==e?0:e.length)?ir(e,1/0):[]},On.flattenDepth=function(e,t){return (null==e?0:e.length)?ir(e,t=void 0===t?1:na(t)):[]},On.flip=function(e){return zi(e,512)},On.flow=Ha,On.flowRight=Va,On.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1];}return r},On.functions=function(e){return null==e?[]:cr(e,ba(e))},On.functionsIn=function(e){return null==e?[]:cr(e,wa(e))},On.groupBy=ls,On.initial=function(e){return (null==e?0:e.length)?Vr(e,0,-1):[]},On.intersection=jo,On.intersectionBy=Po,On.intersectionWith=Io,On.invert=ga,On.invertBy=va,On.invokeMap=cs,On.iteratee=Ua,On.keyBy=us,On.keys=ba,On.keysIn=wa,On.map=fs,On.mapKeys=function(e,t){var n={};return t=Gi(t,3),ar(e,(function(e,r,i){Un(n,t(e,r,i),e);})),n},On.mapValues=function(e,t){var n={};return t=Gi(t,3),ar(e,(function(e,r,i){Un(n,r,t(e,r,i));})),n},On.matches=function(e){return Or(Gn(e,1))},On.matchesProperty=function(e,t){return Tr(e,Gn(t,1))},On.memoize=ks,On.merge=xa,On.mergeWith=ka,On.method=Ka,On.methodOf=Ja,On.mixin=Ga,On.negate=$s,On.nthArg=function(e){return e=na(e),Ir((function(t){return Ar(t,e)}))},On.omit=$a,On.omitBy=function(e,t){return Ca(e,$s(Gi(t)))},On.once=function(e){return gs(2,e)},On.orderBy=function(e,t,n,r){return null==e?[]:(Es(t)||(t=null==t?[]:[t]),Es(n=r?void 0:n)||(n=null==n?[]:[n]),Nr(e,t,n))},On.over=Xa,On.overArgs=Ss,On.overEvery=Za,On.overSome=Qa,On.partial=Cs,On.partialRight=Ms,On.partition=ps,On.pick=Sa,On.pickBy=Ca,On.property=el,On.propertyOf=function(e){return function(t){return null==e?void 0:ur(e,t)}},On.pull=Ro,On.pullAll=Fo,On.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,Gi(n,2)):e},On.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,void 0,n):e},On.pullAt=Bo,On.range=tl,On.rangeRight=nl,On.rearg=Os,On.reject=function(e,t){return (Es(e)?lt:rr)(e,$s(Gi(t,3)))},On.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Gi(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r));}return Dr(e,i),n},On.rest=function(e,t){if("function"!=typeof e)throw new ve(n);return Ir(e,t=void 0===t?t:na(t))},On.reverse=Wo,On.sampleSize=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:na(t),(Es(e)?Rn:Rr)(e,t)},On.set=function(e,t,n){return null==e?e:Fr(e,t,n)},On.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},On.shuffle=function(e){return (Es(e)?Fn:Hr)(e)},On.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&so(e,t,n)?(t=0,n=r):(t=null==t?0:na(t),n=void 0===n?r:na(n)),Vr(e,t,n)):[]},On.sortBy=ds,On.sortedUniq=function(e){return e&&e.length?Jr(e):[]},On.sortedUniqBy=function(e,t){return e&&e.length?Jr(e,Gi(t,2)):[]},On.split=function(e,t,n){return n&&"number"!=typeof n&&so(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=sa(e))&&("string"==typeof t||null!=t&&!Ks(t))&&!(t=Yr(t))&&It(e)?li(Vt(e),0,n):e.split(t,n):[]},On.spread=function(e,t){if("function"!=typeof e)throw new ve(n);return t=null==t?0:on(na(t),0),Ir((function(n){var r=n[t],i=li(n,0,t);return r&&pt(i,r),rt(e,this,i)}))},On.tail=function(e){var t=null==e?0:e.length;return t?Vr(e,1,t):[]},On.take=function(e,t,n){return e&&e.length?Vr(e,0,(t=n||void 0===t?1:na(t))<0?0:t):[]},On.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Vr(e,(t=r-(t=n||void 0===t?1:na(t)))<0?0:t,r):[]},On.takeRightWhile=function(e,t){return e&&e.length?ei(e,Gi(t,3),!1,!0):[]},On.takeWhile=function(e,t){return e&&e.length?ei(e,Gi(t,3)):[]},On.tap=function(e,t){return t(e),e},On.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new ve(n);return Ws(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),bs(e,t,{leading:i,maxWait:t,trailing:o})},On.thru=ts,On.toArray=ea,On.toPairs=Ma,On.toPairsIn=Oa,On.toPath=function(e){return Es(e)?ft(e,Co):Ys(e)?[e]:gi(So(sa(e)))},On.toPlainObject=oa,On.transform=function(e,t,n){var r=Es(e),i=r||Ps(e)||Xs(e);if(t=Gi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ws(e)&&Rs(o)?Tn(qe(e)):{};}return (i?ot:ar)(e,(function(e,r,i){return t(n,e,r,i)})),n},On.unary=function(e){return ms(e,1)},On.union=Ho,On.unionBy=Vo,On.unionWith=qo,On.uniq=function(e){return e&&e.length?Xr(e):[]},On.uniqBy=function(e,t){return e&&e.length?Xr(e,Gi(t,2)):[]},On.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},On.unset=function(e,t){return null==e||Zr(e,t)},On.unzip=Uo,On.unzipWith=Ko,On.update=function(e,t,n){return null==e?e:Qr(e,t,oi(n))},On.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,oi(n),r)},On.values=Ta,On.valuesIn=function(e){return null==e?[]:_t(e,wa(e))},On.without=Jo,On.words=Ra,On.wrap=function(e,t){return Cs(oi(t),e)},On.xor=Go,On.xorBy=Yo,On.xorWith=Xo,On.zip=Zo,On.zipObject=function(e,t){return ri(e||[],t||[],Wn)},On.zipObjectDeep=function(e,t){return ri(e||[],t||[],Fr)},On.zipWith=Qo,On.entries=Ma,On.entriesIn=Oa,On.extend=la,On.extendWith=ca,Ga(On,On),On.add=ol,On.attempt=Fa,On.camelCase=_a,On.capitalize=Aa,On.ceil=sl,On.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=ia(n))==n?n:0),void 0!==t&&(t=(t=ia(t))==t?t:0),Jn(ia(e),t,n)},On.clone=function(e){return Gn(e,4)},On.cloneDeep=function(e){return Gn(e,5)},On.cloneDeepWith=function(e,t){return Gn(e,5,t="function"==typeof t?t:void 0)},On.cloneWith=function(e,t){return Gn(e,4,t="function"==typeof t?t:void 0)},On.conformsTo=function(e,t){return null==t||Yn(e,t,ba(t))},On.deburr=Na,On.defaultTo=function(e,t){return null==e||e!=e?t:e},On.divide=al,On.endsWith=function(e,t,n){e=sa(e),t=Yr(t);var r=e.length,i=n=void 0===n?r:Jn(na(n),0,r);return (n-=t.length)>=0&&e.slice(n,i)==t},On.eq=Ts,On.escape=function(e){return (e=sa(e))&&P.test(e)?e.replace(D,jt):e},On.escapeRegExp=function(e){return (e=sa(e))&&V.test(e)?e.replace(H,"\\$&"):e},On.every=function(e,t,n){var r=Es(e)?at:tr;return n&&so(e,t,n)&&(t=void 0),r(e,Gi(t,3))},On.find=is,On.findIndex=No,On.findKey=function(e,t){return vt(e,Gi(t,3),ar)},On.findLast=os,On.findLastIndex=Eo,On.findLastKey=function(e,t){return vt(e,Gi(t,3),lr)},On.floor=ll,On.forEach=ss,On.forEachRight=as,On.forIn=function(e,t){return null==e?e:or(e,Gi(t,3),wa)},On.forInRight=function(e,t){return null==e?e:sr(e,Gi(t,3),wa)},On.forOwn=function(e,t){return e&&ar(e,Gi(t,3))},On.forOwnRight=function(e,t){return e&&lr(e,Gi(t,3))},On.get=ha,On.gt=_s,On.gte=As,On.has=function(e,t){return null!=e&&no(e,t,hr)},On.hasIn=ma,On.head=Do,On.identity=qa,On.includes=function(e,t,n,r){e=Ds(e)?e:Ta(e),n=n&&!r?na(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Gs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},On.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:na(n);return i<0&&(i=on(r+i,0)),bt(e,t,i)},On.inRange=function(e,t,n){return t=ta(t),void 0===n?(n=t,t=0):n=ta(n),function(e,t,n){return e>=sn(t,n)&&e<on(t,n)}(e=ia(e),t,n)},On.invoke=ya,On.isArguments=Ns,On.isArray=Es,On.isArrayBuffer=Ls,On.isArrayLike=Ds,On.isArrayLikeObject=js,On.isBoolean=function(e){return !0===e||!1===e||Hs(e)&&pr(e)==a},On.isBuffer=Ps,On.isDate=Is,On.isElement=function(e){return Hs(e)&&1===e.nodeType&&!Us(e)},On.isEmpty=function(e){if(null==e)return !0;if(Ds(e)&&(Es(e)||"string"==typeof e||"function"==typeof e.splice||Ps(e)||Xs(e)||Ns(e)))return !e.length;var t=to(e);if(t==p||t==g)return !e.size;if(uo(e))return !$r(e).length;for(var n in e)if($e.call(e,n))return !1;return !0},On.isEqual=function(e,t){return br(e,t)},On.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},On.isError=zs,On.isFinite=function(e){return "number"==typeof e&&tn(e)},On.isFunction=Rs,On.isInteger=Fs,On.isLength=Bs,On.isMap=Vs,On.isMatch=function(e,t){return e===t||wr(e,t,Xi(t))},On.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Xi(t),n)},On.isNaN=function(e){return qs(e)&&e!=+e},On.isNative=function(e){if(co(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},On.isNil=function(e){return null==e},On.isNull=function(e){return null===e},On.isNumber=qs,On.isObject=Ws,On.isObjectLike=Hs,On.isPlainObject=Us,On.isRegExp=Ks,On.isSafeInteger=function(e){return Fs(e)&&e>=-9007199254740991&&e<=9007199254740991},On.isSet=Js,On.isString=Gs,On.isSymbol=Ys,On.isTypedArray=Xs,On.isUndefined=function(e){return void 0===e},On.isWeakMap=function(e){return Hs(e)&&to(e)==b},On.isWeakSet=function(e){return Hs(e)&&"[object WeakSet]"==pr(e)},On.join=function(e,t){return null==e?"":nn.call(e,t)},On.kebabCase=Ea,On.last=zo,On.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r;return void 0!==n&&(i=(i=na(n))<0?on(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):yt(e,xt,i,!0)},On.lowerCase=La,On.lowerFirst=Da,On.lt=Zs,On.lte=Qs,On.max=function(e){return e&&e.length?nr(e,qa,dr):void 0},On.maxBy=function(e,t){return e&&e.length?nr(e,Gi(t,2),dr):void 0},On.mean=function(e){return kt(e,qa)},On.meanBy=function(e,t){return kt(e,Gi(t,2))},On.min=function(e){return e&&e.length?nr(e,qa,Cr):void 0},On.minBy=function(e,t){return e&&e.length?nr(e,Gi(t,2),Cr):void 0},On.stubArray=rl,On.stubFalse=il,On.stubObject=function(){return {}},On.stubString=function(){return ""},On.stubTrue=function(){return !0},On.multiply=ul,On.nth=function(e,t){return e&&e.length?Ar(e,na(t)):void 0},On.noConflict=function(){return Ve._===this&&(Ve._=Te),this},On.noop=Ya,On.now=hs,On.pad=function(e,t,n){e=sa(e);var r=(t=na(t))?Ht(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ni(Zt(i),n)+e+Ni(Xt(i),n)},On.padEnd=function(e,t,n){e=sa(e);var r=(t=na(t))?Ht(e):0;return t&&r<t?e+Ni(t-r,n):e},On.padStart=function(e,t,n){e=sa(e);var r=(t=na(t))?Ht(e):0;return t&&r<t?Ni(t-r,n)+e:e},On.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(sa(e).replace(U,""),t||0)},On.random=function(e,t,n){if(n&&"boolean"!=typeof n&&so(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ta(e),void 0===t?(t=e,e=0):t=ta(t)),e>t){var r=e;e=t,t=r;}if(n||e%1||t%1){var i=cn();return sn(e+i*(t-e+Fe("1e-"+((i+"").length-1))),t)}return jr(e,t)},On.reduce=function(e,t,n){var r=Es(e)?dt:Ct,i=arguments.length<3;return r(e,Gi(t,4),n,i,Qn)},On.reduceRight=function(e,t,n){var r=Es(e)?ht:Ct,i=arguments.length<3;return r(e,Gi(t,4),n,i,er)},On.repeat=function(e,t,n){return t=(n?so(e,t,n):void 0===t)?1:na(t),Pr(sa(e),t)},On.replace=function(){var e=arguments,t=sa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},On.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Co(t[r])];void 0===o&&(r=i,o=n),e=Rs(o)?o.call(e):o;}return e},On.round=fl,On.runInContext=e,On.sample=function(e){return (Es(e)?zn:zr)(e)},On.size=function(e){if(null==e)return 0;if(Ds(e))return Gs(e)?Ht(e):e.length;var t=to(e);return t==p||t==g?e.size:$r(e).length},On.snakeCase=ja,On.some=function(e,t,n){var r=Es(e)?mt:qr;return n&&so(e,t,n)&&(t=void 0),r(e,Gi(t,3))},On.sortedIndex=function(e,t){return Ur(e,t)},On.sortedIndexBy=function(e,t,n){return Kr(e,t,Gi(n,2))},On.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ur(e,t);if(r<n&&Ts(e[r],t))return r}return -1},On.sortedLastIndex=function(e,t){return Ur(e,t,!0)},On.sortedLastIndexBy=function(e,t,n){return Kr(e,t,Gi(n,2),!0)},On.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Ur(e,t,!0)-1;if(Ts(e[n],t))return n}return -1},On.startCase=Pa,On.startsWith=function(e,t,n){return e=sa(e),n=null==n?0:Jn(na(n),0,e.length),t=Yr(t),e.slice(n,n+t.length)==t},On.subtract=pl,On.sum=function(e){return e&&e.length?Mt(e,qa):0},On.sumBy=function(e,t){return e&&e.length?Mt(e,Gi(t,2)):0},On.template=function(e,t,n){var r=On.templateSettings;n&&so(e,t,n)&&(t=void 0),e=sa(e),t=ca({},t,r,Ri);var i,o,s=ca({},t.imports,r.imports,Ri),a=ba(s),l=_t(s,a),c=0,u=t.interpolate||ae,f="__p += '",p=me((t.escape||ae).source+"|"+u.source+"|"+(u===R?Q:ae).source+"|"+(t.evaluate||ae).source+"|$","g"),d="//# sourceURL="+($e.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pe+"]")+"\n";e.replace(p,(function(t,n,r,s,a,l){return r||(r=s),f+=e.slice(c,l).replace(le,Pt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),f+="';\n";var h=$e.call(t,"variable")&&t.variable;h||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(A,""):f).replace(N,"$1").replace(E,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Fa((function(){return pe(a,d+"return "+f).apply(void 0,l)}));if(m.source=f,zs(m))throw m;return m},On.times=function(e,t){if((e=na(e))<1||e>9007199254740991)return [];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=Ot(r,t=Gi(t));++n<e;)t(n);return i},On.toFinite=ta,On.toInteger=na,On.toLength=ra,On.toLower=function(e){return sa(e).toLowerCase()},On.toNumber=ia,On.toSafeInteger=function(e){return e?Jn(na(e),-9007199254740991,9007199254740991):0===e?e:0},On.toString=sa,On.toUpper=function(e){return sa(e).toUpperCase()},On.trim=function(e,t,n){if((e=sa(e))&&(n||void 0===t))return e.replace(q,"");if(!e||!(t=Yr(t)))return e;var r=Vt(e),i=Vt(t);return li(r,Nt(r,i),Et(r,i)+1).join("")},On.trimEnd=function(e,t,n){if((e=sa(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Yr(t)))return e;var r=Vt(e);return li(r,0,Et(r,Vt(t))+1).join("")},On.trimStart=function(e,t,n){if((e=sa(e))&&(n||void 0===t))return e.replace(U,"");if(!e||!(t=Yr(t)))return e;var r=Vt(e);return li(r,Nt(r,Vt(t))).join("")},On.truncate=function(e,t){var n=30,r="...";if(Ws(t)){var i="separator"in t?t.separator:i;n="length"in t?na(t.length):n,r="omission"in t?Yr(t.omission):r;}var o=(e=sa(e)).length;if(It(e)){var s=Vt(e);o=s.length;}if(n>=o)return e;var a=n-Ht(r);if(a<1)return r;var l=s?li(s,0,a).join(""):e.slice(0,a);if(void 0===i)return l+r;if(s&&(a+=l.length-a),Ks(i)){if(e.slice(a).search(i)){var c,u=l;for(i.global||(i=me(i.source,sa(ee.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var f=c.index;l=l.slice(0,void 0===f?a:f);}}else if(e.indexOf(Yr(i),a)!=a){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p));}return l+r},On.unescape=function(e){return (e=sa(e))&&j.test(e)?e.replace(L,qt):e},On.uniqueId=function(e){var t=++Se;return sa(e)+t},On.upperCase=Ia,On.upperFirst=za,On.each=ss,On.eachRight=as,On.first=Do,Ga(On,(cl={},ar(On,(function(e,t){$e.call(On.prototype,t)||(cl[t]=e);})),cl),{chain:!1}),On.VERSION="4.17.19",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){On[e].placeholder=On;})),ot(["drop","take"],(function(e,t){Nn.prototype[e]=function(n){n=void 0===n?1:on(na(n),0);var r=this.__filtered__&&!t?new Nn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Nn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()};})),ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Nn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Gi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t};})),ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Nn.prototype[e]=function(){return this[n](1).value()[0]};})),ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Nn.prototype[e]=function(){return this.__filtered__?new Nn(this):this[n](1)};})),Nn.prototype.compact=function(){return this.filter(qa)},Nn.prototype.find=function(e){return this.filter(e).head()},Nn.prototype.findLast=function(e){return this.reverse().find(e)},Nn.prototype.invokeMap=Ir((function(e,t){return "function"==typeof e?new Nn(this):this.map((function(n){return vr(n,e,t)}))})),Nn.prototype.reject=function(e){return this.filter($s(Gi(e)))},Nn.prototype.slice=function(e,t){e=na(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Nn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=na(t))<0?n.dropRight(-t):n.take(t-e)),n)},Nn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Nn.prototype.toArray=function(){return this.take(4294967295)},ar(Nn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=On[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(On.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Nn,l=s[0],c=a||Es(t),u=function(e){var t=i.apply(On,pt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=o&&!f,h=a&&!p;if(!o&&c){t=h?t:new Nn(this);var m=e.apply(t,s);return m.__actions__.push({func:ts,args:[u],thisArg:void 0}),new An(m,f)}return d&&h?e.apply(this,s):(m=this.thru(u),d?r?m.value()[0]:m.value():m)});})),ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);On.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Es(i)?i:[],e)}return this[n]((function(n){return t.apply(Es(n)?n:[],e)}))};})),ar(Nn.prototype,(function(e,t){var n=On[t];if(n){var r=n.name+"";$e.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n});}})),yn[Oi(void 0,2).name]=[{name:"wrapper",func:void 0}],Nn.prototype.clone=function(){var e=new Nn(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Nn.prototype.reverse=function(){if(this.__filtered__){var e=new Nn(this);e.__dir__=-1,e.__filtered__=!0;}else (e=this.clone()).__dir__*=-1;return e},Nn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Es(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=sn(t,e+s);break;case"takeRight":e=on(e,t-s);}}return {start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,f=u.length,p=0,d=sn(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return ti(e,this.__actions__);var h=[];e:for(;l--&&p<d;){for(var m=-1,g=e[c+=t];++m<f;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[p++]=g;}return h},On.prototype.at=ns,On.prototype.chain=function(){return es(this)},On.prototype.commit=function(){return new An(this.value(),this.__chain__)},On.prototype.next=function(){void 0===this.__values__&&(this.__values__=ea(this.value()));var e=this.__index__>=this.__values__.length;return {done:e,value:e?void 0:this.__values__[this.__index__++]}},On.prototype.plant=function(e){for(var t,n=this;n instanceof _n;){var r=Oo(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__;}return i.__wrapped__=e,t},On.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Nn){var t=e;return this.__actions__.length&&(t=new Nn(this)),(t=t.reverse()).__actions__.push({func:ts,args:[Wo],thisArg:void 0}),new An(t,this.__chain__)}return this.thru(Wo)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,gt&&(On.prototype[gt]=function(){return this}),On}();Ue?((Ue.exports=Ut)._=Ut,qe._=Ut):Ve._=Ut;}).call(Ze);})),Ai=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Ni=Object.prototype.toString;function Ei(e){return "[object Array]"===Ni.call(e)}function Li(e){return void 0===e}function Di(e){return null!==e&&"object"==typeof e}function ji(e){return "[object Function]"===Ni.call(e)}function Pi(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Ei(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e);}var Ii={isArray:Ei,isArrayBuffer:function(e){return "[object ArrayBuffer]"===Ni.call(e)},isBuffer:function(e){return null!==e&&!Li(e)&&null!==e.constructor&&!Li(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return "undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return "undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return "string"==typeof e},isNumber:function(e){return "number"==typeof e},isObject:Di,isUndefined:Li,isDate:function(e){return "[object Date]"===Ni.call(e)},isFile:function(e){return "[object File]"===Ni.call(e)},isBlob:function(e){return "[object Blob]"===Ni.call(e)},isFunction:ji,isStream:function(e){return Di(e)&&ji(e.pipe)},isURLSearchParams:function(e){return "undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return ("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Pi,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n;}for(var r=0,i=arguments.length;r<i;r++)Pi(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n;}for(var r=0,i=arguments.length;r<i;r++)Pi(arguments[r],n);return t},extend:function(e,t,n){return Pi(t,(function(t,r){e[r]=n&&"function"==typeof t?Ai(t,n):t;})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function zi(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ri=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Ii.isURLSearchParams(t))r=t.toString();else {var i=[];Ii.forEach(t,(function(e,t){null!=e&&(Ii.isArray(e)?t+="[]":e=[e],Ii.forEach(e,(function(e){Ii.isDate(e)?e=e.toISOString():Ii.isObject(e)&&(e=JSON.stringify(e)),i.push(zi(t)+"="+zi(e));})));})),r=i.join("&");}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r;}return e};function Fi(){this.handlers=[];}Fi.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Fi.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null);},Fi.prototype.forEach=function(e){Ii.forEach(this.handlers,(function(t){null!==t&&e(t);}));};var Bi=Fi,Wi=function(e,t,n){return Ii.forEach(n,(function(n){e=n(e,t);})),e},Hi=function(e){return !(!e||!e.__CANCEL__)},Vi=function(e,t){Ii.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r]);}));},qi=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return {message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,i)},Ui=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Ki=Ii.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ii.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return !0},Ji=Ii.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),Ii.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ii.isString(r)&&s.push("path="+r),Ii.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ");},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5);}}:{write:function(){},read:function(){return null},remove:function(){}},Gi=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;Ii.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",a=e.auth.password||"";i.Authorization="Basic "+btoa(s+":"+a);}var l,c,u=(l=e.baseURL,c=e.url,l&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(c)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(l,c):c);if(o.open(e.method.toUpperCase(),Ri(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(e){var t,n,r,i={};return e?(Ii.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=Ii.trim(e.substr(0,r)).toLowerCase(),n=Ii.trim(e.substr(r+1)),t){if(i[t]&&Ui.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n;}})),i):i}(o.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(qi("Request failed with status code "+n.status,n.config,null,n.request,n));}(t,n,i),o=null;}},o.onabort=function(){o&&(n(qi("Request aborted",e,"ECONNABORTED",o)),o=null);},o.onerror=function(){n(qi("Network Error",e,null,o)),o=null;},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(qi(t,e,"ECONNABORTED",o)),o=null;},Ii.isStandardBrowserEnv()){var f=Ji,p=(e.withCredentials||Ki(u))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;p&&(i[e.xsrfHeaderName]=p);}if("setRequestHeader"in o&&Ii.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e);})),Ii.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType;}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null);})),void 0===r&&(r=null),o.send(r);}))},Yi={"Content-Type":"application/x-www-form-urlencoded"};function Xi(e,t){!Ii.isUndefined(e)&&Ii.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t);}var Zi,Qi={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Zi=Gi),Zi),transformRequest:[function(e,t){return Vi(t,"Accept"),Vi(t,"Content-Type"),Ii.isFormData(e)||Ii.isArrayBuffer(e)||Ii.isBuffer(e)||Ii.isStream(e)||Ii.isFile(e)||Ii.isBlob(e)?e:Ii.isArrayBufferView(e)?e.buffer:Ii.isURLSearchParams(e)?(Xi(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ii.isObject(e)?(Xi(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e);}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};Qi.headers={common:{Accept:"application/json, text/plain, */*"}},Ii.forEach(["delete","get","head"],(function(e){Qi.headers[e]={};})),Ii.forEach(["post","put","patch"],(function(e){Qi.headers[e]=Ii.merge(Yi);}));var eo=Qi;function to(e){e.cancelToken&&e.cancelToken.throwIfRequested();}var no=function(e){return to(e),e.headers=e.headers||{},e.data=Wi(e.data,e.headers,e.transformRequest),e.headers=Ii.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Ii.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t];})),(e.adapter||eo.adapter)(e).then((function(t){return to(e),t.data=Wi(t.data,t.headers,e.transformResponse),t}),(function(t){return Hi(t)||(to(e),t&&t.response&&(t.response.data=Wi(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ro=function(e,t){t=t||{};var n={},r=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Ii.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e]);})),Ii.forEach(i,(function(r){Ii.isObject(t[r])?n[r]=Ii.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:Ii.isObject(e[r])?n[r]=Ii.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r]);})),Ii.forEach(o,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r]);}));var s=r.concat(i).concat(o),a=Object.keys(t).filter((function(e){return -1===s.indexOf(e)}));return Ii.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r]);})),n};function io(e){this.defaults=e,this.interceptors={request:new Bi,response:new Bi};}io.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=ro(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[no,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected);})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected);}));t.length;)n=n.then(t.shift(),t.shift());return n},io.prototype.getUri=function(e){return e=ro(this.defaults,e),Ri(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Ii.forEach(["delete","get","head","options"],(function(e){io.prototype[e]=function(t,n){return this.request(Ii.merge(n||{},{method:e,url:t}))};})),Ii.forEach(["post","put","patch"],(function(e){io.prototype[e]=function(t,n,r){return this.request(Ii.merge(r||{},{method:e,url:t,data:n}))};}));var oo=io;function so(e){this.message=e;}so.prototype.toString=function(){return "Cancel"+(this.message?": "+this.message:"")},so.prototype.__CANCEL__=!0;var ao=so;function lo(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e;}));var n=this;e((function(e){n.reason||(n.reason=new ao(e),t(n.reason));}));}lo.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},lo.source=function(){var e;return {token:new lo((function(t){e=t;})),cancel:e}};var co=lo;function uo(e){var t=new oo(e),n=Ai(oo.prototype.request,t);return Ii.extend(n,oo.prototype,t),Ii.extend(n,t),n}var fo=uo(eo);fo.Axios=oo,fo.create=function(e){return uo(ro(fo.defaults,e))},fo.Cancel=ao,fo.CancelToken=co,fo.isCancel=Hi,fo.all=function(e){return Promise.all(e)},fo.spread=function(e){return function(t){return e.apply(null,t)}};var po=fo,ho=fo;po.default=ho;var mo=po;const go="{\n  theme: {\n    container: {\n      center: true\n    }\n  },\n  variants: {}\n}",vo=(e={uid:null,email:null,verified:!1,githubUsername:null,githubToken:null,role:null,signedIn:!1,canEditPage:!1})=>({uid:e.uid,email:e.email,verified:e.verified,type:e.type||"email",githubUsername:e.githubUsername,githubToken:e.githubToken,role:e.role,signedIn:e.signedIn,canEditPage:e.canEditPage});var yo=Qe((function(e){e.exports=function(e){var t,n=this;for(t in this.DEFAULT_RANDOM_ID_LEN=6,this.DICT_RANGES={digits:[48,58],lowerCase:[97,123],upperCase:[65,91]},this.dict=[],this.log=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e[0]="[short-unique-id] "+e[0],!0===this.debug&&"undefined"!=typeof console&&null!==console)return console.log.apply(console,e)},this.getDict=function(){return this.dict},this.sequentialUUID=function(){var e,t,r;for(r="",e=this.counter;t=e%n.dictLength,e=parseInt(e/n.dictLength,10),r+=n.dict[t],0!==e;);return this.counter+=1,r},this.randomUUID=function(e){var t,r,i;if(null==e&&(e=this.DEFAULT_RANDOM_ID_LEN),null==e||e<1)throw new Error("Invalid UUID Length Provided");for(t="",i=0;0<=e?i<e:i>e;0<=e?++i:--i)r=parseInt(Math.random()*n.dictLength)%n.dictLength,t+=n.dict[r];return t},this.dictIndex=this._i=0,n.DICT_RANGES)for(n.dictRange=n.DICT_RANGES[t],n.lowerBound=n.dictRange[0],n.upperBound=n.dictRange[1],this.dictIndex=this._i=this.lowerBound;this.lowerBound<=this.upperBound?this._i<this.upperBound:this._i>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?++this._i:--this._i)n.dict.push(String.fromCharCode(n.dictIndex));this.dict=this.dict.sort((function(){return Math.random()<=.5})),this.dictLength=this.dict.length,null==e&&(e={}),this.counter=0,this.debug=e.debug,this.log("Generator created with Dictionary Size "+this.dictLength);};})),bo=Qe((function(e){e.exports=function(){var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return !0;if(i(e)&&0===e.length)return !0;if("string"!=typeof e){for(var n in e)if(t(e,n))return !1;return !0}return !1}function r(t){return e.call(t)}var i=Array.isArray||function(t){return "[object Array]"===e.call(t)};function o(e){var t=parseInt(e);return t.toString()===e?t:e}function s(e){e=e||{};var s=function(e){return Object.keys(s).reduce((function(t,n){return "create"===n||"function"==typeof s[n]&&(t[n]=s[n].bind(s,e)),t}),{})};function a(n,r){return e.includeInheritedProps||"number"==typeof r&&Array.isArray(n)||t(n,r)}function l(e,t){if(a(e,t))return e[t]}function c(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(o),n,r);var i=t[0],s=l(e,i);return 1===t.length?(void 0!==s&&r||(e[i]=n),s):(void 0===s&&("number"==typeof t[1]?e[i]=[]:e[i]={}),c(e[i],t.slice(1),n,r))}return s.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return !!n;for(var s=0;s<r.length;s++){var a=o(r[s]);if(!("number"==typeof a&&i(n)&&a<n.length||(e.includeInheritedProps?a in Object(n):t(n,a))))return !1;n=n[a];}return !0},s.ensureExists=function(e,t,n){return c(e,t,n,!0)},s.set=function(e,t,n,r){return c(e,t,n,r)},s.insert=function(e,t,n,r){var o=s.get(e,t);r=~~r,i(o)||(o=[],s.set(e,t,o)),o.splice(r,0,n);},s.empty=function(e,t){var o,l;if(!n(t)&&null!=e&&(o=s.get(e,t))){if("string"==typeof o)return s.set(e,t,"");if(function(e){return "boolean"==typeof e||"[object Boolean]"===r(e)}(o))return s.set(e,t,!1);if("number"==typeof o)return s.set(e,t,0);if(i(o))o.length=0;else {if(!function(e){return "object"==typeof e&&"[object Object]"===r(e)}(o))return s.set(e,t,null);for(l in o)a(o,l)&&delete o[l];}}},s.push=function(e,t){var n=s.get(e,t);i(n)||(n=[],s.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2));},s.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=s.get(e,t[i])))return r;return n},s.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return s.get(e,t.split("."),n);var r=o(t[0]),i=l(e,r);return void 0===i?n:1===t.length?i:s.get(e[r],t.slice(1),n)},s.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return s.del(e,t.split("."));var r=o(t[0]);return a(e,r)?1!==t.length?s.del(e[r],t.slice(1)):(i(e)?e.splice(r,1):delete e[r],e):e},s}var a=s();return a.create=s,a.withInheritedProps=s({includeInheritedProps:!0}),a}();})),wo=function(){var e,t,n,r,i,o,s,a=function(){function e(e){this.string=e;}return e.prototype.toString=function(){return ""+this.string},e}(),l=function(e){var t={},n=a,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,o=/[&<>"'`]/;function s(e){return r[e]||"&amp;"}t.extend=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);};var l,c=Object.prototype.toString;t.toString=c,(l=function(e){return "function"==typeof e})(/x/)&&(l=function(e){return "function"==typeof e&&"[object Function]"===c.call(e)}),t.isFunction=l;var u=Array.isArray||function(e){return !(!e||"object"!=typeof e)&&"[object Array]"===c.call(e)};return t.isArray=u,t.escapeExpression=function(e){return e instanceof n?e.toString():e||0===e?(e=""+e,o.test(e)?e.replace(i,s):e):""},t.isEmpty=function(e){return !e&&0!==e||!(!u(e)||0!==e.length)},t}(),c=function(){var e=["description","fileName","lineNumber","message","name","number","stack"];function t(){for(var t=Error.prototype.constructor.apply(this,arguments),n=0;n<e.length;n++)this[e[n]]=t[e[n]];}return t.prototype=new Error,t}(),u=function(e,t){var n={},r=l,i=c;n.VERSION="1.2.0",n.COMPILER_REVISION=4,n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var o=r.isArray,s=r.isFunction,a=r.toString;function u(e,t){var n;this.helpers=e||{},this.partials=t||{},(n=this).registerHelper("helperMissing",(function(e){if(2!==arguments.length)throw new Error("Missing helper: '"+e+"'")})),n.registerHelper("blockHelperMissing",(function(e,t){var r=t.inverse||function(){},i=t.fn;return s(e)&&(e=e.call(this)),!0===e?i(this):!1===e||null==e?r(this):o(e)?e.length>0?n.helpers.each(e,t):r(this):i(e)})),n.registerHelper("each",(function(e,t){var n,r=t.fn,i=t.inverse,a=0,l="";if(s(e)&&(e=e.call(this)),t.data&&(n=d(t.data)),e&&"object"==typeof e)if(o(e))for(var c=e.length;a<c;a++)n&&(n.index=a,n.first=0===a,n.last=a===e.length-1),l+=r(e[a],{data:n});else for(var u in e)e.hasOwnProperty(u)&&(n&&(n.key=u,n.index=a,n.first=0===a),l+=r(e[u],{data:n}),a++);return 0===a&&(l=i(this)),l})),n.registerHelper("if",(function(e,t){return s(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)})),n.registerHelper("unless",(function(e,t){return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})),n.registerHelper("with",(function(e,t){if(s(e)&&(e=e.call(this)),!r.isEmpty(e))return t.fn(e)})),n.registerHelper("log",(function(e,t){var r=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;n.log(r,e);}));}n.HandlebarsEnvironment=u,u.prototype={constructor:u,logger:f,log:p,registerHelper:function(e,t,n){if("[object Object]"===a.call(e)){if(n||t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e);}else n&&(t.not=n),this.helpers[e]=t;},registerPartial:function(e,t){"[object Object]"===a.call(e)?r.extend(this.partials,e):this.partials[e]=t;}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(f.level<=e){var n=f.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t);}}};function p(e,t){f.log(e,t);}n.logger=f,n.log=p;var d=function(e){var t={};return r.extend(t,e),t};return n.createFrame=d,n}(),f=function(e,t,n){var r={},i=l,o=c,s=n.COMPILER_REVISION,a=n.REVISION_CHANGES;function u(e,t,n){var r=function(e,r){return t(e,(r=r||{}).data||n)};return r.program=e,r.depth=0,r}return r.checkRevision=function(e){var t=e&&e[0]||1;if(t!==s){if(t<s){var n=a[s],r=a[t];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},r.template=function(e,t){if(!t)throw new Error("No environment passed to template");var n={escapeExpression:i.escapeExpression,invokePartial:function(e,n,r,i,s,a){var l=t.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(t.compile){var c={helpers:i,partials:s,data:a};return s[n]=t.compile(e,{data:void 0!==a},t),s[n](r,c)}throw new o("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=u(e,t,n):r||(r=this.programs[e]=u(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},i.extend(n,t),i.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(r,i){var o,s,a=(i=i||{}).partial?i:t;i.partial||(o=i.helpers,s=i.partials);var l=e.call(n,a,r,o,s,i.data);return i.partial||t.VM.checkRevision(n.compilerInfo),l}},r.programWithDepth=function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},r.program=u,r.invokePartial=function(e,t,n,r,i,s){var a={partial:!0,helpers:r,partials:i,data:s};if(void 0===e)throw new o("The partial "+t+" could not be found");if(e instanceof Function)return e(n,a)},r.noop=function(){return ""},r}(0,0,u),p=(e=u,t=a,n=c,r=l,i=f,(s=(o=function(){var o=new e.HandlebarsEnvironment;return r.extend(o,e),o.SafeString=t,o.Exception=n,o.Utils=r,o.VM=i,o.template=function(e){return i.template(e,o)},o})()).create=o,s),d=function(e){var t=c,n={ProgramNode:function(e,t,r){this.type="program",this.statements=e,this.strip={},r?(this.inverse=new n.ProgramNode(r,t),this.strip.right=t.left):t&&(this.strip.left=t.right);},MustacheNode:function(e,t,n,r){if(this.type="mustache",this.hash=t,this.strip=r,null!=n&&n.charAt){var i=n.charAt(3)||n.charAt(2);this.escaped="{"!==i&&"&"!==i;}else this.escaped=!!n;var o=this.id=e[0],s=this.params=e.slice(1),a=this.eligibleHelper=o.isSimple;this.isHelper=a&&(s.length||t);},PartialNode:function(e,t,n){this.type="partial",this.partialName=e,this.context=t,this.strip=n;},BlockNode:function(e,n,r,i){if(e.id.original!==i.path.original)throw new t(e.id.original+" doesn't match "+i.path.original);this.type="block",this.mustache=e,this.program=n,this.inverse=r,this.strip={left:e.strip.left,right:i.strip.right},(n||r).strip.left=e.strip.right,(r||n).strip.right=i.strip.left,r&&!n&&(this.isInverse=!0);},ContentNode:function(e){this.type="content",this.string=e;},HashNode:function(e){this.type="hash",this.pairs=e;},IdNode:function(e){this.type="ID";for(var n="",r=[],i=0,o=0,s=e.length;o<s;o++){var a=e[o].part;if(n+=(e[o].separator||"")+a,".."===a||"."===a||"this"===a){if(r.length>0)throw new t("Invalid path: "+n);".."===a?i++:this.isScoped=!0;}else r.push(a);}this.original=n,this.parts=r,this.string=r.join("."),this.depth=i,this.isSimple=1===e.length&&!this.isScoped&&0===i,this.stringModeValue=this.string;},PartialNameNode:function(e){this.type="PARTIAL_NAME",this.name=e.original;},DataNode:function(e){this.type="DATA",this.id=e;},StringNode:function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e;},IntegerNode:function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e);},BooleanNode:function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e;},CommentNode:function(e){this.type="comment",this.comment=e;}};return n}(),h=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,inMustache_repetition0:28,inMustache_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,hash:35,hash_repetition_plus0:36,hashSegment:37,ID:38,EQUALS:39,DATA:40,pathSegments:41,SEP:42,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function(e,n,r,i,o,s,a){var l=s.length-1;switch(o){case 1:return new i.ProgramNode(s[l-1]);case 2:return new i.ProgramNode([]);case 3:this.$=new i.ProgramNode([],s[l-1],s[l]);break;case 4:this.$=new i.ProgramNode(s[l-2],s[l-1],s[l]);break;case 5:this.$=new i.ProgramNode(s[l-1],s[l],[]);break;case 6:this.$=new i.ProgramNode(s[l]);break;case 7:case 8:this.$=new i.ProgramNode([]);break;case 9:this.$=[s[l]];break;case 10:s[l-1].push(s[l]),this.$=s[l-1];break;case 11:this.$=new i.BlockNode(s[l-2],s[l-1].inverse,s[l-1],s[l]);break;case 12:this.$=new i.BlockNode(s[l-2],s[l-1],s[l-1].inverse,s[l]);break;case 13:case 14:this.$=s[l];break;case 15:this.$=new i.ContentNode(s[l]);break;case 16:this.$=new i.CommentNode(s[l]);break;case 17:case 18:this.$=new i.MustacheNode(s[l-1][0],s[l-1][1],s[l-2],t(s[l-2],s[l]));break;case 19:this.$={path:s[l-1],strip:t(s[l-2],s[l])};break;case 20:case 21:this.$=new i.MustacheNode(s[l-1][0],s[l-1][1],s[l-2],t(s[l-2],s[l]));break;case 22:this.$=new i.PartialNode(s[l-2],s[l-1],t(s[l-3],s[l]));break;case 23:this.$=t(s[l-1],s[l]);break;case 24:this.$=[[s[l-2]].concat(s[l-1]),s[l]];break;case 25:this.$=[[s[l]],null];break;case 26:this.$=s[l];break;case 27:this.$=new i.StringNode(s[l]);break;case 28:this.$=new i.IntegerNode(s[l]);break;case 29:this.$=new i.BooleanNode(s[l]);break;case 30:this.$=s[l];break;case 31:this.$=new i.HashNode(s[l]);break;case 32:this.$=[s[l-2],s[l]];break;case 33:this.$=new i.PartialNameNode(s[l]);break;case 34:this.$=new i.PartialNameNode(new i.StringNode(s[l]));break;case 35:this.$=new i.PartialNameNode(new i.IntegerNode(s[l]));break;case 36:this.$=new i.DataNode(s[l]);break;case 37:this.$=new i.IdNode(s[l]);break;case 38:s[l-2].push({part:s[l],separator:s[l-1]}),this.$=s[l-2];break;case 39:this.$=[{part:s[l]}];break;case 42:this.$=[];break;case 43:s[l-1].push(s[l]);break;case 46:this.$=[s[l]];break;case 47:s[l-1].push(s[l]);}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=[0],n=[null],r=[],i=this.table,o="",s=0,a=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,d,h,m,g,v,y,b,w,x={};;){if(d=t[t.length-1],this.defaultActions[d]?h=this.defaultActions[d]:(null==f&&(w=void 0,"number"!=typeof(w=this.lexer.lex()||1)&&(w=this.symbols_[w]||w),f=w),h=i[d]&&i[d][f]),void 0===h||!h.length||!h[0]){var k="";if(!l){for(g in b=[],i[d])this.terminals_[g]&&g>2&&b.push("'"+this.terminals_[g]+"'");k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:c,expected:b});}}if(h[0]instanceof Array&&h.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+f);switch(h[0]){case 1:t.push(f),n.push(this.lexer.yytext),r.push(this.lexer.yylloc),t.push(h[1]),f=null,p?(f=p,p=null):(a=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(v=this.productions_[h[1]][1],x.$=n[n.length-v],x._$={first_line:r[r.length-(v||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(v||1)].first_column,last_column:r[r.length-1].last_column},u&&(x._$.range=[r[r.length-(v||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.call(x,o,a,s,this.yy,h[1],n,r)))return m;v&&(t=t.slice(0,-1*v*2),n=n.slice(0,-1*v),r=r.slice(0,-1*v)),t.push(this.productions_[h[1]][0]),n.push(x.$),r.push(x._$),y=i[t[t.length-2]][t[t.length-1]],t.push(y);break;case 3:return !0}}return !0}};function t(e,t){return {left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}var n={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t);},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e));},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return (e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,r=s,this.options.flex));s++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e);},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e);},options:{},performAction:function(e,t,n,r){function i(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return i(0,4),this.popState(),15;case 4:return 25;case 5:return 16;case 6:return 20;case 7:case 8:return 19;case 9:return 23;case 10:return 22;case 11:this.popState(),this.begin("com");break;case 12:return i(3,5),this.popState(),15;case 13:return 22;case 14:return 39;case 15:case 16:return 38;case 17:return 42;case 18:break;case 19:return this.popState(),24;case 20:return this.popState(),18;case 21:return t.yytext=i(1,2).replace(/\\"/g,'"'),32;case 22:return t.yytext=i(1,2).replace(/\\'/g,"'"),32;case 23:return 40;case 24:case 25:return 34;case 26:return 33;case 27:return 38;case 28:return t.yytext=i(1,2),38;case 29:return "INVALID";case 30:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,30],inclusive:!0}}};function r(){this.yy={};}return e.lexer=n,r.prototype=e,e.Parser=r,new r}(),m=function(e,t){var n={},r=h,i=d;return n.parser=r,n.parse=function(e){return e.constructor===i.ProgramNode?e:(r.yy=i,r.parse(e))},n}(),g=function(e){var t=e.COMPILER_REVISION,n=e.REVISION_CHANGES,r=e.log;function i(e){this.value=e;}function o(){}o.prototype={nameLookup:function(e,t){var n,r;return 0===e.indexOf("depth")&&(n=!0),r=/^[0-9]+$/.test(t)?e+"["+t+"]":o.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+r+")":r},compilerInfo:function(){return "this.compilerInfo = ["+t+",'"+n[t]+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return "buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},r("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var o,s=e.opcodes;this.i=0;for(var a=s.length;this.i<a;this.i++)"DECLARE"===(o=s[this.i]).opcode?this[o.name]=o.value:this[o.opcode].apply(this,o.args),o.opcode!==this.stripNext&&(this.stripNext=!1);return this.pushSource(""),this.createFunctionContext(i)},preamble:function(){var e=[];if(this.isChild)e.push("");else {var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n);}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e;},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],o=0,s=this.environment.depths.list.length;o<s;o++)i.push("depth"+this.environment.depths.list[o]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),e)return i.push(a),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+a+"}";return r("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",n=0,r=this.source.length;n<r;n++){var i=this.source[n];i.appendToBuffer?e=e?e+"\n    + "+i.content:i.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=i+"\n  ");}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack((function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"}));},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }");},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e;},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip";},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }");},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"));},getContext:function(e){this.lastContext!==e&&(this.lastContext=e);},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"));},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext);},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack((function(e){return "typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e}));},lookup:function(e){this.replaceStack((function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")}));},lookupData:function(){this.push("data");},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e);},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"));},pushHash:function(){this.hash={values:[],types:[],contexts:[]};},popHash:function(){var e=this.hash;this.hash=void 0,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }");},pushString:function(e){this.pushStackLiteral(this.quotedString(e));},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e);},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null);},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context");this.push(n.name+" || "+r),this.replaceStack((function(e){return e+" ? "+e+".call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+")"}));},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")");},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),i=this.nameLookup("depth"+this.lastContext,e,"context"),o=this.nextStack();this.pushSource("if ("+o+" = "+r+") { "+o+" = "+o+".call("+n.callParams+"); }"),this.pushSource("else { "+o+" = "+i+"; "+o+" = typeof "+o+" === functionType ? "+o+".call("+n.callParams+") : "+o+"; }");},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")");},assignToHash:function(e){var t,n,r=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var i=this.hash;t&&i.contexts.push("'"+e+"': "+t),n&&i.types.push("'"+e+"': "+n),i.values.push("'"+e+"': ("+r+")");},compiler:o,compileChildren:function(e,t){for(var n,r,i=e.children,o=0,s=i.length;o<s;o++){n=i[o],r=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=r.compile(n,t,this.context),this.context.environments[a]=n):(n.index=a,n.name="program"+a);}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return "self.noop";for(var t,n=this.environment.children[e],r=n.depths.list,i=[n.index,n.name,"data"],o=0,s=r.length;o<s;o++)1===(t=r[o])?i.push("depth0"):i.push("depth"+(t-1));return (0===r.length?"self.program(":"self.programWithDepth(")+i.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";");},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e));},pushStackLiteral:function(e){return this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e);},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",r=this.isInline();if(r){var o=this.popStack(!0);if(o instanceof i)t=o.value;else {var s=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(s)+" = "+o+"),",t=this.topStack();}}else t=this.topStack();var a=e.call(this,t);return r?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+a+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+n+a+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return "stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];r instanceof i?this.compileStack.push(r):this.pushStack(r);}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return !e&&n instanceof i?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return !e&&n instanceof i?n.value:n},quotedString:function(e){return '"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var r=[];return this.setupParams(e,r,n),{params:r,name:this.nameLookup("helpers",t,"helper"),callParams:["depth0"].concat(r).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupParams:function(e,t,n){var r,i,o,s=[],a=[],l=[];s.push("hash:"+this.popStack()),i=this.popStack(),((o=this.popStack())||i)&&(o||(this.context.aliases.self="this",o="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),s.push("inverse:"+i),s.push("fn:"+o));for(var c=0;c<e;c++)r=this.popStack(),t.push(r),this.options.stringParams&&(l.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+a.join(",")+"]"),s.push("types:["+l.join(",")+"]"),s.push("hashContexts:hashContexts"),s.push("hashTypes:hashTypes")),this.options.data&&s.push("data:data"),s="{"+s.join(",")+"}",n?(this.register("options",s),t.push("options")):t.push(s),t.join(", ")}};for(var s="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),a=o.RESERVED_WORDS={},l=0,c=s.length;l<c;l++)a[s[l]]=!0;return o.isValidJavaScriptVariableName=function(e){return !(o.RESERVED_WORDS[e]||!/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e))},o}(u);return function(e,t,n,r,i){var o=p,s=d,a=n.parser,l=n.parse,c=r.Compiler,u=r.compile,f=r.precompile,h=i,m=o.create,g=function(){var e=m();return e.compile=function(t,n){return u(t,n,e)},e.precompile=f,e.AST=s,e.Compiler=c,e.JavaScriptCompiler=h,e.Parser=a,e.parse=l,e};return (o=g()).create=g,o}(0,0,m,function(e,t,n,r){var i={},o=c,s=m.parse,a=n,l=r;function u(){}return i.Compiler=u,u.prototype={compiler:u,disassemble:function(){for(var e,t,n,r=this.opcodes,i=[],o=0,s=r.length;o<s;o++)if("DECLARE"===(e=r[o]).opcode)i.push("DECLARE "+e.name+"="+e.value);else {t=[];for(var a=0;a<e.args.length;a++)"string"==typeof(n=e.args[a])&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);i.push(e.opcode+" "+t.join(" "));}return i.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return !1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||r.args.length!==i.args.length)return !1;for(var o=0;o<r.args.length;o++)if(r.args[o]!==i.args[o])return !1}if(t=this.children.length,e.children.length!==t)return !1;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return !1;return !0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,r=t.length;n<r;n++)this.accept(t[n]);return this.isSimple=1===r,this.depths.list=this.depths.list.sort((function(e,t){return e-t})),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),r=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[r]=n;for(var i=0,o=n.depths.list.length;i<o;i++)(t=n.depths.list[i])<2||this.addDepth(t-1);return r},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=this.classifyMustache(t);"helper"===i?this.helperMustache(t,n,r):"simple"===i?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append");},hash:function(e){var t,n,r=e.pairs;this.opcode("pushHash");for(var i=0,o=r.length;i<o;i++)n=(t=r[i])[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash");},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append");},content:function(e){this.opcode("appendContent",e.string);},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append");},ambiguousMustache:function(e,t,n){var r=e.id,i=r.parts[0],o=null!=t||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i,o);},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda");},helperMustache:function(e,t,n){var r=this.setupFullMustacheParams(e,t,n),i=e.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else {if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+i);this.opcode("invokeHelper",r.length,i);}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),e.parts[0]?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var t=1,n=e.parts.length;t<n;t++)this.opcode("lookup",e.parts[t]);},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new o("Scoped data references are not supported: "+e.original);this.opcode("lookupData");for(var t=e.id.parts,n=0,r=t.length;n<r;n++)this.opcode("lookup",t[n]);},STRING:function(e){this.opcode("pushString",e.string);},INTEGER:function(e){this.opcode("pushLiteral",e.integer);},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool);},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)});},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t});},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)));},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1);}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t);},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}},i.precompile=function(e,t){if(null==e||"string"!=typeof e&&e.constructor!==l.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0);var n=s(e),r=(new u).compile(n,t);return (new a).compile(r,t)},i.compile=function(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==l.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);var r;function i(){var r=s(e),i=(new u).compile(r,t),o=(new a).compile(i,t,void 0,!0);return n.template(o)}return "data"in(t=t||{})||(t.data=!0),function(e,t){return r||(r=i()),r.call(this,e,t)}},i}(0,0,g,d),g)}();const xo=ri({javascript:"",identity:{title:"",url:"",description:""}});xo.subscribe(e=>{Bv&&Bv.savePageSettings(e);});var ko={save:e=>{"function"==typeof e?(e=e(c(xo)),xo.set(e)):e?xo.set(e):e=c(xo);},update:xo.update,set:xo.set,subscribe:xo.subscribe};const Co=ri({isSubdomain:!1,domainName:"",onDev:!0,page:""});var Mo={save:(e={})=>{e&&Object.keys(e).length>0&&Co.update(t=>({...t,...e}));},subscribe:Co.subscribe};const Oo=ri({id:null,focused:!1,selection:0,position:0,path:{}}),To={subscribe:Oo.subscribe,set:Oo.set,update:Oo.update,setSelection:e=>{Oo.update(t=>({...t,...e,focused:!0}));},updatePath:e=>{Oo.update(t=>({...t,path:e}));}};function Ao(e){const t=e-1;return t*t*t+1}function No(e,{delay:n=0,duration:r=400,easing:i=t}){const o=+getComputedStyle(e).opacity;return {delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function Eo(e,{delay:t=0,duration:n=400,easing:r=Ao,x:i=0,y:o=0,opacity:s=0}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-s);return {delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*i}px, ${(1-e)*o}px);\n\t\t\topacity: ${l-u*t}`}}function Do(t){let n,r,i,o;return {c(){n=M("span"),r=M("span"),r.innerHTML='<i class="far fa-question-circle"></i>',i=T(),o=M("link"),L(r,"class","icon is-small"),L(n,"class","has-tooltip-multiline svelte-wdye27"),L(n,"data-tooltip",t[0]),L(n,"aria-label",t[0]),L(o,"rel","stylesheet"),L(o,"href","https://cdn.jsdelivr.net/npm/bulma-tooltip@3.0.2/dist/css/bulma-tooltip.min.css");},m(e,t){$(e,n,t),k(n,r),$(e,i,t),k(document.head,o);},p(e,[t]){1&t&&L(n,"data-tooltip",e[0]),1&t&&L(n,"aria-label",e[0]);},i:e,o:e,d(e){e&&S(n),e&&S(i),S(o);}}}function jo(e,t,n){let{info:r}=t;return e.$set=e=>{"info"in e&&n(0,r=e.info);},[r]}class Po extends Ie{constructor(e){super(),je(this,e,jo,Do,a,{info:0});}}var Io,zo=Qe((function(e,t){
    /*!
     * clipboard.js v2.0.6
     * https://clipboardjs.com/
     * 
     * Licensed MIT © Zeno Rocha
     */
    var n;n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r});},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0});},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value;}else {e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString();}return t};},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return (r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments);}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n;},function(e,t,n){var r=n(3),i=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n);}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n);})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n);}));}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")};},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return "string"==typeof e||e instanceof String},t.fn=function(e){return "[object Function]"===Object.prototype.toString.call(e)};},function(e,t,n){var r=n(5);function i(e,t,n,r,i){var s=o.apply(this,arguments);return e.addEventListener(n,s,i),{destroy:function(){e.removeEventListener(n,s,i);}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n);}}e.exports=function(e,t,n,r,o){return "function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))};},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode;}};},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection();}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText="";}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget();}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText();}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null);}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText();}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action);}catch(t){e=!1;}this.handleResult(e);}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)});}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges();}},{key:"destroy",value:function(){this.removeFake();}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e;}},get:function(){return this._target}}]),e}(),l=n(1),c=n.n(l),u=n(2),f=n.n(u),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return !t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body;}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}));}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this});}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null);}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e);})),n}}]),t}(c.a);function m(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=h;}]).default},e.exports=n();})),Ro=(Io=zo)&&Io.__esModule&&Object.prototype.hasOwnProperty.call(Io,"default")?Io.default:Io;function Fo(e){let t,n,r,i,o,s,a,l,c,u,p,h,m,g;const v=e[4].default,y=f(v,e,e[3],null);return {c(){t=M("link"),n=T(),r=M("div"),i=M("div"),o=M("input"),s=T(),a=M("div"),l=M("button"),c=M("span"),c.innerHTML='<i class="fas fa-copy"></i>',u=T(),p=M("div"),y&&y.c(),L(t,"rel","stylesheet"),L(t,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"),L(t,"integrity","sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="),L(t,"crossorigin","anonymous"),L(o,"class","input is-info"),L(o,"type","text"),o.value=e[0],o.readOnly=!0,B(o,"is-success",e[2]),L(i,"class","control"),L(c,"class","icon is-small"),L(l,"class","button"),L(l,"data-clipboard-text",e[0]),B(l,"is-success",e[2]),L(a,"class","control"),L(p,"class","after-content svelte-cy4cn1"),L(r,"class","field has-addons svelte-cy4cn1");},m(f,d){k(document.head,t),$(f,n,d),$(f,r,d),k(r,i),k(i,o),k(r,s),k(r,a),k(a,l),k(l,c),e[5](l),k(r,u),k(r,p),y&&y.m(p,null),h=!0,m||(g=N(l,"click",e[6]),m=!0);},p(e,[t]){(!h||1&t&&o.value!==e[0])&&(o.value=e[0]),4&t&&B(o,"is-success",e[2]),(!h||1&t)&&L(l,"data-clipboard-text",e[0]),4&t&&B(l,"is-success",e[2]),y&&y.p&&8&t&&d(y,v,e,e[3],t,null,null);},i(e){h||(xe(y,e),h=!0);},o(e){ke(y,e),h=!1;},d(i){S(t),i&&S(n),i&&S(r),e[5](null),y&&y.d(i),m=!1,g();}}}function Bo(e,t,n){let r,{value:i}=t;X(()=>{new Ro(r);});let o=!1,{$$slots:s={},$$scope:a}=t;return e.$set=e=>{"value"in e&&n(0,i=e.value),"$$scope"in e&&n(3,a=e.$$scope);},[i,r,o,a,s,function(e){re[e?"unshift":"push"](()=>{r=e,n(1,r);});},()=>n(2,o=!0)]}function Wo(e){let t,n;return {c(){t=M("span"),n=O(e[0]);},m(e,r){$(e,t,r),k(t,n);},p(e,t){1&t&&P(n,e[0]);},d(e){e&&S(t);}}}function Ho(t){let n,r,i,o,s,a,l,c,u,f=t[0]&&Wo(t);return {c(){n=M("button"),r=M("span"),i=M("i"),a=T(),f&&f.c(),L(i,"class",o="fas fa-"+t[1]),L(r,"class",s="icon is-"+t[2]),L(n,"class",l="button "+t[3]),L(n,"title",t[4]),n.disabled=t[5],L(n,"style",t[6]);},m(e,o){$(e,n,o),k(n,r),k(r,i),k(n,a),f&&f.m(n,null),c||(u=N(n,"click",t[8]),c=!0);},p(e,[t]){2&t&&o!==(o="fas fa-"+e[1])&&L(i,"class",o),4&t&&s!==(s="icon is-"+e[2])&&L(r,"class",s),e[0]?f?f.p(e,t):(f=Wo(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),8&t&&l!==(l="button "+e[3])&&L(n,"class",l),16&t&&L(n,"title",e[4]),32&t&&(n.disabled=e[5]),64&t&&L(n,"style",e[6]);},i:e,o:e,d(e){e&&S(n),f&&f.d(),c=!1,u();}}}function Vo(e,t,n){const r=Z();let{label:i=null}=t,{icon:o="atom"}=t,{size:s="small"}=t,{variants:a=""}=t,{title:l=null}=t,{disabled:c=null}=t,{style:u=""}=t;return e.$set=e=>{"label"in e&&n(0,i=e.label),"icon"in e&&n(1,o=e.icon),"size"in e&&n(2,s=e.size),"variants"in e&&n(3,a=e.variants),"title"in e&&n(4,l=e.title),"disabled"in e&&n(5,c=e.disabled),"style"in e&&n(6,u=e.style);},[i,o,s,a,l,c,u,r,e=>r("click",e)]}class qo extends Ie{constructor(e){super(),je(this,e,Vo,Ho,a,{label:0,icon:1,size:2,variants:3,title:4,disabled:5,style:6});}}const Uo=e=>({}),Ko=e=>({class:"card-footer svelte-1yq2xm4"}),Jo=e=>({}),Go=e=>({}),Yo=e=>({}),Xo=e=>({});function Zo(e){let t,n,r,i;const o=[es,Qo],s=[];function a(e,t){return e[0]?0:1}return n=a(e),r=s[n]=o[n](e),{c(){t=M("header"),r.c();},m(e,r){$(e,t,r),s[n].m(t,null),i=!0;},p(e,i){let l=n;n=a(e),n===l?s[n].p(e,i):(be(),ke(s[l],1,1,()=>{s[l]=null;}),we(),r=s[n],r||(r=s[n]=o[n](e),r.c()),xe(r,1),r.m(t,null));},i(e){i||(xe(r),i=!0);},o(e){ke(r),i=!1;},d(e){e&&S(t),s[n].d();}}}function Qo(e){let t;const n=e[4].header,r=f(n,e,e[3],Xo);return {c(){r&&r.c();},m(e,n){r&&r.m(e,n),t=!0;},p(e,t){r&&r.p&&8&t&&d(r,n,e,e[3],t,Yo,Xo);},i(e){t||(xe(r,e),t=!0);},o(e){ke(r,e),t=!1;},d(e){r&&r.d(e);}}}function es(t){let n,r;return {c(){n=M("p"),r=O(t[0]),L(n,"class","text-md font-semibold mb-2");},m(e,t){$(e,n,t),k(n,r);},p(e,t){1&t&&P(r,e[0]);},i:e,o:e,d(e){e&&S(n);}}}function ts(e){let t,n;const r=e[4].body,i=f(r,e,e[3],Go),o=e[4].default,s=f(o,e,e[3],null);return {c(){i&&i.c(),t=T(),s&&s.c();},m(e,r){i&&i.m(e,r),$(e,t,r),s&&s.m(e,r),n=!0;},p(e,t){i&&i.p&&8&t&&d(i,r,e,e[3],t,Jo,Go),s&&s.p&&8&t&&d(s,o,e,e[3],t,null,null);},i(e){n||(xe(i,e),xe(s,e),n=!0);},o(e){ke(i,e),ke(s,e),n=!1;},d(e){i&&i.d(e),e&&S(t),s&&s.d(e);}}}function ns(e){let t,n,r,i,o,s,a;const l=e[4].default,c=f(l,e,e[3],null);return {c(){t=M("article"),n=M("figure"),r=M("img"),o=T(),s=M("div"),c&&c.c(),r.src!==(i=e[1])&&L(r,"src",i),L(n,"class","w-1/6 mr-2"),L(s,"class","w-5/6"),L(t,"class","flex");},m(e,i){$(e,t,i),k(t,n),k(n,r),k(t,o),k(t,s),c&&c.m(s,null),a=!0;},p(e,t){(!a||2&t&&r.src!==(i=e[1]))&&L(r,"src",i),c&&c.p&&8&t&&d(c,l,e,e[3],t,null,null);},i(e){a||(xe(c,e),a=!0);},o(e){ke(c,e),a=!1;},d(e){e&&S(t),c&&c.d(e);}}}function rs(e){let t,n,r,i,o,s,a,l,c=e[0]&&Zo(e);const u=[ns,ts],p=[];function h(e,t){return e[1]?0:1}i=h(e),o=p[i]=u[i](e);const g=e[4].footer,v=f(g,e,e[3],Ko);return {c(){t=M("div"),c&&c.c(),n=T(),r=M("div"),o.c(),s=T(),v&&v.c(),L(r,"class","card-body svelte-1yq2xm4"),L(t,"class",a=m(e[2])+" svelte-1yq2xm4");},m(e,o){$(e,t,o),c&&c.m(t,null),k(t,n),k(t,r),p[i].m(r,null),k(t,s),v&&v.m(t,null),l=!0;},p(e,[s]){e[0]?c?(c.p(e,s),1&s&&xe(c,1)):(c=Zo(e),c.c(),xe(c,1),c.m(t,n)):c&&(be(),ke(c,1,1,()=>{c=null;}),we());let f=i;i=h(e),i===f?p[i].p(e,s):(be(),ke(p[f],1,1,()=>{p[f]=null;}),we(),o=p[i],o||(o=p[i]=u[i](e),o.c()),xe(o,1),o.m(r,null)),v&&v.p&&8&s&&d(v,g,e,e[3],s,Uo,Ko),(!l||4&s&&a!==(a=m(e[2])+" svelte-1yq2xm4"))&&L(t,"class",a);},i(e){l||(xe(c),xe(o),xe(v,e),l=!0);},o(e){ke(c),ke(o),ke(v,e),l=!1;},d(e){e&&S(t),c&&c.d(),p[i].d(),v&&v.d(e);}}}function is(e,t,n){let{title:r=null}=t,{image:i=null}=t,{variants:o="shadow-sm mb-2"}=t,{$$slots:s={},$$scope:a}=t;return e.$set=e=>{"title"in e&&n(0,r=e.title),"image"in e&&n(1,i=e.image),"variants"in e&&n(2,o=e.variants),"$$scope"in e&&n(3,a=e.$$scope);},[r,i,o,a,s]}class ss extends Ie{constructor(e){super(),je(this,e,is,rs,a,{title:0,image:1,variants:2});}}function as(t){let n,r,i,o,s,a;return {c(){n=M("div"),r=M("i"),s=T(),a=M("link"),L(r,"class","fas fa-spinner svelte-1xym4bq"),L(n,"class",i="spinner text-"+t[0]+" "+t[1]+" svelte-1xym4bq"),L(a,"rel","stylesheet"),L(a,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"),L(a,"integrity","sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="),L(a,"crossorigin","anonymous");},m(e,t){$(e,n,t),k(n,r),$(e,s,t),k(document.head,a);},p(e,[t]){3&t&&i!==(i="spinner text-"+e[0]+" "+e[1]+" svelte-1xym4bq")&&L(n,"class",i);},i(e){o||le(()=>{o=Se(n,No,{duration:200}),o.start();});},o:e,d(e){e&&S(n),e&&S(s),S(a);}}}function ls(e,t,n){let{size:r="2xl"}=t,{variants:i=""}=t;return e.$set=e=>{"size"in e&&n(0,r=e.size),"variants"in e&&n(1,i=e.variants);},[r,i]}class cs extends Ie{constructor(e){super(),je(this,e,ls,as,a,{size:0,variants:1});}}function us(t){let n,r,i,s,a,l,c,u,f,p,d,h,m,g,v,y,b,w,x,C,_,A,E,D,j,P,z,F,W,H,V,q,U,K,J;return {c(){n=M("div"),r=M("button"),i=M("span"),s=M("i"),l=T(),c=M("form"),u=M("button"),f=T(),p=M("div"),d=M("input"),m=T(),g=M("label"),g.textContent="Feedback Type",v=T(),y=M("div"),b=M("div"),w=M("select"),x=M("option"),x.textContent="Something's broken",C=M("option"),C.textContent="I wish I could...",_=M("option"),_.textContent="I love being able to...",A=M("option"),A.textContent="Other",E=T(),D=M("div"),j=M("label"),j.textContent="Details",P=T(),z=M("div"),F=M("textarea"),H=T(),V=M("div"),q=M("button"),U=O("Submit"),L(s,"class",a="fas fa-"+t[3][0]+" svelte-wi7fg9"),L(i,"class","icon is-small"),L(r,"class","button has-tooltip-left svelte-wi7fg9"),L(r,"data-tooltip","Report a bug"),L(r,"aria-label","Report a bug"),L(u,"class","delete svelte-wi7fg9"),L(u,"type","button"),L(d,"type","text"),L(d,"name","Email"),d.hidden=!0,d.value=h=t[5].email,L(g,"class","label"),x.__value="bug",x.value=x.__value,C.__value="wish",C.value=C.__value,_.__value="love",_.value=_.__value,A.__value="other",A.value=A.__value,L(w,"name","Feedback Type"),void 0===t[1]&&le(()=>t[8].call(w)),L(b,"class","select"),L(y,"class","control"),L(p,"class","field"),L(j,"class","label"),L(F,"name","Details"),L(F,"class","textarea"),L(F,"placeholder",W=t[3][1]),L(F,"rows","8"),L(z,"class","control"),L(D,"class","field"),L(q,"class","button is-link is-fullwidth svelte-wi7fg9"),L(q,"type","submit"),q.disabled=t[4],L(V,"class","field"),L(c,"action","https://usebasin.com/f/01497934b82f"),L(c,"method","POST"),L(c,"target","_blank"),L(c,"class","svelte-wi7fg9"),L(n,"class","feedback svelte-wi7fg9"),B(n,"drawer-open",t[0]);},m(e,o){$(e,n,o),k(n,r),k(r,i),k(i,s),k(n,l),k(n,c),k(c,u),k(c,f),k(c,p),k(p,d),k(p,m),k(p,g),k(p,v),k(p,y),k(y,b),k(b,w),k(w,x),k(w,C),k(w,_),k(w,A),R(w,t[1]),k(c,E),k(c,D),k(D,j),k(D,P),k(D,z),k(z,F),I(F,t[2]),k(c,H),k(c,V),k(V,q),k(q,U),K||(J=[N(r,"click",t[6]),N(u,"click",t[7]),N(w,"change",t[8]),N(F,"input",t[9])],K=!0);},p(e,[t]){8&t&&a!==(a="fas fa-"+e[3][0]+" svelte-wi7fg9")&&L(s,"class",a),32&t&&h!==(h=e[5].email)&&d.value!==h&&(d.value=h),2&t&&R(w,e[1]),8&t&&W!==(W=e[3][1])&&L(F,"placeholder",W),4&t&&I(F,e[2]),16&t&&(q.disabled=e[4]),1&t&&B(n,"drawer-open",e[0]);},i:e,o:e,d(e){e&&S(n),K=!1,o(J);}}}function fs(e,t,n){let r;u(e,qx,e=>n(5,r=e));let i=!1,o="bug",s="";let a,l;return e.$$.update=()=>{2&e.$$.dirty&&n(3,a={bug:["bug",'Whenever I press the "Style" button nothing happens'],wish:["praying-hands","I'd like to be able to choose more types of page headers"],love:["heart","I love all the different font combinations"],other:["otter","When I click the link button it calls me names"]}[o]),4&e.$$.dirty&&n(4,l=s.length<3);},[i,o,s,a,l,r,()=>n(0,i=!i),()=>n(0,i=!1),function(){o=F(this),n(1,o);},function(){s=this.value,n(2,s);}]}function ps(e,t,n){const r=e.slice();return r[1]=t[n],r}function ds(e){let t,n,r,i,o,s,a=e[1].label+"";return {c(){t=M("li"),n=M("button"),r=O(a),i=T(),L(n,"class","svelte-1tkchp8");},m(a,l){$(a,t,l),k(t,n),k(n,r),k(t,i),o||(s=N(n,"click",e[1].onclick),o=!0);},p(t,n){e=t;},d(e){e&&S(t),o=!1,s();}}}function hs(t){let n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=ds(ps(t,i,e));return {c(){n=M("nav"),r=M("ul");for(let e=0;e<o.length;e+=1)o[e].c();L(r,"class","svelte-1tkchp8"),L(n,"class","svelte-1tkchp8");},m(e,t){$(e,n,t),k(n,r);for(let e=0;e<o.length;e+=1)o[e].m(r,null);},p(e,[t]){if(1&t){let n;for(i=e[0],n=0;n<i.length;n+=1){const s=ps(e,i,n);o[n]?o[n].p(s,t):(o[n]=ds(s),o[n].c(),o[n].m(r,null));}for(;n<o.length;n+=1)o[n].d(1);o.length=i.length;}},i:e,o:e,d(e){e&&S(n),C(o,e);}}}function ms(e){return [[{label:"Invite user",onclick:()=>{alert("invite user");}},{label:"Settings",onclick:()=>{alert("settings");}}]]}class gs extends Ie{constructor(e){super(),je(this,e,ms,hs,a,{});}}function vs(e,t,n){const r=e.slice();return r[6]=t[n],r}function ys(t){let n,r,i,o,s=t[1],a=[];for(let e=0;e<s.length;e+=1)a[e]=ws(vs(t,s,e));return {c(){n=M("div"),r=M("ul");for(let e=0;e<a.length;e+=1)a[e].c();L(r,"class","svelte-orkscc"),L(n,"class",i="tabs "+t[2]+" svelte-orkscc");},m(e,t){$(e,n,t),k(n,r);for(let e=0;e<a.length;e+=1)a[e].m(r,null);},p(e,t){if(15&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const i=vs(e,s,n);a[n]?a[n].p(i,t):(a[n]=ws(i),a[n].c(),a[n].m(r,null));}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length;}4&t&&i!==(i="tabs "+e[2]+" svelte-orkscc")&&L(n,"class",i);},i(e){o||le(()=>{o=Se(n,No,{duration:200}),o.start();});},o:e,d(e){e&&S(n),C(a,e);}}}function bs(e){let t,n;return {c(){t=M("i"),L(t,"class",n="fas fa-"+e[6].icon+" svelte-orkscc");},m(e,n){$(e,t,n);},p(e,r){2&r&&n!==(n="fas fa-"+e[6].icon+" svelte-orkscc")&&L(t,"class",n);},d(e){e&&S(t);}}}function ws(e){let t,n,r,i,o,s,a,l,c=("string"==typeof e[6]?e[6]:e[6].label)+"",u=e[6].icon&&bs(e);function f(...t){return e[5](e[6],...t)}return {c(){t=M("li"),n=M("button"),u&&u.c(),r=T(),i=O(c),o=T(),L(n,"class","svelte-orkscc"),L(t,"style",s=e[2].includes("secondary")?"":e[3](e[0]===e[6])),L(t,"class","svelte-orkscc"),B(t,"is-active",e[0]===e[6]);},m(e,s){$(e,t,s),k(t,n),u&&u.m(n,null),k(n,r),k(n,i),k(t,o),a||(l=N(n,"click",f),a=!0);},p(o,a){(e=o)[6].icon?u?u.p(e,a):(u=bs(e),u.c(),u.m(n,r)):u&&(u.d(1),u=null),2&a&&c!==(c=("string"==typeof e[6]?e[6]:e[6].label)+"")&&P(i,c),7&a&&s!==(s=e[2].includes("secondary")?"":e[3](e[0]===e[6]))&&L(t,"style",s),3&a&&B(t,"is-active",e[0]===e[6]);},d(e){e&&S(t),u&&u.d(),a=!1,l();}}}function xs(t){let n,r=t[1].length>1&&ys(t);return {c(){r&&r.c(),n=A();},m(e,t){r&&r.m(e,t),$(e,n,t);},p(e,[t]){e[1].length>1?r?(r.p(e,t),2&t&&xe(r,1)):(r=ys(e),r.c(),xe(r,1),r.m(n.parentNode,n)):r&&(r.d(1),r=null);},i(e){xe(r);},o:e,d(e){r&&r.d(e),e&&S(n);}}}function ks(e,t,n){let{tabs:r}=t,{activeTab:i}=t,{variants:o=""}=t,{activeColor:s="rgb(248,68,73)"}=t;return e.$set=e=>{"tabs"in e&&n(1,r=e.tabs),"activeTab"in e&&n(0,i=e.activeTab),"variants"in e&&n(2,o=e.variants),"activeColor"in e&&n(4,s=e.activeColor);},[i,r,o,e=>e?`border-color:${s};color:${s};`:"border-color:transparent;",s,e=>n(0,i=e)]}class $s extends Ie{constructor(e){super(),je(this,e,ks,xs,a,{tabs:1,activeTab:0,variants:2,activeColor:4});}}function Ss(t){let n,r,i,o,s,a,l;return {c(){n=M("div"),r=M("progress"),i=T(),o=M("button"),o.textContent="Undo",L(r,"class","w-full rounded overflow-hidden h-full svelte-2db3mu"),r.value=t[2],L(r,"max",t[0]),L(o,"class","font-medium text-sm bg-gray-800 px-2 py-1 rounded text-gray-100 ml-2"),L(n,"class",s="w-full flex "+t[1]);},m(e,s){$(e,n,s),k(n,r),k(n,i),k(n,o),a||(l=N(o,"click",t[3]),a=!0);},p(e,[t]){4&t&&(r.value=e[2]),1&t&&L(r,"max",e[0]),2&t&&s!==(s="w-full flex "+e[1])&&L(n,"class",s);},i:e,o:e,d(e){e&&S(n),a=!1,l();}}}function Cs(e,t,n){const r=Z();let{time:i=1e3}=t,{interval:o=1}=t,{variants:s=""}=t,a=0,l=setInterval(()=>{a<i?n(2,a++,a):(r("end"),n(2,a=i),clearInterval(l));},o);return e.$set=e=>{"time"in e&&n(0,i=e.time),"interval"in e&&n(4,o=e.interval),"variants"in e&&n(1,s=e.variants);},[i,s,a,function(){n(2,a=0),clearInterval(l),r("undo");},o]}var Ms=Qe((function(e){!function(t,n){var r={version:"2.11.2",areas:{},apis:{},inherit:function(e,t){for(var n in e)t.hasOwnProperty(n)||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},stringify:function(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)},parse:function(e,t){try{return JSON.parse(e,t||r.revive)}catch(t){return e}},fn:function(e,t){for(var n in r.storeAPI[e]=t,r.apis)r.apis[n][e]=t;},get:function(e,t){return e.getItem(t)},set:function(e,t,n){e.setItem(t,n);},remove:function(e,t){e.removeItem(t);},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear();},Store:function(e,t,n){var i=r.inherit(r.storeAPI,(function(e,t,n){return 0===arguments.length?i.getAll():"function"==typeof t?i.transact(e,t,n):void 0!==t?i.set(e,t,n):"string"==typeof e||"number"==typeof e?i.get(e):"function"==typeof e?i.each(e):e?i.setAll(e,t):i.clear()}));i._id=e;try{t.setItem("_-bad-_","wolf"),i._area=t,t.removeItem("_-bad-_");}catch(e){}return i._area||(i._area=r.storage("fake")),i._ns=n||"",r.areas[e]||(r.areas[e]=i._area),r.apis[i._ns+i._id]||(r.apis[i._ns+i._id]=i),i},storeAPI:{area:function(e,t){var n=this[e];return n&&n.area||(n=r.Store(e,t,this._ns),this[e]||(this[e]=n)),n},namespace:function(e,t){if(!e)return this._ns?this._ns.substring(0,this._ns.length-1):"";var n=e,i=this[n];if(!(i&&i.namespace||(i=r.Store(this._id,this._area,this._ns+n+"."),this[n]||(this[n]=i),t)))for(var o in r.areas)i.area(o,r.areas[o]);return i},isFake:function(){return "fake"===this._area.name},toString:function(){return "store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var n=0,i=r.length(this._area);n<i;n++){var o=this._out(r.key(this._area,n));if(void 0!==o&&!1===e.call(this,o,this.get(o),t))break;i>r.length(this._area)&&(i--,n--);}return t||this},keys:function(e){return this.each((function(e,t,n){n.push(e);}),e||[])},get:function(e,t){var n,i=r.get(this._area,this._in(e));return "function"==typeof t&&(n=t,t=null),null!==i?r.parse(i,n):null!=t?t:i},getAll:function(e){return this.each((function(e,t,n){n[e]=t;}),e||{})},transact:function(e,t,n){var r=this.get(e,n),i=t(r);return this.set(e,void 0===i?r:i),this},set:function(e,t,n){var i=this.get(e);return null!=i&&!1===n?t:r.set(this._area,this._in(e),r.stringify(t),n)||i},setAll:function(e,t){var n,r;for(var i in e)r=e[i],this.set(i,r,t)!==r&&(n=!0);return n},add:function(e,t){var n=this.get(e);if(n instanceof Array)t=n.concat(t);else if(null!==n){var i=typeof n;if(i===typeof t&&"object"===i){for(var o in t)n[o]=t[o];t=n;}else t=n+t;}return r.set(this._area,this._in(e),r.stringify(t)),t},remove:function(e,t){var n=this.get(e,t);return r.remove(this._area,this._in(e)),n},clear:function(){return this._ns?this.each((function(e){r.remove(this._area,this._in(e));}),1):r.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in r.areas)r.areas.hasOwnProperty(t)&&(this._area=r.areas[t],this.clear());return this._area=e,this},_in:function(e){return "string"!=typeof e&&(e=r.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return r.inherit(r.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var n in this.items)if(this.has(n)&&e===t++)return n},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t;},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--);},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e);}}},i=r.Store("local",function(){try{return localStorage}catch(e){}}());i.local=i,i._=r,i.area("session",function(){try{return sessionStorage}catch(e){}}()),i.area("page",r.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return i})):e.exports?e.exports=i:(t.store&&(r.conflict=t.store),t.store=i);}(Ze,Ze&&Ze.define);}));function Os(t){let n,r,i;return {c(){n=M("button"),n.textContent="change view",L(n,"class","switch-view svelte-taz1en");},m(e,o){$(e,n,o),r||(i=N(n,"click",t[6]),r=!0);},p:e,d(e){e&&S(n),r=!1,i();}}}function Ts(t){let n,r,i,s,a,l,c,u,f,p,d=t[0]&&Os(t);return {c(){n=M("div"),r=M("div"),i=M("iframe"),a=T(),l=M("div"),d&&d.c(),c=T(),u=M("a"),u.innerHTML='<span>preview in separate tab</span> \n      <span class="icon ml-1"><i class="fas fa-external-link-alt"></i></span>',L(i,"title","Preview HTML"),i.src!==(s="preview.html")&&L(i,"src","preview.html"),L(i,"class","bg-white w-full h-full svelte-taz1en"),B(i,"scaled","large"===t[0]),B(i,"fadein",t[4]),L(r,"class","preview-container flex-1 svelte-taz1en"),B(r,"loading",t[1]),L(u,"target","blank"),L(u,"class","separate-tab svelte-taz1en"),L(u,"href","preview.html"),L(l,"class","footer-buttons svelte-taz1en"),L(n,"class","h-full flex flex-col pl-2");},m(e,o){$(e,n,o),k(n,r),k(r,i),t[17](i),t[18](r),k(n,a),k(n,l),d&&d.m(l,null),k(l,c),k(l,u),f||(p=[N(window,"resize",t[5]),N(i,"load",t[16])],f=!0);},p(e,[t]){1&t&&B(i,"scaled","large"===e[0]),16&t&&B(i,"fadein",e[4]),2&t&&B(r,"loading",e[1]),e[0]?d?d.p(e,t):(d=Os(e),d.c(),d.m(l,c)):d&&(d.d(1),d=null);},i:e,o:e,d(e){e&&S(n),t[17](null),t[18](null),d&&d.d(),f=!1,o(p);}}}function _s(e,t,n){let r,i;u(e,Bv,e=>n(22,r=e)),u(e,Ex,e=>n(23,i=e));let{multiple:o=!1}=t,{pages:s=null}=t,{id:a=null}=t,{html:l=""}=t,{css:c=""}=t,{js:f=""}=t,{settings:p=null}=t,{dependencies:d=null}=t,{loading:h=!1}=t,{view:m=null}=t,{includeParentStyles:g=!1}=t;var v=new BroadcastChannel("preview");let y,b,w=!1;v.onmessage=()=>{n(20,w=!0);};let x,k=f,$=!1;function S(){if(m){const{clientWidth:e}=x,{clientWidth:t}=y,r=e/t;n(2,y.style.transform=`scale(${r})`,y),n(2,y.style.height=100/r+"%",y);}}X(S);return e.$set=e=>{"multiple"in e&&n(8,o=e.multiple),"pages"in e&&n(9,s=e.pages),"id"in e&&n(10,a=e.id),"html"in e&&n(11,l=e.html),"css"in e&&n(7,c=e.css),"js"in e&&n(12,f=e.js),"settings"in e&&n(13,p=e.settings),"dependencies"in e&&n(14,d=e.dependencies),"loading"in e&&n(1,h=e.loading),"view"in e&&n(0,m=e.view),"includeParentStyles"in e&&n(15,g=e.includeParentStyles);},e.$$.update=()=>{12615808&e.$$.dirty&&g&&n(7,c=r.styles.final+i.styles.final+c),1573632&e.$$.dirty&&o&&w&&v.postMessage(s),31872&e.$$.dirty&&Ms.set("preview",{id:a,html:l,css:c,js:f,settings:p,dependencies:d}),2101252&e.$$.dirty&&k!==f&&(clearTimeout(b),n(21,b=setTimeout(()=>{y.contentWindow.location.reload();},1e3)));},[m,h,y,x,$,S,function(){y.classList.remove("fadein"),setTimeout(()=>{"small"===m?(n(0,m="large"),setTimeout(S,100)):(n(2,y.style.transform="scale(1)",y),n(2,y.style.height="100%",y),n(0,m="small")),setTimeout(()=>{y.classList.add("fadein");},400);},100);},c,o,s,a,l,f,p,d,g,()=>{n(4,$=!0);},function(e){re[e?"unshift":"push"](()=>{y=e,n(2,y);});},function(e){re[e?"unshift":"push"](()=>{x=e,n(3,x);});}]}class As extends Ie{constructor(e){super(),je(this,e,_s,Ts,a,{multiple:8,pages:9,id:10,html:11,css:7,js:12,settings:13,dependencies:14,loading:1,view:0,includeParentStyles:15});}}var Ns=Object.freeze({__proto__:null,InfoTooltip:Po,Clipboard:class extends Ie{constructor(e){super(),je(this,e,Bo,Fo,a,{value:0});}},IconButton:qo,Card:ss,Spinner:cs,FeedbackForm:class extends Ie{constructor(e){super(),je(this,e,fs,us,a,{});}},ContextMenu:gs,Tabs:$s,Countdown:class extends Ie{constructor(e){super(),je(this,e,Cs,Ss,a,{time:0,interval:4,variants:1});}},CodePreview:As});var qs=Qe((function(e,t){!function(t,n){e.exports=n();}(0,(function(){var e=[],t=[],n={},r={},i={};function o(e){return "string"==typeof e?new RegExp("^"+e+"$","i"):e}function s(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function l(e,t){return e.replace(t[0],(function(n,r){var i=a(t[1],arguments);return s(""===n?e[r-1]:n,i)}))}function c(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var i=r.length;i--;){var o=r[i];if(o[0].test(t))return l(t,o)}return t}function u(e,t,n){return function(r){var i=r.toLowerCase();return t.hasOwnProperty(i)?s(r,i):e.hasOwnProperty(i)?s(r,e[i]):c(i,r,n)}}function f(e,t,n,r){return function(r){var i=r.toLowerCase();return !!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&c(i,i,n)===i}}function p(e,t,n){return (n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=u(i,r,e),p.isPlural=f(i,r,e),p.singular=u(r,i,t),p.isSingular=f(r,i,t),p.addPluralRule=function(t,n){e.push([o(t),n]);},p.addSingularRule=function(e,n){t.push([o(e),n]);},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0;},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,r[t]=e;},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}));}));function Qs(e){let t,n,r,i,o,s=e[4]&&ea();return {c(){t=M("div"),n=M("label"),r=O(e[2]),i=T(),s&&s.c(),L(n,"class","label"),L(n,"title",e[5]),L(t,"class","field-label is-normal");},m(e,a){$(e,t,a),k(t,n),k(n,r),k(n,i),s&&s.m(n,null),o=!0;},p(e,t){(!o||4&t)&&P(r,e[2]),e[4]?s?16&t&&xe(s,1):(s=ea(),s.c(),xe(s,1),s.m(n,null)):s&&(be(),ke(s,1,1,()=>{s=null;}),we()),(!o||32&t)&&L(n,"title",e[5]);},i(e){o||(xe(s),o=!0);},o(e){ke(s),o=!1;},d(e){e&&S(t),s&&s.d();}}}function ea(e){let t,n;return t=new Po({}),{c(){Ne(t.$$.fragment);},m(e,r){Ee(t,e,r),n=!0;},i(e){n||(xe(t.$$.fragment,e),n=!0);},o(e){ke(t.$$.fragment,e),n=!1;},d(e){Le(t,e);}}}function ta(e){let t,n,r;return {c(){t=M("p"),n=M("span"),r=O(e[1]),L(n,"class","button is-static"),L(t,"class","control");},m(e,i){$(e,t,i),k(t,n),k(n,r);},p(e,t){2&t&&P(r,e[1]);},d(e){e&&S(t);}}}function na(e){let t;const n=e[9].default,r=f(n,e,e[8],null);return {c(){r&&r.c();},m(e,n){r&&r.m(e,n),t=!0;},p(e,t){r&&r.p&&256&t&&d(r,n,e,e[8],t,null,null);},i(e){t||(xe(r,e),t=!0);},o(e){ke(r,e),t=!1;},d(e){r&&r.d(e);}}}function ra(t){let r,i,o,s=[{class:"input"},t[3],{value:t[0]},{disabled:t[6]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return {c(){r=M("input"),D(r,a);},m(e,n){$(e,r,n),i||(o=N(r,"input",t[7]),i=!0);},p(e,t){D(r,a=Te(s,[{class:"input"},8&t&&e[3],1&t&&r.value!==e[0]&&{value:e[0]},64&t&&{disabled:e[6]}]));},i:e,o:e,d(e){e&&S(r),i=!1,o();}}}function ia(e){let t,n,r,i,o,s,a,l,c,u=e[2]&&Qs(e),f=e[1]&&ta(e);const p=[ra,na],d=[];function h(e,t){return e[3]?0:1}return a=h(e),l=d[a]=p[a](e),{c(){t=M("div"),u&&u.c(),n=T(),r=M("div"),i=M("div"),f&&f.c(),o=T(),s=M("p"),l.c(),L(s,"class","control is-expanded"),L(i,"class","field is-expanded"),B(i,"has-addons",e[1]),L(r,"class","field-body"),L(t,"class","field"),B(t,"is-horizontal",e[2]);},m(e,l){$(e,t,l),u&&u.m(t,null),k(t,n),k(t,r),k(r,i),f&&f.m(i,null),k(i,o),k(i,s),d[a].m(s,null),c=!0;},p(e,[r]){e[2]?u?(u.p(e,r),4&r&&xe(u,1)):(u=Qs(e),u.c(),xe(u,1),u.m(t,n)):u&&(be(),ke(u,1,1,()=>{u=null;}),we()),e[1]?f?f.p(e,r):(f=ta(e),f.c(),f.m(i,o)):f&&(f.d(1),f=null);let c=a;a=h(e),a===c?d[a].p(e,r):(be(),ke(d[c],1,1,()=>{d[c]=null;}),we(),l=d[a],l||(l=d[a]=p[a](e),l.c()),xe(l,1),l.m(s,null)),2&r&&B(i,"has-addons",e[1]),4&r&&B(t,"is-horizontal",e[2]);},i(e){c||(xe(u),xe(l),c=!0);},o(e){ke(u),ke(l),c=!1;},d(e){e&&S(t),u&&u.d(),f&&f.d(),d[a].d();}}}function oa(e,t,n){const r=Z();let{label:i=null}=t,{value:o=""}=t,{leftlabel:s=null}=t,{input:a=null}=t,{info:l=null}=t,{title:c=null}=t,{disabled:u}=t;let{$$slots:f={},$$scope:p}=t;return e.$set=e=>{"label"in e&&n(1,i=e.label),"value"in e&&n(0,o=e.value),"leftlabel"in e&&n(2,s=e.leftlabel),"input"in e&&n(3,a=e.input),"info"in e&&n(4,l=e.info),"title"in e&&n(5,c=e.title),"disabled"in e&&n(6,u=e.disabled),"$$scope"in e&&n(8,p=e.$$scope);},[o,i,s,a,l,c,u,function({target:e}){r("input"),n(0,o=e.value);},p,f]}class sa extends Ie{constructor(e){super(),je(this,e,oa,ia,a,{label:1,value:0,leftlabel:2,input:3,info:4,title:5,disabled:6});}}const aa=e=>({}),la=e=>({}),ca=e=>({}),ua=e=>({}),fa=e=>({}),pa=e=>({});function da(e){let t,n,r,i,o,s,a,l,c,u,p,h,m,g,v,y,b,w,x,C;const O=e[3].type,_=f(O,e,e[2],pa),A=e[3].label,N=f(A,e,e[2],ua),E=e[3].key,D=f(E,e,e[2],la);return w=new qo({props:{icon:"times",variants:"is-danger is-outlined",disabled:e[0]}}),w.$on("click",e[4]),{c(){t=M("div"),n=M("div"),r=M("div"),i=M("p"),o=M("span"),_&&_.c(),s=T(),a=M("div"),l=M("p"),l.innerHTML='<span class="button is-static">Label</span>',c=T(),u=M("p"),N&&N.c(),p=T(),h=M("div"),m=M("div"),g=M("p"),g.innerHTML='<span class="button is-static">ID</span>',v=T(),y=M("p"),D&&D.c(),b=T(),Ne(w.$$.fragment),L(o,"class","select"),L(i,"class","control"),L(r,"class","field has-addons"),L(l,"class","control"),L(u,"class","control is-expanded"),L(a,"class","field has-addons is-expanded"),L(g,"class","control"),L(y,"class","control is-expanded"),L(m,"class","field has-addons"),L(h,"class","field is-expanded"),L(n,"class","field-body"),L(t,"class","field is-horizontal");},m(e,f){$(e,t,f),k(t,n),k(n,r),k(r,i),k(i,o),_&&_.m(o,null),k(n,s),k(n,a),k(a,l),k(a,c),k(a,u),N&&N.m(u,null),k(n,p),k(n,h),k(h,m),k(m,g),k(m,v),k(m,y),D&&D.m(y,null),k(n,b),Ee(w,n,null),C=!0;},p(e,[t]){_&&_.p&&4&t&&d(_,O,e,e[2],t,fa,pa),N&&N.p&&4&t&&d(N,A,e,e[2],t,ca,ua),D&&D.p&&4&t&&d(D,E,e,e[2],t,aa,la);const n={};1&t&&(n.disabled=e[0]),w.$set(n);},i(e){C||(xe(_,e),xe(N,e),xe(D,e),xe(w.$$.fragment,e),x||le(()=>{x=Se(t,No,{duration:100}),x.start();}),C=!0);},o(e){ke(_,e),ke(N,e),ke(D,e),ke(w.$$.fragment,e),C=!1;},d(e){e&&S(t),_&&_.d(e),N&&N.d(e),D&&D.d(e),Le(w);}}}function ha(e,t,n){let{disabled:r=!1}=t;const i=Z();let{$$slots:o={},$$scope:s}=t;return e.$set=e=>{"disabled"in e&&n(0,r=e.disabled),"$$scope"in e&&n(2,s=e.$$scope);},[r,i,s,o,()=>i("delete")]}class ma extends Ie{constructor(e){super(),je(this,e,ha,da,a,{disabled:0});}}function ga(e){let t,n,r,i,o,s=e[0].label+"";function a(e,t){return e[4]?ba:ya}let l=a(e),c=l(e);return {c(){t=M("div"),n=M("label"),r=O(s),i=T(),o=M("div"),c.c(),L(o,"class","control"),L(n,"class","label"),L(t,"class","field");},m(e,s){$(e,t,s),k(t,n),k(n,r),k(n,i),k(n,o),c.m(o,null);},p(e,t){1&t&&s!==(s=e[0].label+"")&&P(r,s),l===(l=a(e))&&c?c.p(e,t):(c.d(1),c=l(e),c&&(c.c(),c.m(o,null)));},d(e){e&&S(t),c.d();}}}function va(e){let t,n,r,i,o,s,a,l,c,u=e[0].label+"";function f(e,t){return e[4]?xa:wa}let p=f(e),d=p(e);return {c(){t=M("div"),n=M("div"),r=M("label"),i=O(u),s=T(),a=M("div"),l=M("div"),c=M("p"),d.c(),L(r,"class","label"),L(r,"for",o=e[0].id),L(n,"class","field-label"),L(c,"class","control"),L(l,"class","field"),L(a,"class","field-body"),L(t,"class","field is-horizontal");},m(e,o){$(e,t,o),k(t,n),k(n,r),k(r,i),k(t,s),k(t,a),k(a,l),k(l,c),d.m(c,null);},p(e,t){1&t&&u!==(u=e[0].label+"")&&P(i,u),1&t&&o!==(o=e[0].id)&&L(r,"for",o),p===(p=f(e))&&d?d.p(e,t):(d.d(1),d=p(e),d&&(d.c(),d.m(c,null)));},d(e){e&&S(t),d.d();}}}function ya(e){let t,n,r,i,o,s;return {c(){t=M("input"),L(t,"class","input"),L(t,"title",e[2]),t.disabled=e[1],L(t,"type",n=e[0].type),t.checked=r=e[0].value,t.value=i=e[0].value;},m(n,r){$(n,t,r),o||(s=N(t,"input",e[5]),o=!0);},p(e,o){4&o&&L(t,"title",e[2]),2&o&&(t.disabled=e[1]),1&o&&n!==(n=e[0].type)&&L(t,"type",n),1&o&&r!==(r=e[0].value)&&(t.checked=r),1&o&&i!==(i=e[0].value)&&t.value!==i&&(t.value=i);},d(e){e&&S(t),o=!1,s();}}}function ba(e){let t,n,r,i;return {c(){t=M("input"),L(t,"title",e[2]),t.disabled=e[1],L(t,"type","checkbox"),t.checked=n=e[0].value;},m(n,o){$(n,t,o),r||(i=N(t,"input",e[5]),r=!0);},p(e,r){4&r&&L(t,"title",e[2]),2&r&&(t.disabled=e[1]),1&r&&n!==(n=e[0].value)&&(t.checked=n);},d(e){e&&S(t),r=!1,i();}}}function wa(e){let t,n,r,i,o,s,a;return {c(){t=M("input"),L(t,"class","input"),L(t,"title",e[2]),t.disabled=e[1],L(t,"id",n=e[0].id),L(t,"type",r=e[0].type),t.checked=i=e[0].value,t.value=o=e[0].value;},m(n,r){$(n,t,r),s||(a=N(t,"input",e[5]),s=!0);},p(e,s){4&s&&L(t,"title",e[2]),2&s&&(t.disabled=e[1]),1&s&&n!==(n=e[0].id)&&L(t,"id",n),1&s&&r!==(r=e[0].type)&&L(t,"type",r),1&s&&i!==(i=e[0].value)&&(t.checked=i),1&s&&o!==(o=e[0].value)&&t.value!==o&&(t.value=o);},d(e){e&&S(t),s=!1,a();}}}function xa(e){let t,n,r,i,o;return {c(){t=M("input"),L(t,"title",e[2]),t.disabled=e[1],L(t,"id",n=e[0].id),L(t,"type","checkbox"),t.checked=r=e[0].value;},m(n,r){$(n,t,r),i||(o=N(t,"input",e[5]),i=!0);},p(e,i){4&i&&L(t,"title",e[2]),2&i&&(t.disabled=e[1]),1&i&&n!==(n=e[0].id)&&L(t,"id",n),1&i&&r!==(r=e[0].value)&&(t.checked=r);},d(e){e&&S(t),i=!1,o();}}}function ka(t){let n;function r(e,t){return e[3]?va:ga}let i=r(t),o=i(t);return {c(){o.c(),n=A();},m(e,t){o.m(e,t),$(e,n,t);},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(n.parentNode,n)));},i:e,o:e,d(e){o.d(e),e&&S(n);}}}function $a(e,t,n){const r=Z();let i,{field:o}=t,{disabled:s=!1}=t,{title:a=null}=t,{horizontal:l=!1}=t;return e.$set=e=>{"field"in e&&n(0,o=e.field),"disabled"in e&&n(1,s=e.disabled),"title"in e&&n(2,a=e.title),"horizontal"in e&&n(3,l=e.horizontal);},e.$$.update=()=>{1&e.$$.dirty&&n(4,i="checkbox"===o.type);},[o,s,a,l,i,function({target:e}){n(0,o.value=i?e.checked:e.value,o),r("input");}]}class Sa extends Ie{constructor(e){super(),je(this,e,$a,ka,a,{field:0,disabled:1,title:2,horizontal:3});}}function Ca(e){let t,n,r,i,s,a,l,c,u,p;const h=e[3].default,m=f(h,e,e[2],null);return {c(){t=M("div"),n=M("div"),n.innerHTML='<label class="label">Image URL</label>',r=T(),i=M("div"),s=M("div"),a=M("input"),l=T(),m&&m.c(),L(n,"class","field-label is-normal"),L(a,"class","input"),L(a,"type","url"),L(a,"placeholder","https://images.pexels.com/photos/104827/cat-pet-animal-domestic-104827.jpeg"),L(s,"class","control is-expanded mb-4"),L(i,"class","field-body"),L(t,"class","field is-horizontal");},m(o,f){$(o,t,f),k(t,n),k(t,r),k(t,i),k(i,s),k(s,a),I(a,e[0].value),$(o,l,f),m&&m.m(o,f),c=!0,u||(p=[N(a,"input",e[4]),N(a,"input",e[5])],u=!0);},p(e,[t]){1&t&&I(a,e[0].value),m&&m.p&&4&t&&d(m,h,e,e[2],t,null,null);},i(e){c||(xe(m,e),c=!0);},o(e){ke(m,e),c=!1;},d(e){e&&S(t),e&&S(l),m&&m.d(e),u=!1,o(p);}}}function Ma(e,t,n){const r=Z();let{field:i}=t,{$$slots:o={},$$scope:s}=t;return e.$set=e=>{"field"in e&&n(0,i=e.field),"$$scope"in e&&n(2,s=e.$$scope);},[i,r,s,o,function(){i.value=this.value,n(0,i);},()=>r("input",i.value)]}class Oa extends Ie{constructor(e){super(),je(this,e,Ma,Ca,a,{field:0});}}function Ta(t){let n;return {c(){n=M("form"),n.innerHTML='<label for="context-input">Email:</label> \n  <input type="text" id="context-input">',L(n,"class","svelte-nl9lc8");},m(e,t){$(e,n,t);},p:e,i:e,o:e,d(e){e&&S(n);}}}function _a(e,t,n){const r=e.slice();return r[7]=t[n],r}function Aa(e){let t,n,r,i,o=e[7]+"";function s(...t){return e[5](e[7],...t)}return {c(){t=M("button"),n=O(o),L(t,"type","button"),L(t,"class","svelte-1gyu1sx"),B(t,"selected",e[0]===e[7]);},m(e,o){$(e,t,o),k(t,n),r||(i=N(t,"click",s),r=!0);},p(r,i){e=r,8&i&&o!==(o=e[7]+"")&&P(n,o),9&i&&B(t,"selected",e[0]===e[7]);},d(e){e&&S(t),r=!1,i();}}}function Na(t){let n,r,i,o,s,a,l=t[3],c=[];for(let e=0;e<l.length;e+=1)c[e]=Aa(_a(t,l,e));return {c(){n=M("div"),r=M("span"),i=O(t[2]),o=T(),s=M("div");for(let e=0;e<c.length;e+=1)c[e].c();L(r,"class","text-base text-gray-900 font-semibold"),L(s,"class","toggle svelte-1gyu1sx"),L(n,"class",a=m(t[4])+" svelte-1gyu1sx"),L(n,"id",t[1]);},m(e,t){$(e,n,t),k(n,r),k(r,i),k(n,o),k(n,s);for(let e=0;e<c.length;e+=1)c[e].m(s,null);},p(e,[t]){if(4&t&&P(i,e[2]),9&t){let n;for(l=e[3],n=0;n<l.length;n+=1){const r=_a(e,l,n);c[n]?c[n].p(r,t):(c[n]=Aa(r),c[n].c(),c[n].m(s,null));}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length;}16&t&&a!==(a=m(e[4])+" svelte-1gyu1sx")&&L(n,"class",a),2&t&&L(n,"id",e[1]);},i:e,o:e,d(e){e&&S(n),C(c,e);}}}function Ea(e,t,n){const r=Z();let{id:i=null}=t,{label:o}=t,{options:s}=t,{selection:a=s[0]}=t,{variants:l=""}=t;return e.$set=e=>{"id"in e&&n(1,i=e.id),"label"in e&&n(2,o=e.label),"options"in e&&n(3,s=e.options),"selection"in e&&n(0,a=e.selection),"variants"in e&&n(4,l=e.variants);},e.$$.update=()=>{1&e.$$.dirty&&r("select",a);},[a,i,o,s,l,e=>n(0,a=e)]}class La extends Ie{constructor(e){super(),je(this,e,Ea,Na,a,{id:1,label:2,options:3,selection:0,variants:4});}}function Da(e){let t,n;return {c(){t=M("span"),n=O(e[2]),L(t,"class","text-base mb-1 text-gray-900 font-semibold");},m(e,r){$(e,t,r),k(t,n);},p(e,t){4&t&&P(n,e[2]);},d(e){e&&S(t);}}}function ja(e){let t,n;return {c(){t=M("span"),n=O(e[3]),L(t,"class","font-medium inline-block flex items-center mr-4 inline-block");},m(e,r){$(e,t,r),k(t,n);},p(e,t){8&t&&P(n,e[3]);},d(e){e&&S(t);}}}function Pa(t){let n,r,i,s,a,l,c,u,f=t[2]&&Da(t),p=t[3]&&ja(t);return {c(){n=M("label"),f&&f.c(),r=T(),i=M("div"),p&&p.c(),s=T(),a=M("input"),a.autofocus=t[6],L(a,"type","text"),L(a,"placeholder",t[4]),L(a,"class","inline-block flex-1 svelte-160vgp3"),L(i,"class","flex items-normal w-full"),L(n,"class",l="flex flex-col items-start "+t[5]),L(n,"id",t[1]);},m(e,o){$(e,n,o),f&&f.m(n,null),k(n,r),k(n,i),p&&p.m(i,null),k(i,s),k(i,a),I(a,t[0]),c||(u=[N(a,"input",t[8]),N(a,"input",t[9])],c=!0);},p(e,[t]){e[2]?f?f.p(e,t):(f=Da(e),f.c(),f.m(n,r)):f&&(f.d(1),f=null),e[3]?p?p.p(e,t):(p=ja(e),p.c(),p.m(i,s)):p&&(p.d(1),p=null),64&t&&(a.autofocus=e[6]),16&t&&L(a,"placeholder",e[4]),1&t&&a.value!==e[0]&&I(a,e[0]),32&t&&l!==(l="flex flex-col items-start "+e[5])&&L(n,"class",l),2&t&&L(n,"id",e[1]);},i:e,o:e,d(e){e&&S(n),f&&f.d(),p&&p.d(),c=!1,o(u);}}}function Ia(e,t,n){const r=Z();let{id:i}=t,{label:o}=t,{prefix:s=""}=t,{value:a}=t,{placeholder:l=""}=t,{variants:c=""}=t,{autofocus:u=!1}=t;return e.$set=e=>{"id"in e&&n(1,i=e.id),"label"in e&&n(2,o=e.label),"prefix"in e&&n(3,s=e.prefix),"value"in e&&n(0,a=e.value),"placeholder"in e&&n(4,l=e.placeholder),"variants"in e&&n(5,c=e.variants),"autofocus"in e&&n(6,u=e.autofocus);},[a,i,o,s,l,c,u,r,function(){a=this.value,n(0,a);},()=>r("input",a)]}class za extends Ie{constructor(e){super(),je(this,e,Ia,Pa,a,{id:1,label:2,prefix:3,value:0,placeholder:4,variants:5,autofocus:6});}}var Ra=Object.freeze({__proto__:null,GenericField:sa,EditField:ma,ContentField:Sa,ImageField:Oa,ContextInput:class extends Ie{constructor(e){super(),je(this,e,null,Ta,a,{});}},SelectOne:La,TextInput:za});function Sl(e){let t,n,r,i,o,s,a="left"===e[9]&&Ml(e),l=e[0]&&_l(e),c="right"===e[9]&&Al(e);return {c(){t=M("button"),a&&a.c(),n=T(),l&&l.c(),r=T(),c&&c.c(),L(t,"class",i="button "+e[5]),L(t,"title",e[6]),t.disabled=e[7],L(t,"style",e[8]);},m(i,u){$(i,t,u),a&&a.m(t,null),k(t,n),l&&l.m(t,null),k(t,r),c&&c.m(t,null),o||(s=N(t,"click",e[11]),o=!0);},p(e,o){"left"===e[9]?a?a.p(e,o):(a=Ml(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[0]?l?l.p(e,o):(l=_l(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),"right"===e[9]?c?c.p(e,o):(c=Al(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null),32&o&&i!==(i="button "+e[5])&&L(t,"class",i),64&o&&L(t,"title",e[6]),128&o&&(t.disabled=e[7]),256&o&&L(t,"style",e[8]);},d(e){e&&S(t),a&&a.d(),l&&l.d(),c&&c.d(),o=!1,s();}}}function Cl(e){let t,n,r,i,o,s,a,l="left"===e[9]&&Ll(e),c=e[0]&&Pl(e),u="right"===e[9]&&Il(e);return {c(){t=M("a"),l&&l.c(),n=T(),c&&c.c(),r=T(),u&&u.c(),L(t,"class",i="button "+e[5]),L(t,"title",e[6]),L(t,"href",o=e[1].href),L(t,"style",e[8]),L(t,"rel",s=e[1].rel),L(t,"target",a=e[1].target);},m(e,i){$(e,t,i),l&&l.m(t,null),k(t,n),c&&c.m(t,null),k(t,r),u&&u.m(t,null);},p(e,f){"left"===e[9]?l?l.p(e,f):(l=Ll(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),e[0]?c?c.p(e,f):(c=Pl(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null),"right"===e[9]?u?u.p(e,f):(u=Il(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null),32&f&&i!==(i="button "+e[5])&&L(t,"class",i),64&f&&L(t,"title",e[6]),2&f&&o!==(o=e[1].href)&&L(t,"href",o),256&f&&L(t,"style",e[8]),2&f&&s!==(s=e[1].rel)&&L(t,"rel",s),2&f&&a!==(a=e[1].target)&&L(t,"target",a);},d(e){e&&S(t),l&&l.d(),c&&c.d(),u&&u.d();}}}function Ml(e){let t,n;function r(e,t){return e[2]?Tl:Ol}let i=r(e),o=i(e);return {c(){t=M("span"),o.c(),L(t,"class",n="icon is-"+e[4]);},m(e,n){$(e,t,n),o.m(t,null);},p(e,s){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t,null))),16&s&&n!==(n="icon is-"+e[4])&&L(t,"class",n);},d(e){e&&S(t),o.d();}}}function Ol(e){let t,n;return {c(){t=M("i"),L(t,"class",n="fas fa-"+e[3]);},m(e,n){$(e,t,n);},p(e,r){8&r&&n!==(n="fas fa-"+e[3])&&L(t,"class",n);},d(e){e&&S(t);}}}function Tl(e){let t;return {c(){t=M("i"),L(t,"class",e[2]);},m(e,n){$(e,t,n);},p(e,n){4&n&&L(t,"class",e[2]);},d(e){e&&S(t);}}}function _l(e){let t,n;return {c(){t=M("span"),n=O(e[0]);},m(e,r){$(e,t,r),k(t,n);},p(e,t){1&t&&P(n,e[0]);},d(e){e&&S(t);}}}function Al(e){let t,n;function r(e,t){return e[2]?El:Nl}let i=r(e),o=i(e);return {c(){t=M("span"),o.c(),L(t,"class",n="icon is-"+e[4]);},m(e,n){$(e,t,n),o.m(t,null);},p(e,s){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t,null))),16&s&&n!==(n="icon is-"+e[4])&&L(t,"class",n);},d(e){e&&S(t),o.d();}}}function Nl(e){let t,n;return {c(){t=M("i"),L(t,"class",n="fas fa-"+e[3]);},m(e,n){$(e,t,n);},p(e,r){8&r&&n!==(n="fas fa-"+e[3])&&L(t,"class",n);},d(e){e&&S(t);}}}function El(e){let t;return {c(){t=M("i"),L(t,"class",e[2]);},m(e,n){$(e,t,n);},p(e,n){4&n&&L(t,"class",e[2]);},d(e){e&&S(t);}}}function Ll(e){let t,n;function r(e,t){return e[2]?jl:Dl}let i=r(e),o=i(e);return {c(){t=M("span"),o.c(),L(t,"class",n="icon is-"+e[4]);},m(e,n){$(e,t,n),o.m(t,null);},p(e,s){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t,null))),16&s&&n!==(n="icon is-"+e[4])&&L(t,"class",n);},d(e){e&&S(t),o.d();}}}function Dl(e){let t,n;return {c(){t=M("i"),L(t,"class",n="fas fa-"+e[3]);},m(e,n){$(e,t,n);},p(e,r){8&r&&n!==(n="fas fa-"+e[3])&&L(t,"class",n);},d(e){e&&S(t);}}}function jl(e){let t;return {c(){t=M("i"),L(t,"class",e[2]);},m(e,n){$(e,t,n);},p(e,n){4&n&&L(t,"class",e[2]);},d(e){e&&S(t);}}}function Pl(e){let t,n;return {c(){t=M("span"),n=O(e[0]);},m(e,r){$(e,t,r),k(t,n);},p(e,t){1&t&&P(n,e[0]);},d(e){e&&S(t);}}}function Il(e){let t,n;function r(e,t){return e[2]?Rl:zl}let i=r(e),o=i(e);return {c(){t=M("span"),o.c(),L(t,"class",n="icon is-"+e[4]);},m(e,n){$(e,t,n),o.m(t,null);},p(e,s){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t,null))),16&s&&n!==(n="icon is-"+e[4])&&L(t,"class",n);},d(e){e&&S(t),o.d();}}}function zl(e){let t,n;return {c(){t=M("i"),L(t,"class",n="fas fa-"+e[3]);},m(e,n){$(e,t,n);},p(e,r){8&r&&n!==(n="fas fa-"+e[3])&&L(t,"class",n);},d(e){e&&S(t);}}}function Rl(e){let t;return {c(){t=M("i"),L(t,"class",e[2]);},m(e,n){$(e,t,n);},p(e,n){4&n&&L(t,"class",e[2]);},d(e){e&&S(t);}}}function Fl(t){let n;function r(e,t){return e[1]?Cl:Sl}let i=r(t),o=i(t);return {c(){o.c(),n=A();},m(e,t){o.m(e,t),$(e,n,t);},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(n.parentNode,n)));},i:e,o:e,d(e){o.d(e),e&&S(n);}}}function Bl(e,t,n){const r=Z();let{label:i=null}=t,{link:o=null}=t,{iconClasses:s=null}=t,{icon:a="atom"}=t,{size:l="small"}=t,{variants:c=""}=t,{title:u=null}=t,{disabled:f=null}=t,{style:p=""}=t,{position:d="left"}=t;return e.$set=e=>{"label"in e&&n(0,i=e.label),"link"in e&&n(1,o=e.link),"iconClasses"in e&&n(2,s=e.iconClasses),"icon"in e&&n(3,a=e.icon),"size"in e&&n(4,l=e.size),"variants"in e&&n(5,c=e.variants),"title"in e&&n(6,u=e.title),"disabled"in e&&n(7,f=e.disabled),"style"in e&&n(8,p=e.style),"position"in e&&n(9,d=e.position);},[i,o,s,a,l,c,u,f,p,d,r,e=>r("click",e)]}class Wl extends Ie{constructor(e){super(),je(this,e,Bl,Fl,a,{label:0,link:1,iconClasses:2,icon:3,size:4,variants:5,title:6,disabled:7,style:8,position:9});}}function Hl(e){let t,n,r,i,o,s;const a=e[7].default,l=f(a,e,e[6],null);return {c(){t=M("button"),l&&l.c(),L(t,"title",e[0]),L(t,"style",e[2]),L(t,"id",e[3]),L(t,"class",n="button is-light "+e[4]),B(t,"is-loading",e[1]);},m(n,r){$(n,t,r),l&&l.m(t,null),i=!0,o||(s=N(t,"click",e[8]),o=!0);},p(e,[r]){l&&l.p&&64&r&&d(l,a,e,e[6],r,null,null),(!i||1&r)&&L(t,"title",e[0]),(!i||4&r)&&L(t,"style",e[2]),(!i||8&r)&&L(t,"id",e[3]),(!i||16&r&&n!==(n="button is-light "+e[4]))&&L(t,"class",n),18&r&&B(t,"is-loading",e[1]);},i(e){i||(xe(l,e),le(()=>{r||(r=Ce(t,No,{},!0)),r.run(1);}),i=!0);},o(e){ke(l,e),r||(r=Ce(t,No,{},!1)),r.run(0),i=!1;},d(e){e&&S(t),l&&l.d(e),e&&r&&r.end(),o=!1,s();}}}function Vl(e,t,n){const r=Z();let{title:i=null}=t,{loading:o=!1}=t,{style:s=""}=t,{id:a=null}=t,{variants:l=""}=t,{$$slots:c={},$$scope:u}=t;return e.$set=e=>{"title"in e&&n(0,i=e.title),"loading"in e&&n(1,o=e.loading),"style"in e&&n(2,s=e.style),"id"in e&&n(3,a=e.id),"variants"in e&&n(4,l=e.variants),"$$scope"in e&&n(6,u=e.$$scope);},[i,o,s,a,l,r,u,c,()=>r("click")]}function ql(e){let t,n,r,i;return {c(){t=M("a"),z(t,"background-image","url('./symbol.svg')"),L(t,"title","Back to primo dashboard"),L(t,"class",n=m(e[0])+" svelte-lyxbzh"),L(t,"href","https://primo.af");},m(e,n){$(e,t,n),i=!0;},p(e,[r]){(!i||1&r&&n!==(n=m(e[0])+" svelte-lyxbzh"))&&L(t,"class",n);},i(e){i||(le(()=>{r||(r=Ce(t,No,{},!0)),r.run(1);}),i=!0);},o(e){r||(r=Ce(t,No,{},!1)),r.run(0),i=!1;},d(e){e&&S(t),e&&r&&r.end();}}}function Ul(e,t,n){let{variants:r=""}=t;return e.$set=e=>{"variants"in e&&n(0,r=e.variants);},[r]}class Kl extends Ie{constructor(e){super(),je(this,e,Ul,ql,a,{variants:0});}}function Jl(t){let n,r,i;return {c(){n=M("button"),n.innerHTML='<svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg>',L(n,"class","flex items-center px-3 py-2 border rounded-sm text-teal-200 border-teal-400 hover:text-white hover:border-white svelte-1um0z8y"),B(n,"bg-gray-700",t[0]);},m(e,o){$(e,n,o),r||(i=N(n,"click",t[2]),r=!0);},p(e,[t]){1&t&&B(n,"bg-gray-700",e[0]);},i:e,o:e,d(e){e&&S(n),r=!1,i();}}}function Gl(e,t,n){const r=Z();let{active:i=!1}=t;return e.$set=e=>{"active"in e&&n(0,i=e.active);},[i,r,()=>r("click")]}class Yl extends Ie{constructor(e){super(),je(this,e,Gl,Jl,a,{active:0});}}function Xl(t){let n,r,i,o,s;return o=new gs({}),o.$on("click",t[0]),{c(){n=M("div"),r=M("button"),r.innerHTML='<svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg>',i=T(),Ne(o.$$.fragment),L(r,"class","context-button svelte-xza4vc"),L(n,"class","svelte-xza4vc");},m(e,t){$(e,n,t),k(n,r),k(n,i),Ee(o,n,null),s=!0;},p:e,i(e){s||(xe(o.$$.fragment,e),s=!0);},o(e){ke(o.$$.fragment,e),s=!1;},d(e){e&&S(n),Le(o);}}}function Zl(e){return [()=>alert("clicked context menu")]}function Ql(t){let n,r,i;return {c(){n=M("div"),r=O("Invitation sent to "),i=O(t[2]),L(n,"class","text-base font-medium");},m(e,t){$(e,n,t),k(n,r),k(n,i);},p(e,t){4&t&&P(i,e[2]);},i:e,o:e,d(e){e&&S(n);}}}function ec(t){let n,r,i,s,a,l,c,u;return {c(){n=M("form"),r=M("label"),i=M("span"),i.textContent="Email:",s=T(),a=M("input"),L(i,"class","text-base mr-2 text-gray-900"),a.autofocus=!0,L(a,"type","email"),L(a,"placeholder","johndoe@gmail.com"),L(a,"class","svelte-1xa1w8i"),L(r,"class","flex items-center");},m(e,o){$(e,n,o),k(n,r),k(r,i),k(r,s),k(r,a),I(a,t[2]),a.focus(),c||(u=[N(a,"input",t[5]),N(n,"submit",E(t[6]))],c=!0);},p(e,t){4&t&&a.value!==e[2]&&I(a,e[2]);},i(e){l||le(()=>{l=Se(n,Eo,{x:50}),l.start();});},o:e,d(e){e&&S(n),c=!1,o(u);}}}function tc(t){let n,r,i;return {c(){n=M("button"),n.textContent="Invite User",L(n,"class","font-medium text-sm px-4 py-2 bg-gray-200 color-gray-900 text-base hover:bg-gray-300 transition-colors duration-200");},m(e,o){$(e,n,o),r||(i=N(n,"click",t[4]),r=!0);},p:e,i:e,o:e,d(e){e&&S(n),r=!1,i();}}}function nc(t){let n;function r(e,t){return e[0]?e[1]?Ql:ec:tc}let i=r(t),o=i(t);return {c(){o.c(),n=A();},m(e,t){o.m(e,t),$(e,n,t);},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),xe(o,1),o.m(n.parentNode,n)));},i(e){xe(o);},o:e,d(e){o.d(e),e&&S(n);}}}function rc(e,t,n){const r=Z();let i=!1,o=!1,s="";return [i,o,s,r,()=>n(0,i=!0),function(){s=this.value,n(2,s);},()=>{n(1,o=!0),r("submit");}]}function ic(e){let t,n;return {c(){t=M("i"),L(t,"class",n=m(e[4])+" svelte-9riqw2");},m(e,n){$(e,t,n);},p(e,r){16&r&&n!==(n=m(e[4])+" svelte-9riqw2")&&L(t,"class",n);},d(e){e&&S(t);}}}function oc(e){let t,n,r,i,o,s,a=e[4]&&ic(e);const l=e[7].default,c=f(l,e,e[6],null);return {c(){t=M("button"),a&&a.c(),n=T(),c&&c.c(),L(t,"id",e[0]),L(t,"class",r="primary-button "+e[1]+" svelte-9riqw2"),t.disabled=e[3],L(t,"type",e[2]);},m(r,l){$(r,t,l),a&&a.m(t,null),k(t,n),c&&c.m(t,null),i=!0,o||(s=N(t,"click",e[8]),o=!0);},p(e,[o]){e[4]?a?a.p(e,o):(a=ic(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),c&&c.p&&64&o&&d(c,l,e,e[6],o,null,null),(!i||1&o)&&L(t,"id",e[0]),(!i||2&o&&r!==(r="primary-button "+e[1]+" svelte-9riqw2"))&&L(t,"class",r),(!i||8&o)&&(t.disabled=e[3]),(!i||4&o)&&L(t,"type",e[2]);},i(e){i||(xe(c,e),i=!0);},o(e){ke(c,e),i=!1;},d(e){e&&S(t),a&&a.d(),c&&c.d(e),o=!1,s();}}}function sc(e,t,n){const r=Z();let{id:i=null}=t,{variants:o=""}=t,{type:s="button"}=t,{disabled:a=!1}=t,{icon:l=null}=t,{$$slots:c={},$$scope:u}=t;return e.$set=e=>{"id"in e&&n(0,i=e.id),"variants"in e&&n(1,o=e.variants),"type"in e&&n(2,s=e.type),"disabled"in e&&n(3,a=e.disabled),"icon"in e&&n(4,l=e.icon),"$$scope"in e&&n(6,u=e.$$scope);},[i,o,s,a,l,r,u,c,e=>r("click",e)]}class ac extends Ie{constructor(e){super(),je(this,e,sc,oc,a,{id:0,variants:1,type:2,disabled:3,icon:4});}}function lc(e){let t;const n=e[6].default,r=f(n,e,e[5],null);return {c(){r&&r.c();},m(e,n){r&&r.m(e,n),t=!0;},p(e,t){r&&r.p&&32&t&&d(r,n,e,e[5],t,null,null);},i(e){t||(xe(r,e),t=!0);},o(e){ke(r,e),t=!1;},d(e){r&&r.d(e);}}}function cc(t){let n,r;return n=new cs({}),{c(){Ne(n.$$.fragment);},m(e,t){Ee(n,e,t),r=!0;},p:e,i(e){r||(xe(n.$$.fragment,e),r=!0);},o(e){ke(n.$$.fragment,e),r=!1;},d(e){Le(n,e);}}}function uc(e){let t,n,r,i,o,s,a,l;const c=[cc,lc],u=[];function f(e,t){return e[3]?0:1}return n=f(e),r=u[n]=c[n](e),{c(){t=M("button"),r.c(),L(t,"class",i="save-button "+e[0]+" svelte-cxzfuz"),t.disabled=o=e[2]||e[3],L(t,"type",e[1]),B(t,"disabled",e[2]||e[3]);},m(r,i){$(r,t,i),u[n].m(t,null),s=!0,a||(l=N(t,"click",e[7]),a=!0);},p(e,[a]){let l=n;n=f(e),n===l?u[n].p(e,a):(be(),ke(u[l],1,1,()=>{u[l]=null;}),we(),r=u[n],r||(r=u[n]=c[n](e),r.c()),xe(r,1),r.m(t,null)),(!s||1&a&&i!==(i="save-button "+e[0]+" svelte-cxzfuz"))&&L(t,"class",i),(!s||12&a&&o!==(o=e[2]||e[3]))&&(t.disabled=o),(!s||2&a)&&L(t,"type",e[1]),13&a&&B(t,"disabled",e[2]||e[3]);},i(e){s||(xe(r),s=!0);},o(e){ke(r),s=!1;},d(e){e&&S(t),u[n].d(),a=!1,l();}}}function fc(e,t,n){const r=Z();let{variants:i=""}=t,{type:o="button"}=t,{disabled:s=!1}=t,{loading:a=!1}=t,{$$slots:l={},$$scope:c}=t;return e.$set=e=>{"variants"in e&&n(0,i=e.variants),"type"in e&&n(1,o=e.type),"disabled"in e&&n(2,s=e.disabled),"loading"in e&&n(3,a=e.loading),"$$scope"in e&&n(5,c=e.$$scope);},[i,o,s,a,r,c,l,e=>r("click",e)]}class pc extends Ie{constructor(e){super(),je(this,e,fc,uc,a,{variants:0,type:1,disabled:2,loading:3});}}var dc=Object.freeze({__proto__:null,IconButton:Wl,Button:class extends Ie{constructor(e){super(),je(this,e,Vl,Hl,a,{title:0,loading:1,style:2,id:3,variants:4});}},PrimoButton:Kl,MobileNavButton:Yl,ContextButton:class extends Ie{constructor(e){super(),je(this,e,Zl,Xl,a,{});}},ButtonWithInput:class extends Ie{constructor(e){super(),je(this,e,rc,nc,a,{});}},PrimaryButton:ac,SaveButton:pc}),hc=Qe((function(e,t){e.exports=function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=f&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,l=!0);var k=y&&(c||f&&(null==x||x<12.11)),$=n||s&&a>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,M=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"");}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function _(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=_(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return !0}while(t=t.parentNode)}function E(){var e;try{e=document.activeElement;}catch(t){e=document.body||null;}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function L(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t);}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}C=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode);}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var j=function(e){e.select();};function P(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function I(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function z(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1;}}m?j=function(e){e.selectionStart=0,e.selectionEnd=e.value.length;}:s&&(j=function(e){try{e.select();}catch(e){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=P(this.onTimeout,this);};function F(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return -1}R.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date);},R.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n);};var B={toString:function(){return "CodeMirror.Pass"}},W={scroll:!1},H={origin:"*mouse"},V={origin:"+move"};function q(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var U=[""];function K(e){for(;U.length<=e;)U.push(J(U)+" ");return U[e]}function J(e){return e[e.length-1]}function G(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Y(){}function X(e,t){var n;return Object.create?n=Object.create(e):(Y.prototype=e,n=new Y),t&&I(t,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return /\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Q(e))||t.test(e):Q(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return !1;return !0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r;}}var se=null;function ae(e,t,n){var r;se=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:se=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:se=i);}return null!=r?r:se}var le=function(){function e(e){return e<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,r=/[LRr]/,i=/[Lb1n]/,o=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n;}return function(a,l){var c="ltr"==l?"L":"R";if(0==a.length||"ltr"==l&&!t.test(a))return !1;for(var u=a.length,f=[],p=0;p<u;++p)f.push(e(a.charCodeAt(p)));for(var d=0,h=c;d<u;++d){var m=f[d];"m"==m?f[d]=h:h=m;}for(var g=0,v=c;g<u;++g){var y=f[g];"1"==y&&"r"==v?f[g]="n":r.test(y)&&(v=y,"r"==y&&(f[g]="R"));}for(var b=1,w=f[0];b<u-1;++b){var x=f[b];"+"==x&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=x||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=x;}for(var k=0;k<u;++k){var $=f[k];if(","==$)f[k]="N";else if("%"==$){var S=void 0;for(S=k+1;S<u&&"%"==f[S];++S);for(var C=k&&"!"==f[k-1]||S<u&&"1"==f[S]?"1":"N",M=k;M<S;++M)f[M]=C;k=S-1;}}for(var O=0,T=c;O<u;++O){var _=f[O];"L"==T&&"1"==_?f[O]="L":r.test(_)&&(T=_);}for(var A=0;A<u;++A)if(n.test(f[A])){var N=void 0;for(N=A+1;N<u&&n.test(f[N]);++N);for(var E="L"==(A?f[A-1]:c),L=E==("L"==(N<u?f[N]:c))?E?"L":"R":c,D=A;D<N;++D)f[D]=L;A=N-1;}for(var j,P=[],I=0;I<u;)if(i.test(f[I])){var z=I;for(++I;I<u&&i.test(f[I]);++I);P.push(new s(0,z,I));}else {var R=I,F=P.length,B="rtl"==l?1:0;for(++I;I<u&&"L"!=f[I];++I);for(var W=R;W<I;)if(o.test(f[W])){R<W&&(P.splice(F,0,new s(1,R,W)),F+=B);var H=W;for(++W;W<I&&o.test(f[W]);++W);P.splice(F,0,new s(2,H,W)),F+=B,R=W;}else ++W;R<I&&P.splice(F,0,new s(1,R,I));}return "ltr"==l&&(1==P[0].level&&(j=a.match(/^\s+/))&&(P[0].from=j[0].length,P.unshift(new s(0,0,j[0].length))),1==J(P).level&&(j=a.match(/\s+$/))&&(J(P).to-=j[0].length,P.push(new s(0,u-j[0].length,u)))),"rtl"==l?P.reverse():P}}();function ce(e,t){var n=e.order;return null==n&&(n=e.order=le(e.text,t)),n}var ue=[],fe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else {var r=e._handlers||(e._handlers={});r[t]=(r[t]||ue).concat(n);}};function pe(e,t){return e._handlers&&e._handlers[t]||ue}function de(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else {var r=e._handlers,i=r&&r[t];if(i){var o=F(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)));}}}function he(e,t){var n=pe(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r);}function me(e,t,n){return "string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0;}}),he(e,n||t.type,e,t),xe(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==F(n,t[r])&&n.push(t[r]);}function ve(e,t){return pe(e,t).length>0}function ye(e){e.prototype.on=function(e,t){fe(this,e,t);},e.prototype.off=function(e,t){de(this,e,t);};}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1;}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;}function xe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ke(e){be(e),we(e);}function $e(e){return e.target||e.srcElement}function Se(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ce,Me,Oe=function(){if(s&&a<9)return !1;var e=_("div");return "draggable"in e||"dragDrop"in e}();function Te(e){if(null==Ce){var t=_("span","​");T(e,_("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ce=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8));}var n=Ce?_("span","​"):_("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function _e(e){if(null!=Me)return Me;var t=T(e,document.createTextNode("AخA")),n=C(t,0,1).getBoundingClientRect(),r=C(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Me=r.right-n.right<3)}var Ae,Ne=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1);}return n}:function(e){return e.split(/\r\n?|\n/)},Ee=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return !1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange();}catch(e){}return !(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Le="oncopy"in(Ae=_("div"))||(Ae.setAttribute("oncopy","return;"),"function"==typeof Ae.oncopy),De=null,je={},Pe={};function Ie(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),je[e]=t;}function ze(e){if("string"==typeof e&&Pe.hasOwnProperty(e))e=Pe[e];else if(e&&"string"==typeof e.name&&Pe.hasOwnProperty(e.name)){var t=Pe[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name;}else {if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ze("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ze("application/json")}return "string"==typeof e?{name:e}:e||{name:"null"}}function Re(e,t){t=ze(t);var n=je[t.name];if(!n)return Re(e,"text/plain");var r=n(e,t);if(Fe.hasOwnProperty(t.name)){var i=Fe[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o]);}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var Fe={};function Be(e,t){I(t,Fe.hasOwnProperty(e)?Fe[e]:Fe[e]={});}function We(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i;}return n}function He(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ve(e,t,n){return !e.startState||e.startState(t,n)}var qe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n;};function Ue(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o;}return n.lines[t]}function Ke(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i;})),r}function Je(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text);})),r}function Ge(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n;}function Ye(e){if(null==e.parent)return null;for(var t=e.parent,n=F(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize();}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a;}return n+s}function Ze(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,n){if(void 0===n&&(n=null),!(this instanceof et))return new et(e,t,n);this.line=e,this.ch=t,this.sticky=n;}function tt(e,t){return e.line-t.line||e.ch-t.ch}function nt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function rt(e){return et(e.line,e.ch)}function it(e,t){return tt(e,t)<0?t:e}function ot(e,t){return tt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return et(e.first,0);var n=e.first+e.size-1;return t.line>n?et(n,Ue(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?et(e.line,t):n<0?et(e.line,0):e}(t,Ue(e,t.line).text.length)}function lt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return ++this.pos,t},qe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},qe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length;},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e;},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return !1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e;}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t;},ut=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1;};function ft(e,t,n,r){var i=[e.state.modeGen],o={};wt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],l=1,c=0;n.state=!0,wt(e,t.text,a.mode,n,(function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r);}if(t)if(a.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t;}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1;},l=0;l<e.state.overlays.length;++l)a(l);return {styles:i,classes:o.bgClass||o.textClass?o:null}}function pt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=dt(e,Ye(t)),i=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,r.state),o=ft(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier));}return t.styles}function dt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ut(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Ue(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof ct?c.lookAhead:0)<=o.modeFrontier))return a;var u=z(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u);}return i}(e,t,n),s=o>r.first&&Ue(r,o-1).stateAfter,a=s?ut.fromSaved(r,s,o):new ut(r,Ve(r.mode),o);return r.iter(o,t,(function(n){ht(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine();})),n&&(r.modeFrontier=a.line),a}function ht(e,t,n,r){var i=e.doc.mode,o=new qe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&mt(i,n.state);!o.eol();)gt(i,o,n.state),o.start=o.pos;}function mt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=He(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function gt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=He(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return {type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--;},ut.fromSaved=function(e,t,n){return t instanceof ct?new ut(e,We(e.mode,t.state),n,t.lookAhead):new ut(e,We(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var vt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n;};function yt(e,t,n,r){var i,o,s=e.doc,a=s.mode,l=Ue(s,(t=at(s,t)).line),c=dt(e,t.line,n),u=new qe(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=gt(a,u,c.state),r&&o.push(new vt(u,i,We(s.mode,c.state)));return r?o:new vt(u,i,c.state)}function bt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2]);}return e}function wt(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,f=new qe(t,e.options.tabSize,r),p=e.options.addModeClass&&[null];for(""==t&&bt(mt(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(a=!1,s&&ht(e,t,r,f.pos),f.pos=t.length,l=null):l=bt(gt(n,f,r.state,p),o),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d));}if(!a||u!=l){for(;c<f.start;)i(c=Math.min(f.start,c+5e3),u);u=l;}f.start=f.pos;}for(;c<f.pos;){var h=Math.min(f.pos,c+5e3);i(h,u),c=h;}}var xt=!1,kt=!1;function $t(e,t,n){this.marker=e,this.from=t,this.to=n;}function St(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ct(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Mt(e,t){if(t.full)return null;var n=Ze(e,t.from.line)&&Ue(e,t.from.line).markedSpans,r=Ze(e,t.to.line)&&Ue(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==tt(t.from,t.to),a=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new $t(s,o.from,a?null:o.to));}}return r}(n,i,s),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new $t(s,a?null:o.from-t,null==o.to?null:o.to-t));}}return r}(r,o,s),c=1==t.text.length,u=J(t.text).length+(c?i:0);if(a)for(var f=0;f<a.length;++f){var p=a[f];if(null==p.to){var d=St(l,p.marker);d?c&&(p.to=null==d.to?null:d.to+u):p.to=i;}}if(l)for(var h=0;h<l.length;++h){var m=l[h];null!=m.to&&(m.to+=u),null==m.from?St(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m));}a&&(a=Ot(a)),l&&l!=a&&(l=Ot(l));var g=[a];if(!c){var v,y=t.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(v||(v=[])).push(new $t(a[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(l);}return g}function Ot(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1);}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null;}}function _t(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t;}}function At(e){return e.inclusiveLeft?-1:0}function Nt(e){return e.inclusiveRight?1:0}function Et(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=tt(r.from,i.from)||At(e)-At(t);if(o)return -o;var s=tt(r.to,i.to)||Nt(e)-Nt(t);return s||t.id-e.id}function Lt(e,t){var n,r=kt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Et(n,i.marker)<0)&&(n=i.marker);return n}function Dt(e){return Lt(e,!0)}function jt(e){return Lt(e,!1)}function Pt(e,t){var n,r=kt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Et(n,o.marker)<0)&&(n=o.marker);}return n}function It(e,t,n,r,i){var o=Ue(e,t),s=kt&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=tt(c.from,n)||At(l.marker)-At(i),f=tt(c.to,r)||Nt(l.marker)-Nt(i);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?tt(c.to,n)>=0:tt(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?tt(c.from,r)<=0:tt(c.from,r)<0)))return !0}}}function zt(e){for(var t;t=Dt(e);)e=t.find(-1,!0).line;return e}function Rt(e,t){var n=Ue(e,t),r=zt(n);return n==r?t:Ye(r)}function Ft(e,t){if(t>e.lastLine())return t;var n,r=Ue(e,t);if(!Bt(e,r))return t;for(;n=jt(r);)r=n.find(1,!0).line;return Ye(r)+1}function Bt(e,t){var n=kt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return !0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Wt(e,t,r))return !0}}function Wt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Wt(e,r.line,St(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return !0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Wt(e,t,i))return !0}function Ht(e){for(var t=0,n=(e=zt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height;}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height;}return t}function Vt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Dt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch;}for(r=e;t=jt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch;}return n}function qt(e){var t=e.display,n=e.doc;t.maxLine=Ue(n,n.first),t.maxLineLength=Vt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Vt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e);}));}var Ut=function(e,t,n){this.text=e,_t(this,t),this.height=n?n(this):1;};function Kt(e){e.parent=null,Tt(e);}Ut.prototype.lineNo=function(){return Ye(this)},ye(Ut);var Jt={},Gt={};function Yt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Gt:Jt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=Qt,_e(e.display.measure)&&(s=ce(o,e.doc.direction))&&(r.addToken=en(r.addToken,s)),r.map=[],nn(o,r,pt(e,o,t!=e.display.externalMeasured&&Ye(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Te(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}));}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack");}return he(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function Zt(e){var t=_("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o;}return r}(t,e.trailingSpace):t,f=e.cm.state.specialChars,p=!1;if(f.test(t)){c=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var h=f.exec(t),m=h?h.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));s&&a<9?c.appendChild(_("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m;}if(!h)break;d+=m+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=c.appendChild(_("span",K(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b;}else "\r"==h[0]||"\n"==h[0]?((v=c.appendChild(_("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),s&&a<9?c.appendChild(_("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++;}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||p||o){var w=n||"";r&&(w+=r),i&&(w+=i);var x=_("span",[c],w,o);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&x.setAttribute(k,l[k]);return e.content.appendChild(x)}e.content.appendChild(c);}}function en(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var f=void 0,p=0;p<t.length&&!((f=t[p]).to>c&&f.from<=c);p++);if(f.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,f.to-c),i,o,null,a,l),o=null,r=r.slice(f.to-c),c=f.to;}}}function tn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1;}function nn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,f,p,d=i.length,h=0,m=1,g="",v=0;;){if(v==h){l=c=u=a="",p=null,f=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],k=x.marker;if("bookmark"==k.type&&x.from==h&&k.widgetNode)y.push(k);else if(x.from<=h&&(null==x.to||x.to>h||k.collapsed&&x.to==h&&x.from==h)){if(null!=x.to&&x.to!=h&&v>x.to&&(v=x.to,c=""),k.className&&(l+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&x.from==h&&(u+=" "+k.startStyle),k.endStyle&&x.to==v&&(b||(b=[])).push(k.endStyle,x.to),k.title&&((p||(p={})).title=k.title),k.attributes)for(var $ in k.attributes)(p||(p={}))[$]=k.attributes[$];k.collapsed&&(!f||Et(f.marker,k)<0)&&(f=x);}else x.from>h&&v>x.from&&(v=x.from);}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!f||f.from==h)for(var C=0;C<y.length;++C)tn(t,0,y[C]);if(f&&(f.from||0)==h){if(tn(t,(null==f.to?d+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1);}}if(h>=d)break;for(var M=Math.min(d,v);;){if(g){var O=h+g.length;if(!f){var T=O>M?g.slice(0,M-h):g;t.addToken(t,T,s?s+l:l,u,h+T.length==v?c:"",a,p);}if(O>=M){g=g.slice(M-h),h=M;break}h=O,u="";}g=i.slice(o,o=n[m++]),s=Yt(n[m++],t.cm.options);}}else for(var _=1;_<n.length;_+=2)t.addToken(t,i.slice(o,o=n[_]),Yt(n[_+1],t.cm.options));}function rn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=jt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ye(J(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Bt(e,t);}function on(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new rn(e.doc,Ue(e.doc,o),o);r=o+s.size,i.push(s);}return i}var sn=null,an=null;function ln(e,t){var n=pe(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);sn?r=sn.delayedCallbacks:an?r=an:(r=an=[],setTimeout(cn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}));},s=0;s<n.length;++s)o(s);}}function cn(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]();}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?dn(e,t):"gutter"==o?mn(e,t,n,r):"class"==o?hn(e,t):"widget"==o&&gn(e,t,r);}t.changes=null;}function fn(e){return e.node==e.text&&(e.node=_("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function pn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function dn(e,t){var n=t.text.className,r=pn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,hn(e,t)):n&&(t.text.className=n);}function hn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=fn(t);t.background=r.insertBefore(_("div",null,n),r.firstChild),e.display.input.setUneditable(t.background);}}(e,t),t.line.wrapClass?fn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||"";}function mn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=fn(t);t.gutterBackground=_("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text);}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=fn(t),a=t.gutter=_("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(_("div",Qe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(_("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"));}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var r=S("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);yn(e,t,n);}function vn(e,t,n,r){var i=pn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),hn(e,t),mn(e,t,n,r),yn(e,t,r),t.node}function yn(e,t,n){if(bn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)bn(e,t.rest[r],t,n,!1);}function bn(e,t,n,r,i){if(t.widgets)for(var o=fn(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=_("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw");}}function wn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px";}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"));}function xn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,_("div",[e.node],null,n));}return e.height=e.node.parentNode.offsetHeight}function kn(e,t){for(var n=$e(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return !0}function $n(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Cn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,_("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Mn(e){return 50-e.display.nativeBarWidth}function On(e){return e.display.scroller.clientWidth-Mn(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-Mn(e)-e.display.barHeight}function _n(e,t,n){if(e.line==t)return {map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return {map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ye(e.rest[i])>n)return {map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function An(e,t,n,r){return Ln(e,En(e,t),n,r)}function Nn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ur(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function En(e,t){var n=Ye(t),r=Nn(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,or(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ye(t=zt(t)),r=e.display.externalMeasured=new rn(e.doc,t,n);r.lineN=n;var i=r.built=Xt(e,r);return r.text=i.pre,T(e.display.lineMeasure,i.pre),r}(e,t));var i=_n(r,t,n);return {line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ln(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&On(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top);}}o.push(n.bottom-n.top);}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Pn(t.map,n,r),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():In(C(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,f="right";}s&&a<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=De)return De;var t=T(e,_("span","x")),n=t.getBoundingClientRect(),r=C(t,0,1).getBoundingClientRect();return De=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return {left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i));}else {var d;c>0&&(f=r="right"),i=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect();}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+ir(e.display),top:h.top,bottom:h.bottom}:jn;}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,x=y[b],k={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:w,bottom:x};return i.left||i.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Dn,jn={left:0,right:0,top:0,bottom:0};function Pn(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?o=1+(i=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-a)-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return {node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function In(e,t){var n=jn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function zn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={};}function Rn(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)zn(e.display.view[t]);}function Fn(e){Rn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null;}function Bn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=xn(e.widgets[n]));return t}function Vn(e,t,n,r,i){if(!i){var o=Hn(t);n.top+=o,n.bottom+=o;}if("line"==r)return n;r||(r="local");var s=Ht(t);if("local"==r?s+=$n(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Wn());var l=a.left+("window"==r?0:Bn());n.left+=l,n.right+=l;}return n.top+=s,n.bottom+=s,n}function qn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Bn(),i-=Wn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top;}var s=e.display.lineSpace.getBoundingClientRect();return {left:r-s.left,top:i-s.top}}function Un(e,t,n,r,i){return r||(r=Ue(e.doc,t.line)),Vn(e,r,An(e,r,t.ch,i),n)}function Kn(e,t,n,r,i,o){function s(t,s){var a=Ln(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Vn(e,r,a,n)}r=r||Ue(e.doc,t.line),i||(i=En(e,r));var a=ce(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var f=ae(a,l,c),p=se,d=u(l,f,"before"==c);return null!=p&&(d.other=u(l,p,"before"!=c)),d}function Jn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=ir(e.display)*t.ch);var r=Ue(e.doc,t.line),i=Ht(r)+$n(e.display);return {left:n,right:n,top:i,bottom:i+r.height}}function Gn(e,t,n,r,i){var o=et(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Yn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Gn(r.first,0,null,-1,-1);var i=Xe(r,n),o=r.first+r.size-1;if(i>o)return Gn(r.first+r.size-1,Ue(r,o).text.length,null,1,1);t<0&&(t=0);for(var s=Ue(r,i);;){var a=er(e,s,i,t,n),l=Pt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Ue(r,i=c.line);}}function Xn(e,t,n,r){r-=Hn(t);var i=t.text.length,o=oe((function(t){return Ln(e,n,t-1).bottom<=r}),i,0);return {begin:o,end:i=oe((function(t){return Ln(e,n,t).top>r}),o,i)}}function Zn(e,t,n,r){return n||(n=En(e,t)),Xn(e,t,n,Vn(e,t,Ln(e,n,r),"line").top)}function Qn(e,t,n,r){return !(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function er(e,t,n,r,i){i-=Ht(t);var o=En(e,t),s=Hn(t),a=0,l=t.text.length,c=!0,u=ce(t,e.doc.direction);if(u){var f=(e.options.lineWrapping?nr:tr)(e,t,n,o,u,r,i);a=(c=1!=f.level)?f.from:f.to-1,l=c?f.to:f.from-1;}var p,d,h=null,m=null,g=oe((function(t){var n=Ln(e,o,t);return n.top+=s,n.bottom+=s,!!Qn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,m=n),!0)}),a,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==c;g=h+(b?0:1),d=b?"after":"before",p=y?m.left:m.right;}else {c||g!=l&&g!=a||g++,d=0==g?"after":g==t.text.length?"before":Ln(e,o,g-(c?1:0)).bottom+s<=i==c?"after":"before";var w=Kn(e,et(n,g,d),"line",t,o);p=w.left,v=i<w.top?-1:i>=w.bottom?1:0;}return Gn(n,g=ie(t.text,g,1),d,v,r-p)}function tr(e,t,n,r,i,o,s){var a=oe((function(a){var l=i[a],c=1!=l.level;return Qn(Kn(e,et(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=Kn(e,et(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Qn(u,o,s,!0)&&u.top>s&&(l=i[a-1]);}return l}function nr(e,t,n,r,i,o,s){var a=Xn(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,f=null,p=0;p<i.length;p++){var d=i[p];if(!(d.from>=c||d.to<=l)){var h=Ln(e,r,1!=d.level?Math.min(c,d.to)-1:Math.max(l,d.from)).right,m=h<o?o-h+1e9:h-o;(!u||f>m)&&(u=d,f=m);}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function rr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Dn){Dn=_("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Dn.appendChild(document.createTextNode("x")),Dn.appendChild(_("br"));Dn.appendChild(document.createTextNode("x"));}T(e.measure,Dn);var n=Dn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function ir(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=_("span","xxxxxxxxxx"),n=_("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function or(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth;}return {fixedPos:sr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function sr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=rr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/ir(e.display)-3);return function(i){if(Bt(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function lr(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Ge(e,t);}));}function cr(e,t,n,r){var i=e.display;if(!n&&"true"==$e(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top;}catch(e){return null}var l,c=Yn(e,o,s);if(r&&c.xRel>0&&(l=Ue(e.doc,c.line).text).length==c.ch){var u=z(l,l.length,e.options.tabSize)-l.length;c=et(c.line,Math.max(0,Math.round((o-Cn(e.display).left)/ir(e.display))-u));}return c}function ur(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function fr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)kt&&Rt(e.doc,t)<i.viewTo&&dr(e);else if(n<=i.viewFrom)kt&&Ft(e.doc,n+r)>i.viewFrom?dr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)dr(e);else if(t<=i.viewFrom){var o=hr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):dr(e);}else if(n>=i.viewTo){var s=hr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):dr(e);}else {var a=hr(e,t,t,-1),l=hr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(on(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):dr(e);}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null));}function pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[ur(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==F(s,n)&&s.push(n);}}}function dr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0;}function hr(e,t,n,r){var i,o=ur(e,t),s=e.display.view;if(!kt||n==e.doc.first+e.doc.size)return {index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++;}else i=a-t;t+=i,n+=i;}for(;Rt(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r;}return {index:o,lineN:n}}function mr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n;}return n}function gr(e){e.display.input.showSelection(e.display.input.prepareSelection());}function vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&yr(e,a.head,i),l||wr(e,a,o);}}return r}function yr(e,t,n){var r=Kn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(_("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(_("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px";}}function br(e,t){return e.top-t.top||e.left-t.left}function wr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),s=Cn(e.display),a=s.left,l=Math.max(r.sizerWidth,On(e)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(_("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"));}function f(t,n,r){var o,s,f=Ue(i,t),p=f.text.length;function d(n,r){return Un(e,et(t,n),"div",f,r)}function h(t,n,r){var i=Zn(e,f,null,t),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var m=ce(f,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0);}i||r(t,n,"ltr");}(m,n||0,null==r?p:r,(function(e,t,i,f){var g="ltr"==i,v=d(e,g?"left":"right"),y=d(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==p,x=0==f,k=!m||f==m.length-1;if(y.top-v.top<=3){var $=(c?w:b)&&k,S=(c?b:w)&&x?a:(g?v:y).left,C=$?l:(g?y:v).right;u(S,v.top,C-S,v.bottom);}else {var M,O,T,_;g?(M=c&&b&&x?a:v.left,O=c?l:h(e,i,"before"),T=c?a:h(t,i,"after"),_=c&&w&&k?l:y.right):(M=c?h(e,i,"before"):a,O=!c&&b&&x?l:v.right,T=!c&&w&&k?a:y.left,_=c?h(t,i,"after"):l),u(M,v.top,O-M,v.bottom),v.bottom<y.top&&u(a,v.bottom,null,y.top),u(T,y.top,_-T,y.bottom);}(!o||br(v,o)<0)&&(o=v),br(y,o)<0&&(o=y),(!s||br(v,s)<0)&&(s=v),br(y,s)<0&&(s=y);})),{start:o,end:s}}var p=t.from(),d=t.to();if(p.line==d.line)f(p.line,p.ch,d.ch);else {var h=Ue(i,p.line),m=Ue(i,d.line),g=zt(h)==zt(m),v=f(p.line,p.ch,g?h.text.length+1:null).end,y=f(d.line,g?0:null,d.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(a,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(a,v.bottom,null,y.top);}n.appendChild(o);}function xr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden");}}function kr(e){e.state.focused||(e.display.input.focus(),Sr(e));}function $r(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Cr(e));}),100);}function Sr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,L(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),xr(e));}function Cr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,M(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1);}),150));}function Mr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(s&&a<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u;}else {var f=i.node.getBoundingClientRect();l=f.bottom-f.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-f.left-1);}var p=i.line.height-l;if((p>.005||p<-.005)&&(Ge(i.line,l),Or(i.line),i.rest))for(var d=0;d<i.rest.length;d++)Or(i.rest[d]);if(c>e.display.sizerWidth){var h=Math.ceil(c/ir(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0);}}}}function Or(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight);}}function Tr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-$n(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Xe(t,r),s=Xe(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=Xe(t,Ht(Ue(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Xe(t,Ht(Ue(t,l))-e.wrapper.clientHeight),s=l);}return {from:o,to:Math.max(s,o+1)}}function _r(e,t){var n=e.display,r=rr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Sn(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u);}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=On(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>p;return d&&(t.right=t.left+p),t.left<10?s.scrollLeft=0:t.left<f?s.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>p+f-3&&(s.scrollLeft=t.right+(d?0:10)-p),s}function Ar(e,t){null!=t&&(Lr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t);}function Nr(e){Lr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin};}function Er(e,t,n){null==t&&null==n||Lr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n);}function Lr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Dr(e,Jn(e,t.from),Jn(e,t.to),t.margin));}function Dr(e,t,n,r){var i=_r(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Er(e,i.scrollLeft,i.scrollTop);}function jr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||li(e,{top:t}),Pr(e,t,!0),n&&li(e),ri(e,100));}function Pr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t));}function Ir(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,fi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t));}function zr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Sn(e.display));return {clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Mn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Rr=function(e,t,n){this.cm=n;var r=this.vert=_("div",[_("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=_("div",[_("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),fe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical");})),fe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal");})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px");};Rr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px";}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px";}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return !this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Rr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz");},Rr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert");},Rr.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R;},Rr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r);}));},Rr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert);};var Fr=function(){};function Br(e,t){t||(t=zr(e));var n=e.display.barWidth,r=e.display.barHeight;Wr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Mr(e),Wr(e,zr(e)),n=e.display.barWidth,r=e.display.barHeight;}function Wr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display="";}Fr.prototype.update=function(){return {bottom:0,right:0}},Fr.prototype.setScrollLeft=function(){},Fr.prototype.setScrollTop=function(){},Fr.prototype.clear=function(){};var Hr={native:Rr,null:Fr};function Vr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Hr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),fe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0);})),t.setAttribute("cm-not-content","true");}),(function(t,n){"horizontal"==n?Ir(e,t):jr(e,t);}),e),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass);}var qr=0;function Ur(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qr},t=e.curOp,sn?sn.ops.push(t):t.ownsGroup=sn={ops:[t],delayedCallbacks:[]};}function Kr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm);}}while(n<t.length)}(n);}finally{sn=null,t(n);}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Jr(t[n]);for(var r=0;r<t.length;r++)Gr(t[r]);for(var i=0;i<t.length;i++)Yr(t[i]);for(var o=0;o<t.length;o++)Xr(t[o]);for(var s=0;s<t.length;s++)Zr(t[s]);}(e);}));}function Jr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Mn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Mn(e)+"px",t.scrollbarsClipped=!0);}(t),e.updateMaxLine&&qt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new oi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate);}function Gr(e){e.updatedDisplay=e.mustUpdate&&si(e.cm,e.update);}function Yr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Mr(t),e.barMeasure=zr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=An(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Mn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-On(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection());}function Xr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ir(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==E();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Br(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&xr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&kr(e.cm);}function Zr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Pr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ir(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var o=_("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-$n(e.display))+"px;\n                         height: "+(t.bottom-t.top+Mn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o);}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Kn(e,t),l=n&&n!=t?Kn(e,n):a,c=_r(e,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=c.scrollTop&&(jr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(Ir(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(s=!0)),!s)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||he(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&he(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish();}function Qr(e,t){if(e.curOp)return t();Ur(e);try{return t()}finally{Kr(e);}}function ei(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ur(e);try{return t.apply(e,arguments)}finally{Kr(e);}}}function ti(e){return function(){if(this.curOp)return e.apply(this,arguments);Ur(this);try{return e.apply(this,arguments)}finally{Kr(this);}}}function ni(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ur(t);try{return e.apply(this,arguments)}finally{Kr(t);}}}function ri(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,P(ii,e));}function ii(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=dt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?We(t.mode,r.state):null,l=ft(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!f&&p<s.length;++p)f=s[p]!=o.styles[p];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine();}else o.text.length<=e.options.maxHighlightLength&&ht(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Qr(e,(function(){for(var t=0;t<i.length;t++)pr(e,i[t],"text");}));}}var oi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Tr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=On(e),this.force=n,this.dims=or(e),this.events=[];};function si(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return dr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==mr(e))return !1;pi(e)&&(dr(e),t.dims=or(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),kt&&(o=Rt(e.doc,o),s=Ft(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=on(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=on(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ur(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(on(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,ur(e,n)))),r.viewTo=n;}(e,o,s),n.viewOffset=Ht(Ue(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=mr(e);if(!a&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return !1;var u=function(e){if(e.hasFocus())return null;var t=E();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset);}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,f=0;f<c.length;f++){var p=c[f];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;s!=p.node;)s=a(s);var d=i&&null!=t&&t<=u&&p.lineNumber;p.changes&&(F(p.changes,"gutter")>-1&&(d=!1),un(e,p,u,n)),d&&(O(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(Qe(e.options,u)))),s=p.node.nextSibling;}else {var h=vn(e,p,u,n);o.insertBefore(h,s);}u+=p.size;}for(;s;)s=a(s);}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=E()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset);}}(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ri(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=On(e))r&&(t.visible=Tr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-Tn(e),n.top)}),t.visible=Tr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!si(e,t))break;Mr(e);var i=zr(e);gr(e),Br(e,i),ui(e,i),t.force=!1;}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo);}function li(e,t){var n=new oi(e,t);if(si(e,n)){Mr(e),ai(e,n);var r=zr(e);gr(e),Br(e,r),ui(e,r),n.finish();}}function ci(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px";}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Mn(e)+"px";}function fi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=sr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o;}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px");}}function pi(e){if(!e.options.lineNumbers)return !1;var t=e.doc,n=Qe(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(_("div",[_("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ci(e.display),!0}return !1}function di(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0;}n.push({className:o,style:s});}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function hi(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=t.appendChild(_("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px");}t.style.display=n.length?"":"none",ci(e);}function mi(e){hi(e.display),fr(e),fi(e);}function gi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=_("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=_("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=_("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=_("div",null,"CodeMirror-cursors"),o.measure=_("div",null,"CodeMirror-measure"),o.lineMeasure=_("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=_("div",[c],null,"position: relative"),o.sizer=_("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=_("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=_("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=_("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=_("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=di(i.gutters,i.lineNumbers),hi(o),r.init(o);}oi.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments);},oi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e]);};var vi=0,yi=null;function bi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wi(e){var t=bi(e);return t.x*=yi,t.y*=yi,t}function xi(e,t){var r=bi(t),i=r.x,o=r.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(i&&c||o&&u){if(o&&y&&l)e:for(var p=t.target,d=s.view;p!=a;p=p.parentNode)for(var h=0;h<d.length;h++)if(d[h].node==p){e.display.currentWheelTarget=p;break e}if(i&&!n&&!f&&null!=yi)return o&&u&&jr(e,Math.max(0,a.scrollTop+o*yi)),Ir(e,Math.max(0,a.scrollLeft+i*yi)),(!o||o&&u)&&be(t),void(s.wheelStartX=null);if(o&&null!=yi){var m=o*yi,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),li(e,{top:g,bottom:v});}vi<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,n=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,n&&(yi=(yi*vi+n)/(vi+1),++vi);}}),200)):(s.wheelDX+=i,s.wheelDY+=o));}}s?yi=-.53:n?yi=15:u?yi=-.7:p&&(yi=-1/3);var ki=function(e,t){this.ranges=e,this.primIndex=t;};ki.prototype.primary=function(){return this.ranges[this.primIndex]},ki.prototype.equals=function(e){if(e==this)return !0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return !1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!nt(n.anchor,r.anchor)||!nt(n.head,r.head))return !1}return !0},ki.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new $i(rt(this.ranges[t].anchor),rt(this.ranges[t].head));return new ki(e,this.primIndex)},ki.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return !0;return !1},ki.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(tt(t,r.from())>=0&&tt(e,r.to())<=0)return n}return -1};var $i=function(e,t){this.anchor=e,this.head=t;};function Si(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return tt(e.from(),t.from())})),n=F(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=tt(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ot(a.from(),s.from()),u=it(a.to(),s.to()),f=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new $i(f?u:c,f?c:u));}}return new ki(t,n)}function Ci(e,t){return new ki([new $i(e,t||e)],0)}function Mi(e){return e.text?et(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Oi(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return Mi(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Mi(t).ch-t.to.ch),et(n,r)}function Ti(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new $i(Oi(i.anchor,t),Oi(i.head,t)));}return Si(e.cm,n,e.sel.primIndex)}function _i(e,t,n){return e.line==t.line?et(n.line,e.ch-t.ch+n.ch):et(n.line+(e.line-t.line),e.ch)}function Ai(e){e.doc.mode=Re(e.options,e.doc.modeOption),Ni(e);}function Ni(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null);})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ri(e,100),e.state.modeGen++,e.curOp&&fr(e);}function Ei(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Li(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),_t(e,n);var i=r?r(e):1;i!=e.height&&Ge(e,i);}(e,n,i,r),ln(e,"change",e,t);}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new Ut(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=Ue(e,a.line),f=Ue(e,l.line),p=J(c),d=i(c.length-1),h=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Ei(e,t)){var m=s(0,c.length-1);o(f,f.text,d),h&&e.remove(a.line,h),m.length&&e.insert(a.line,m);}else if(u==f)if(1==c.length)o(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),d);else {var g=s(1,c.length-1);g.push(new Ut(p+u.text.slice(l.ch),d,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,g);}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+f.text.slice(l.ch),i(0)),e.remove(a.line+1,h);else {o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(f,p+f.text.slice(l.ch),d);var v=s(1,c.length-1);h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,v);}ln(e,"change",e,t);}function Di(e,t,n){!function e(r,i,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),e(a.doc,r,l));}}}(e,null,!0);}function ji(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,lr(e),Ai(e),Pi(e),e.options.lineWrapping||qt(e),e.options.mode=t.modeOption,fr(e);}function Pi(e){("rtl"==e.doc.direction?L:M)(e.display.lineDiv,"CodeMirror-rtl");}function Ii(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1;}function zi(e,t){var n={from:rt(t.from),to:Mi(t),text:Ke(e,t.from,t.to)};return Hi(e,n,t.from.line,t.to.line+1),Di(e,(function(e){return Hi(e,n,t.from.line,t.to.line+1)}),!0),n}function Ri(e){for(;e.length&&J(e).ranges;)e.pop();}function Fi(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Ri(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}(i,i.lastOp==r)))s=J(o.changes),0==tt(t.from,t.to)&&0==tt(t.from,s.to)?s.to=Mi(t):o.changes.push(zi(e,t));else {var l=J(i.done);for(l&&l.ranges||Wi(e.sel,i.done),o={changes:[zi(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift();}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||he(e,"historyAdded");}function Bi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return "*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,J(i.done),t))?i.done[i.done.length-1]=t:Wi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Ri(i.undone);}function Wi(e,t){var n=J(t);n&&n.ranges&&n.equals(e)||t.push(e);}function Hi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o;}));}function Vi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function qi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Vi(n[i]));return r}(e,t),r=Mt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l);}else s&&(n[i]=s);}return n}function Ui(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ki.prototype.deepCopy.call(o):o);else {var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&F(t,Number(u[1]))>-1&&(J(a)[f]=c[f],delete c[f]);}}}return r}function Ki(e,t,n,r){if(r){var i=e.anchor;if(n){var o=tt(t,i)<0;o!=tt(n,i)<0?(i=t,t=n):o!=tt(t,n)<0&&(t=n);}return new $i(i,t)}return new $i(n||t,t)}function Ji(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Qi(e,new ki([Ki(e.sel.primary(),t,n,i)],0),r);}function Gi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Ki(e.sel.ranges[o],t[o],null,i);Qi(e,Si(e.cm,r,e.sel.primIndex),n);}function Yi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Qi(e,Si(e.cm,i,e.sel.primIndex),r);}function Xi(e,t,n,r){Qi(e,Ci(t,n),r);}function Zi(e,t,n){var r=e.history.done,i=J(r);i&&i.ranges?(r[r.length-1]=t,eo(e,t,n)):Qi(e,t,n);}function Qi(e,t,n){eo(e,t,n),Bi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n);}function eo(e,t,n){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new $i(at(e,t[n].anchor),at(e,t[n].head));},origin:n&&n.origin};return he(e,"beforeSelectionChange",e,r),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Si(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);to(e,ro(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Nr(e.cm);}function to(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),ln(e,"cursorActivity",e));}function no(e){to(e,ro(e,e.sel,null,!1));}function ro(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=oo(e,s.anchor,a&&a.anchor,n,r),c=oo(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new $i(l,c));}return i?Si(e.cm,i,t.primIndex):t}function io(e,t,n,r,i){var o=Ue(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(i&&(he(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),p=void 0;if((r<0?u:c)&&(f=so(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(p=tt(f,n))&&(r<0?p<0:p>0))return io(e,f,t,r,i)}var d=l.find(r<0?-1:1);return (r<0?c:u)&&(d=so(e,d,r,d.line==t.line?o:null)),d?io(e,d,t,r,i):null}}return t}function oo(e,t,n,r,i){var o=r||1,s=io(e,t,n,o,i)||!i&&io(e,t,n,o,!0)||io(e,t,n,-o,i)||!i&&io(e,t,n,-o,!0);return s||(e.cantEdit=!0,et(e.first,0))}function so(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,et(t.line-1)):null:n>0&&t.ch==(r||Ue(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+n)}function ao(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),W);}function lo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o);}),he(e,"beforeChange",e,r),e.cm&&he(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function co(e,t,n){if(e.cm){if(!e.cm.curOp)return ei(e.cm,co)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=lo(e,t,!0))){var r=xt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=F(r,n)||(r||(r=[])).push(n);}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(tt(c.to,a.from)<0||tt(c.from,a.to)>0)){var u=[l,1],f=tt(c.from,a.from),p=tt(c.to,a.to);(f<0||!s.inclusiveLeft&&!f)&&u.push({from:c.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3;}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)uo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else uo(e,t);}}function uo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var n=Ti(e,t);Fi(e,t,n,e.cm?e.cm.curOp.id:NaN),ho(e,t,n,Mt(e,t));var r=[];Di(e,(function(e,n){n||-1!=F(r,e.history)||(yo(e.history,t),r.push(e.history)),ho(e,t,null,Mt(e,t));}));}}function fo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Wi(i,l),n&&!i.equals(e.sel))return void Qi(e,i,{clearRedo:!1});s=i;}var u=[];Wi(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),p=function(n){var r=i.changes[n];if(r.origin=t,f&&!lo(e,r,!1))return a.length=0,{};u.push(zi(e,r));var o=n?Ti(e,r):J(a);ho(e,r,o,qi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Mi(r)});var s=[];Di(e,(function(e,t){t||-1!=F(s,e.history)||(yo(e.history,r),s.push(e.history)),ho(e,r,null,qi(e,r));}));},d=i.changes.length-1;d>=0;--d){var h=p(d);if(h)return h.v}}}}function po(e,t){if(0!=t&&(e.first+=t,e.sel=new ki(G(e.sel.ranges,(function(e){return new $i(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){fr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)pr(e.cm,r,"gutter");}}function ho(e,t,n,r){if(e.cm&&!e.cm.curOp)return ei(e.cm,ho)(e,t,n,r);if(t.to.line<e.first)po(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);po(e,i),t={from:et(e.first,0),to:et(t.to.line+i,t.to.ch),text:[J(t.text)],origin:t.origin};}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:et(o,Ue(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ke(e,t.from,t.to),n||(n=Ti(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=Ye(zt(Ue(r,o.line))),r.iter(l,s.line+1,(function(e){if(e==i.maxLine)return a=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ge(e),Li(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=Vt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1);})),a&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ue(e,r).stateAfter;if(i&&(!(i instanceof ct)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n);}}(r,o.line),ri(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?fr(e):o.line!=s.line||1!=t.text.length||Ei(e.doc,t)?fr(e,o.line,s.line+1,c):pr(e,o.line,"text");var u=ve(e,"changes"),f=ve(e,"change");if(f||u){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};f&&ln(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p);}e.display.selForContextMenu=null;}(e.cm,t,r):Li(e,t,r),eo(e,n,W),e.cantEdit&&oo(e,et(e.firstLine(),0))&&(e.cantEdit=!1);}}function mo(e,t,n,r,i){var o;r||(r=n),tt(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),co(e,{from:n,to:r,text:t,origin:i});}function go(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0);}function vo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)go(o.ranges[a].anchor,t,n,r),go(o.ranges[a].head,t,n,r);}else {for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=et(c.from.line+r,c.from.ch),c.to=et(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0);}}}function yo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;vo(e.done,n,r,i),vo(e.undone,n,r,i);}function bo(e,t,n,r){var i=t,o=t;return "number"==typeof t?o=Ue(e,st(e,t)):i=Ye(t),null==i?null:(r(o,i)&&e.cm&&pr(e.cm,i,n),o)}function wo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t;}function xo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this;}this.size=t,this.height=n,this.parent=null;}$i.prototype.from=function(){return ot(this.anchor,this.head)},$i.prototype.to=function(){return it(this.anchor,this.head)},$i.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Kt(i),ln(i,"delete");}this.lines.splice(e,t);},collapse:function(e){e.push.apply(e,this.lines);},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this;},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return !0}},xo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0;}else e-=i;}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof wo))){var a=[];this.collapse(a),this.children=[new wo(a)],this.children[0].parent=this;}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e);},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new wo(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this;}i.lines=i.lines.slice(0,s),this.maybeSpill();}break}e-=o;}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new xo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=F(e.parent.children,e);e.parent.children.splice(n+1,0,t);}else {var r=new xo(e.children);r.parent=e,e.children=[r,t],e=r;}t.parent=e.parent;}while(e.children.length>10);e.parent.maybeSpill();}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return !0;if(0==(t-=s))break;e=0;}else e-=o;}}};var ko=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t;};function $o(e,t,n){Ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ar(e,n);}ko.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ye(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=xn(this);Ge(n,Math.max(0,n.height-o)),e&&(Qr(e,(function(){$o(e,n,-o),pr(e,r,"widget");})),ln(e,"lineWidgetCleared",e,this,r));}},ko.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=xn(this)-t;i&&(Bt(this.doc,r)||Ge(r,r.height+i),n&&Qr(n,(function(){n.curOp.forceUpdate=!0,$o(n,r,i),ln(n,"lineWidgetChanged",n,e,Ye(r));})));},ye(ko);var So=0,Co=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++So;};function Mo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=I(r)).shared=!1;var o=[Mo(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Di(e,(function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Mo(e,at(e,t),at(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=J(o);})),new Oo(o,s)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return ei(e.cm,Mo)(e,t,n,r,i);var o=new Co(e,i),s=tt(t,n);if(r&&I(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(It(e,t.line,t,n,o)||t.line!=n.line&&It(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");kt=!0;}o.addToHistory&&Fi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&zt(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Ge(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e);}(e,new $t(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l;})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Bt(e,t)&&Ge(t,0);})),o.clearOnEnter&&fe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(xt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++So,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)fr(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)pr(c,u,"text");o.atomic&&no(c.doc),ln(c,"markerAdded",c,o);}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ur(e),ve(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to);}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=St(s.markedSpans,this);e&&!this.collapsed?pr(e,Ye(s),"text"):e&&(null!=a.to&&(i=Ye(s)),null!=a.from&&(r=Ye(s))),s.markedSpans=Ct(s.markedSpans,a),null==a.from&&this.collapsed&&!Bt(this.doc,s)&&e&&Ge(s,rr(e.display));}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=zt(this.lines[l]),u=Vt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0);}null!=r&&e&&this.collapsed&&fr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&no(e.doc)),e&&ln(e,"markerCleared",e,this,r,i),t&&Kr(e),this.parent&&this.parent.clear();}},Co.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=St(o.markedSpans,this);if(null!=s.from&&(n=et(t?o:Ye(o),s.from),-1==e))return n;if(null!=s.to&&(r=et(t?o:Ye(o),s.to),1==e))return r}return n&&{from:n,to:r}},Co.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Qr(r,(function(){var i=t.line,o=Ye(t.line),s=Nn(r,o);if(s&&(zn(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Bt(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=xn(n)-a;l&&Ge(i,i.height+l);}ln(r,"markerChanged",r,e);}));},Co.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this);}this.lines.push(e);},Co.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this);}},ye(Co);var Oo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this;};function To(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function _o(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Di(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==F(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1));}},n=0;n<e.length;n++)t(n);}Oo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ln(this,"clear");}},Oo.prototype.find=function(e,t){return this.primary.find(e,t)},ye(Oo);var Ao=0,No=function(e,t,n,r,i){if(!(this instanceof No))return new No(e,t,n,r,i);null==n&&(n=0),xo.call(this,[new wo([new Ut("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=et(n,0);this.sel=Ci(o),this.history=new Ii(null),this.id=++Ao,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Li(this,{from:o,to:o,text:e}),Qi(this,Ci(o),W);};No.prototype=X(xo.prototype,{constructor:No,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e);},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n);},remove:function(e,t){this.removeInner(e-this.first,t);},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return !1===e?t:t.join(e||this.lineSeparator())},setValue:ni((function(e){var t=et(this.first,0),n=this.first+this.size-1;co(this,{from:t,to:et(n,Ue(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Er(this.cm,0,0),Qi(this,Ci(t),W);})),replaceRange:function(e,t,n,r){mo(this,e,t=at(this,t),n=n?at(this,n):t,r);},getRange:function(e,t,n){var r=Ke(this,at(this,e),at(this,t));return !1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ze(this,e))return Ue(this,e)},getLineNumber:function(e){return Ye(e)},getLineHandleVisualStart:function(e){return "number"==typeof e&&(e=Ue(this,e)),zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(e,t,n){Xi(this,at(this,"number"==typeof e?et(e,t||0):e),null,n);})),setSelection:ni((function(e,t,n){Xi(this,at(this,e),at(this,t||e),n);})),extendSelection:ni((function(e,t,n){Ji(this,at(this,e),t&&at(this,t),n);})),extendSelections:ni((function(e,t){Gi(this,lt(this,e),t);})),extendSelectionsBy:ni((function(e,t){Gi(this,lt(this,G(this.sel.ranges,e)),t);})),setSelections:ni((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new $i(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Qi(this,Si(this.cm,r,t),n);}})),addSelection:ni((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new $i(at(this,e),at(this,t||e))),Qi(this,Si(this.cm,r,r.length-1),n);})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ke(this,n[r].from(),n[r].to());t=t?t.concat(i):i;}return !1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ke(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i;}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input");},replaceSelections:ni((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n};}for(var a=t&&"end"!=t&&function(e,t,n){for(var r=[],i=et(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=_i(a.from,i,o),c=_i(Mi(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],f=tt(u.head,u.anchor)<0;r[s]=new $i(f?c:l,f?l:c);}else r[s]=new $i(l,l);}return new ki(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)co(this,r[l]);a?Zi(this,a):this.cm&&Nr(this.cm);})),undo:ni((function(){fo(this,"undo");})),redo:ni((function(){fo(this,"redo");})),undoSelection:ni((function(){fo(this,"undo",!0);})),redoSelection:ni((function(){fo(this,"redo",!0);})),setExtending:function(e){this.extend=e;},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return {undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ii(this.history.maxGeneration),Di(this,(function(t){return t.history=e.history}),!0);},markClean:function(){this.cleanGeneration=this.changeGeneration(!0);},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return {done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(e){var t=this.history=new Ii(this.history.maxGeneration);t.done=Ui(e.done.slice(0),null,!0),t.undone=Ui(e.undone.slice(0),null,!0);},setGutterMarker:ni((function(e,t,n){return bo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ni((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&bo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}));}));})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ze(this,e))return null;if(t=e,!(e=Ue(this,e)))return null}else if(null==(t=Ye(e)))return null;return {line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ni((function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return !1;e[r]+=" "+n;}else e[r]=n;return !0}))})),removeLineClass:ni((function(e,t,n){return bo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return !1;if(null==n)e[r]=null;else {var o=i.match(S(n));if(!o)return !1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null;}return !0}))})),addLineWidget:ni((function(e,t,n){return function(e,t,n,r){var i=new ko(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),bo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Bt(e,t)){var r=Ht(t)<e.scrollTop;Ge(t,t.height+xn(i)),r&&Ar(o,i.height),o.curOp.forceUpdate=!0;}return !0})),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ye(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear();},markText:function(e,t,n){return Mo(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Mo(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ue(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker);}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker);}++i;})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker);})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n;})),at(this,et(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n;})),t},copy:function(e){var t=new No(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new No(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(tt(o,s)){var a=Mo(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r;}}}(r,To(this)),r},unlinkDoc:function(e){if(e instanceof Os&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),_o(To(this));break}if(e.history==this.history){var n=[e.id];Di(e,(function(e){return n.push(e.id)}),!0),e.history=new Ii(null),e.history.done=Ui(this.history.done,n),e.history.undone=Ui(this.history.undone,n);}},iterLinkedDocs:function(e){Di(this,e);},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ne(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Qr(t=this.cm,(function(){Pi(t),fr(t);})));}))}),No.prototype.eachLine=No.prototype.iter;var Eo=0;function Lo(e){var t=this;if(Do(t),!me(t,e)&&!kn(t.display,e)){be(e),s&&(Eo=+new Date);var n=cr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&ei(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};co(t.doc,e),Zi(t.doc,Ci(at(t.doc,n),at(t.doc,Mi(e))));}))();},c=function(e,n){if(t.options.allowDropFileTypes&&-1==F(t.options.allowDropFileTypes,e.type))l();else {var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l();},r.readAsText(e);}},u=0;u<r.length;u++)c(r[u],u);else {if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var p;if(t.state.draggingText&&!t.state.draggingText.copy&&(p=t.listSelections()),eo(t.doc,Ci(n,n)),p)for(var d=0;d<p.length;++d)mo(t.doc,"",p[d].anchor,p[d].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus();}}catch(e){}}}}function Do(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null);}function jo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i);}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t]);}));}}var Po=!1;function Io(){var e;Po||(fe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,jo(zo);}),100));})),fe(window,"blur",(function(){return jo(Cr)})),Po=!0);}function zo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize();}for(var Ro={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fo=0;Fo<10;Fo++)Ro[Fo+48]=Ro[Fo+96]=String(Fo);for(var Bo=65;Bo<=90;Bo++)Ro[Bo]=String.fromCharCode(Bo);for(var Wo=1;Wo<=12;Wo++)Ro[Wo+111]=Ro[Wo+63235]="F"+Wo;var Ho={};function Vo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else {if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0;}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function qo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=G(n.split(" "),Vo),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s;}delete e[n];}for(var c in t)e[c]=t[c];return e}function Uo(e,t,n,r){var i=(t=Yo(t)).call?t.call(e,r):t[e];if(!1===i)return "nothing";if("..."===i)return "multi";if(null!=i&&n(i))return "handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Uo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=Uo(e,t.fallthrough[o],n,r);if(s)return s}}}function Ko(e){var t="string"==typeof e?e:Ro[e.keyCode];return "Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Jo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Go(e,t){if(f&&34==e.keyCode&&e.char)return !1;var n=Ro[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Jo(n,e,t))}function Yo(e){return "string"==typeof e?Ho[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&tt(o.from,J(r).to)<=0;){var s=r.pop();if(tt(s.from,o.from)<0){o.from=s.from;break}}r.push(o);}Qr(e,(function(){for(var t=r.length-1;t>=0;t--)mo(e.doc,"",r[t].from,r[t].to,"+delete");Nr(e);}));}function Zo(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Qo(e,t,n){var r=Zo(e,t.ch,n);return null==r?null:new et(t.line,r,n<0?"after":"before")}function es(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=ce(n,t.doc.direction);if(o){var s,a=i<0?J(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=En(t,n);s=i<0?n.text.length-1:0;var u=Ln(t,c,s).top;s=oe((function(e){return Ln(t,c,e).top==u}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Zo(n,s,1));}else s=i<0?a.to:a.from;return new et(r,s,l)}}return new et(r,i<0?n.text.length:0,i<0?"before":"after")}Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=y?Ho.macDefault:Ho.pcDefault;var ts={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Xo(e,(function(t){if(t.empty()){var n=Ue(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,n)}}return {from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xo(e,(function(t){return {from:et(t.from().line,0),to:at(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Xo(e,(function(e){return {from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return {from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return {from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ns(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return rs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=Ue(e.doc,t),r=function(e){for(var t;t=jt(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ye(r)),es(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?rs(e,t.head):r}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=z(e.getLine(o.line),o.ch,r);t.push(K(r-s%r));}e.replaceSelections(t);},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab");},transposeChars:function(e){return Qr(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ue(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new et(i.line,i.ch-1)),i.ch>0)i=new et(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),et(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Ue(e.doc,i.line-1).text;s&&(i=new et(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),et(i.line-1,s.length-1),i,"+transpose"));}n.push(new $i(i,i));}e.setSelections(n);}))},newlineAndIndent:function(e){return Qr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Nr(e);}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ns(e,t){var n=Ue(e.doc,t),r=zt(n);return r!=n&&(t=Ye(r)),es(!0,e,r,t,1)}function rs(e,t){var n=ns(e,t.line),r=Ue(e.doc,n.line),i=ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return et(n.line,s?0:o,n.sticky)}return n}function is(e,t,n){if("string"==typeof t&&!(t=ts[t]))return !1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=B;}finally{e.display.shift=r,e.state.suppressEdits=!1;}return i}var os=new R;function ss(e,t,n,r){var i=e.state.keySeq;if(i){if(Ko(t))return "handled";if(/\'$/.test(t)?e.state.keySeq=null:os.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset());})),as(e,i+" "+t,n,r))return !0}return as(e,t,n,r)}function as(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Uo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Uo(t,e.options.extraKeys,n,e)||Uo(t,e.options.keyMap,n,e)}(e,t,r);return "multi"==i&&(e.state.keySeq=t),"handled"==i&&ln(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(be(n),xr(e)),!!i}function ls(e,t){var n=Go(t,!0);return !!n&&(t.shiftKey&&!e.state.keySeq?ss(e,"Shift-"+n,t,(function(t){return is(e,t,!0)}))||ss(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return is(e,t)})):ss(e,n,t,(function(t){return is(e,t)})))}var cs=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=E(),me(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=ls(t,e);f&&(cs=i?r:null,i||88!=r||Le||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(M(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n));}L(t,"CodeMirror-crosshair"),fe(document,"keyup",n),fe(document,"mouseover",n);}(t);}}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e);}function ps(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||kn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==cs)return cs=null,void be(e);if(!f||e.which&&!(e.which<10)||!ls(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return ss(e,"'"+n+"'",t,(function(t){return is(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e));}}}var ds,hs,ms=function(e,t,n){this.time=e,this.pos=t,this.button=n;};function gs(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,kn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!bs(t,e)){var r=cr(t,e),i=Se(e),o=r?function(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(ds=hs=null,"triple"):ds&&ds.compare(n,e,t)?(hs=new ms(n,e,t),ds=null,"double"):(ds=new ms(n,e,t),hs=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return "double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ss(e,Jo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ts[t]),!t)return !1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=B;}finally{e.state.suppressEdits=!1;}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){s?setTimeout(P(kr,e),0):e.curOp.focus=E();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line";}return (null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(e,n,r),c=e.doc.sel;e.options.dragDrop&&Oe&&!e.isReadOnly()&&"single"==n&&(i=c.contains(t))>-1&&(tt((i=c.ranges[i]).from(),t)<0||t.xRel>0)&&(tt(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,c=ei(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,de(i.wrapper.ownerDocument,"mouseup",c),de(i.wrapper.ownerDocument,"mousemove",u),de(i.scroller,"dragstart",f),de(i.scroller,"drop",c),o||(be(t),r.addNew||Ji(e.doc,n,null,null,r.extend),l&&!p||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus();}),20):i.input.focus());})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10;},f=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),fe(i.wrapper.ownerDocument,"mouseup",c),fe(i.wrapper.ownerDocument,"mousemove",u),fe(i.scroller,"dragstart",f),fe(i.scroller,"drop",c),$r(e),setTimeout((function(){return i.input.focus()}),20);}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;be(t);var s,a,l=o.sel,c=l.ranges;if(r.addNew&&!r.extend?(a=o.sel.contains(n),s=a>-1?c[a]:new $i(n,n)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new $i(n,n)),n=cr(e,t,!0,!0),a=-1;else {var u=vs(e,n,r.unit);s=r.extend?Ki(s,u.anchor,u.head,r.extend):u;}r.addNew?-1==a?(a=c.length,Qi(o,Si(e,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==r.unit&&!r.extend?(Qi(o,Si(e,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Yi(o,a,s,H):(a=0,Qi(o,new ki([s],0),H),l=o.sel);var f=n;function p(t){if(0!=tt(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],c=e.options.tabSize,u=z(Ue(o,n.line).text,n.ch,c),p=z(Ue(o,t.line).text,t.ch,c),d=Math.min(u,p),h=Math.max(u,p),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Ue(o,m).text,y=q(v,d,c);d==h?i.push(new $i(et(m,y),et(m,y))):v.length>y&&i.push(new $i(et(m,y),et(m,q(v,h,c))));}i.length||i.push(new $i(n,n)),Qi(o,Si(e,l.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t);}else {var b,w=s,x=vs(e,t,r.unit),k=w.anchor;tt(x.anchor,k)>0?(b=x.head,k=ot(w.from(),x.anchor)):(b=x.anchor,k=it(w.to(),x.head));var $=l.ranges.slice(0);$[a]=function(e,t){var n=t.anchor,r=t.head,i=Ue(e.doc,n.line);if(0==tt(n,r)&&n.sticky==r.sticky)return t;var o=ce(i);if(!o)return t;var s=ae(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else {var u=ae(o,r.ch,r.sticky),f=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?f<0:f>0;}var p=o[c+(l?-1:0)],d=l==(1==p.level),h=d?p.from:p.to,m=d?"after":"before";return n.ch==h&&n.sticky==m?t:new $i(new et(n.line,h,m),r)}(e,new $i(at(o,k),b)),Qi(o,Si(e,$,a),H);}}var d=i.wrapper.getBoundingClientRect(),h=0;function m(t){e.state.selectingText=!1,h=1/0,t&&(be(t),i.input.focus()),de(i.wrapper.ownerDocument,"mousemove",g),de(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null;}var g=ei(e,(function(t){0!==t.buttons&&Se(t)?function t(n){var s=++h,a=cr(e,n,!0,"rectangle"==r.unit);if(a)if(0!=tt(a,f)){e.curOp.focus=E(),p(a);var l=Tr(i,o);(a.line>=l.to||a.line<l.from)&&setTimeout(ei(e,(function(){h==s&&t(n);})),150);}else {var c=n.clientY<d.top?-20:n.clientY>d.bottom?20:0;c&&setTimeout(ei(e,(function(){h==s&&(i.scroller.scrollTop+=c,t(n));})),50);}}(t):m(t);})),v=ei(e,m);e.state.selectingText=v,fe(i.wrapper.ownerDocument,"mousemove",g),fe(i.wrapper.ownerDocument,"mouseup",v);}(e,r,t,o);}(t,r,o,e):$e(e)==n.scroller&&be(e):2==i?(r&&Ji(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&($?t.display.input.onContextMenu(e):$r(t)));}}function vs(e,t,n){if("char"==n)return new $i(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new $i(et(t.line,0),at(e.doc,et(t.line+1,0)));var r=n(e,t);return new $i(r.from,r.to)}function ys(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY;}catch(e){return !1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return !1;r&&be(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!ve(e,n))return xe(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return he(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[l].className,t),xe(t)}}function bs(e,t){return ys(e,t,"gutterClick",!0)}function ws(e,t){kn(e.display,t)||function(e,t){return !!ve(e,"gutterContextMenu")&&ys(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||$||e.display.input.onContextMenu(t);}function xs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fn(e);}ms.prototype.compare=function(e,t,n){return this.time+400>e&&0==tt(t,this.pos)&&n==this.button};var ks={toString:function(){return "CodeMirror.Init"}},$s={},Ss={};function Cs(e,t,n){if(!t!=!(n&&n!=ks)){var r=e.display.dragFunctions,i=t?fe:de;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop);}}function Ms(e){e.options.lineWrapping?(L(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(M(e.display.wrapper,"CodeMirror-wrap"),qt(e)),lr(e),fr(e),Fn(e),setTimeout((function(){return Br(e)}),100);}function Os(e,t){var n=this;if(!(this instanceof Os))return new Os(e,t);this.options=t=t?I(t):{},I($s,t,!1);var r=t.value;"string"==typeof r?r=new No(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Os.inputStyles[t.inputStyle](this),o=this.display=new gi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,xs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;fe(t.scroller,"mousedown",ei(e,gs)),fe(t.scroller,"dblclick",s&&a<11?ei(e,(function(t){if(!me(e,t)){var n=cr(e,t);if(n&&!bs(e,t)&&!kn(e.display,t)){be(t);var r=e.findWordAt(n);Ji(e.doc,r.anchor,r.head);}}})):function(t){return me(e,t)||be(t)}),fe(t.scroller,"contextmenu",(function(t){return ws(e,t)})),fe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ws(e,n);}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date);}function o(e,t){if(null==t.left)return !0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}fe(t.scroller,"touchstart",(function(i){if(!me(e,i)&&!function(e){if(1!=e.touches.length)return !1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!bs(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY);}})),fe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0);})),fe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!kn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!r.prev||o(r,r.prev)?new $i(a,a):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(a):new $i(et(a.line,0),at(e.doc,et(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),be(n);}i();})),fe(t.scroller,"touchcancel",i),fe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(jr(e,t.scroller.scrollTop),Ir(e,t.scroller.scrollLeft,!0),he(e,"scroll",e));})),fe(t.scroller,"mousewheel",(function(t){return xi(e,t)})),fe(t.scroller,"DOMMouseScroll",(function(t){return xi(e,t)})),fe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||ke(t);},over:function(t){me(e,t)||(function(e,t){var n=cr(e,t);if(n){var r=document.createDocumentFragment();yr(e,n,r),e.display.dragCursor||(e.display.dragCursor=_("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r);}}(e,t),ke(t));},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Eo<100))ke(t);else if(!me(e,t)&&!kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=_("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n);}}(e,t)},drop:ei(e,Lo),leave:function(t){me(e,t)||Do(e);}};var l=t.input.getField();fe(l,"keyup",(function(t){return fs.call(e,t)})),fe(l,"keydown",ei(e,us)),fe(l,"keypress",ei(e,ps)),fe(l,"focus",(function(t){return Sr(e,t)})),fe(l,"blur",(function(t){return Cr(e,t)}));}(this),Io(),Ur(this),this.curOp.forceUpdate=!0,ji(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(P(Sr,this),20):Cr(this),Ss)Ss.hasOwnProperty(c)&&Ss[c](this,t[c],ks);pi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ts.length;++u)Ts[u](this);Kr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto");}Os.defaults=$s,Os.optionHandlers=Ss;var Ts=[];function _s(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=dt(e,t).state:n="prev");var s=e.options.tabSize,a=Ue(o,t),l=z(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(u.length),a.text))==B||c>150)){if(!r)return;n="prev";}}else c=0,n="not";"prev"==n?c=t>o.first?z(Ue(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",p=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)p+=s,f+="\t";if(p<c&&(f+=K(c-p)),f!=u)return mo(o,f,et(t,0),et(t,u.length),"+input"),a.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var m=o.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var g=et(t,u.length);Yi(o,h,new $i(g,g));break}}}Os.defineInitHook=function(e){return Ts.push(e)};var As=null;function Ns(e){As=e;}function Es(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||e.state.pasteIncoming>s,l=Ne(t),c=null;if(a&&r.ranges.length>1)if(As&&As.text.join("\n")==t){if(r.ranges.length%As.text.length==0){c=[];for(var u=0;u<As.text.length;u++)c.push(o.splitLines(As.text[u]));}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=G(l,(function(e){return [e]})));for(var f=e.curOp.updateInput,p=r.ranges.length-1;p>=0;p--){var d=r.ranges[p],h=d.from(),m=d.to();d.empty()&&(n&&n>0?h=et(h.line,h.ch-n):e.state.overwrite&&!a?m=et(m.line,Math.min(Ue(o,m.line).text.length,m.ch+J(l).length)):a&&As&&As.lineWise&&As.text.join("\n")==l.join("\n")&&(h=m=et(h.line,0)));var g={from:h,to:m,text:c?c[p%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};co(e.doc,g),ln(e,"inputRead",e,g);}t&&!a&&Ds(e,t),Nr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1;}function Ls(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Qr(t,(function(){return Es(t,n,0,null,"paste")})),!0}function Ds(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=_s(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ue(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=_s(e,i.head.line,"smart"));s&&ln(e,"electricInput",e,i.head.line);}}}function js(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:et(i,0),head:et(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head));}return {text:t,ranges:n}}function Ps(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t);}function Is(){var e=_("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=_("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ps(e),t}function zs(e,t,n,r,i){var o=t,s=n,a=Ue(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(r){var o,s;if(null==(o=i?function(e,t,n,r){var i=ce(t,e.doc.direction);if(!i)return Qo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ae(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Qo(t,n,r);var a,l=function(e,n){return Zo(t,e instanceof et?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||En(e,t),Zn(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var f=1==s.level==r<0,p=l(n,f?1:-1);if(null!=p&&(f?p<=s.to&&p<=u.end:p>=s.from&&p>=u.begin)){var d=f?"before":"after";return new et(n.line,p,d)}}var h=function(e,t,r){for(var o=function(e,t){return t?new et(n.line,l(e,1),"before"):new et(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},m=h(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:i.length-1,r,c(g)))?null:m}(e.cm,a,t,n):Qo(a,t,n))){if(r||(s=t.line+l)<e.first||s>=e.first+e.size||(t=new et(s,t.ch,t.sticky),!(a=Ue(e,s))))return !1;t=es(i,e.cm,a,t.line,l);}else t=o;return !0}if("char"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var u=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||c(!d);d=!1){var h=a.text.charAt(t.ch)||"\n",m=ee(h,p)?"w":f&&"\n"==h?"n":!f||/\s/.test(h)?null:"p";if(!f||d||m||(m="s"),u&&u!=m){n<0&&(n=1,c(),t.sticky="after");break}if(m&&(u=m),n>0&&!c(!d))break}var g=oo(e,t,o,s,!0);return nt(o,g)&&(g.hitSide=!0),g}function Rs(e,t,n,r){var i,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*rr(e.display),3);i=(n>0?t.bottom:t.top)+n*c;}else "line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Yn(e,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n;}return o}var Fs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null;};function Bs(e,t){var n=Nn(e,t.line);if(!n||n.hidden)return null;var r=Ue(e.doc,t.line),i=_n(n,r,t.line),o=ce(r,e.doc.direction),s="left";o&&(s=ae(o,t.ch)%2?"right":"left");var a=Pn(i.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Ws(e,t){return t&&(e.bad=!0),e}function Hs(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Ws(e.clipPos(et(e.display.viewTo-1)),!0);t=null,n=0;}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Vs(o,t,n)}}function Vs(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!N(r,t))return Ws(et(Ye(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?J(e.rest):e.line;return Ws(et(Ye(o),o.text.length),i)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=Ye(i<0?e.line:e.rest[i]),f=o[s]+r;return (r<0||a!=t)&&(f=o[s+(r?1:0)]),et(u,f)}}}var f=u(s,a,n);if(f)return Ws(f,i);for(var p=a.nextSibling,d=s?s.nodeValue.length-n:0;p;p=p.nextSibling){if(f=u(p,p.firstChild,0))return Ws(et(f.line,f.ch-d),i);d+=p.textContent.length;}for(var h=a.previousSibling,m=n;h;h=h.previousSibling){if(f=u(h,h.firstChild,-1))return Ws(et(f.line,f.ch+m),i);m+=h.textContent.length;}}Fs.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return !0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return !1}function s(e){if(o(e)&&!me(r,e)){if(r.somethingSelected())Ns({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else {if(!r.options.lineWiseCopyCut)return;var t=js(r);Ns({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut");}));}if(e.clipboardData){e.clipboardData.clearData();var s=As.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Is(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=As.text.join("\n");var c=document.activeElement;j(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection();}),50);}}Ps(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),fe(i,"paste",(function(e){!o(e)||me(r,e)||Ls(e,r)||a<=11&&setTimeout(ei(r,(function(){return t.updateFromDOM()})),20);})),fe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1};})),fe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1});})),fe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0);})),fe(i,"touchstart",(function(){return n.forceCompositionEnd()})),fe(i,"input",(function(){t.composing||t.readFromDOMSoon();})),fe(i,"copy",s),fe(i,"cut",s);},Fs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label");},Fs.prototype.prepareSelection=function(){var e=vr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Fs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e));},Fs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Fs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else {var s=Hs(t,e.anchorNode,e.anchorOffset),a=Hs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=tt(ot(s,a),i)||0!=tt(it(s,a),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Bs(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Bs(t,o);if(!u){var f=l[l.length-1].measure,p=f.maps?f.maps[f.maps.length-1]:f.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]};}if(c&&u){var d,h=e.rangeCount&&e.getRangeAt(0);try{d=C(c.node,c.offset,u.offset,u.node);}catch(e){}d&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection();}else e.removeAllRanges();}}},Fs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}));}),20);},Fs.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection);},Fs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset;},Fs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return !1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Fs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus());},Fs.prototype.blur=function(){this.div.blur();},Fs.prototype.getField=function(){return this.div},Fs.prototype.supportsTouch=function(){return !0},Fs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Qr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t));}));},Fs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Fs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return !0;return !1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Hs(t,e.anchorNode,e.anchorOffset),r=Hs(t,e.focusNode,e.focusOffset);n&&r&&Qr(t,(function(){Qi(t.doc,Ci(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0);}));}}},Fs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=et(s.line-1,Ue(r.doc,s.line-1).length)),a.ch==Ue(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=et(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return !1;s.line==i.viewFrom||0==(e=ur(r,s.line))?(t=Ye(i.view[0].line),n=i.view[0].node):(t=Ye(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=ur(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=Ye(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return !1;for(var f=r.doc.splitLines(function(e,t,n,r,i){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1);}function u(e){e&&(c(),o+=e);}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,p=t.getAttribute("cm-marker");if(p){var d=e.findMarks(et(r,0),et(i+1,0),(g=+p,function(e){return e.id==g}));return void(d.length&&(o=d[0].find(0))&&u(Ke(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&c();for(var m=0;m<t.childNodes.length;m++)f(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(s=!0);}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g;}for(;f(t),t!=n;)t=t.nextSibling,l=!1;return o}(r,n,c,t,l)),p=Ke(r.doc,et(t,0),et(l,Ue(r.doc,l).text.length));f.length>1&&p.length>1;)if(J(f)==J(p))f.pop(),p.pop(),l--;else {if(f[0]!=p[0])break;f.shift(),p.shift(),t++;}for(var d=0,h=0,m=f[0],g=p[0],v=Math.min(m.length,g.length);d<v&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=J(f),b=J(p),w=Math.min(y.length-(1==f.length?d:0),b.length-(1==p.length?d:0));h<w&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==f.length&&1==p.length&&t==s.line)for(;d&&d>s.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)d--,h++;f[f.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var x=et(t,d),k=et(l,p.length?J(p).length-h:0);return f.length>1||f[0]||tt(x,k)?(mo(r.doc,f,x,k,"+input"),!0):void 0},Fs.prototype.ensurePolled=function(){this.forceCompositionEnd();},Fs.prototype.reset=function(){this.forceCompositionEnd();},Fs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus());},Fs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null;}e.updateFromDOM();}),80));},Fs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Qr(this.cm,(function(){return fr(e.cm)}));},Fs.prototype.setUneditable=function(e){e.contentEditable="false";},Fs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ei(this.cm,Es)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0));},Fs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e);},Fs.prototype.onContextMenu=function(){},Fs.prototype.resetPosition=function(){},Fs.prototype.needsContentAttribute=!0;var qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null;};qs.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!me(r,e)){if(r.somethingSelected())Ns({lineWise:!1,text:r.getSelections()});else {if(!r.options.lineWiseCopyCut)return;var t=js(r);Ns({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),j(i));}"cut"==e.type&&(r.state.cutIncoming=+new Date);}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),fe(i,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll();})),fe(i,"paste",(function(e){me(r,e)||Ls(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll());})),fe(i,"cut",o),fe(i,"copy",o),fe(e.scroller,"paste",(function(t){if(!kn(e,t)&&!me(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o);}})),fe(e.lineSpace,"selectstart",(function(t){kn(e,t)||be(t);})),fe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})};})),fe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null);}));},qs.prototype.createField=function(e){this.wrapper=Is(),this.textarea=this.wrapper.firstChild;},qs.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label");},qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=vr(e);if(e.options.moveInputWithCursor){var i=Kn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left));}return r},qs.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px");},qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&j(this.textarea),s&&a>=9&&(this.hasSelection=n);}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null));}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return !1},qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||E()!=this.textarea))try{this.textarea.focus();}catch(e){}},qs.prototype.blur=function(){this.textarea.blur();},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0;},qs.prototype.receivedFocus=function(){this.slowPoll();},qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll();}));},qs.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n));}));},qs.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ee(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return !1;var i=n.value;if(i==r&&!t.somethingSelected())return !1;if(s&&a>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Qr(t,(function(){Es(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}));})),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1);},qs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll();},qs.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=cr(n,e),c=r.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ei(n,Qi)(n.doc,Ci(o),W);var u,p=i.style.cssText,d=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),$){ke(e);var m=function(){de(window,"mouseup",m),setTimeout(v,20);};fe(window,"mouseup",m);}else setTimeout(v,50);}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="​"+(e?i.value:"");i.value="⇚",i.value=o,t.prevInput=e?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel;}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=p,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==t.prevInput?ei(n,ao)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset());};r.detectingSelectAll=setTimeout(o,200);}}},qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e;},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=ks&&i(e,t,n);}:i);}e.defineOption=n,e.Init=ks,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Ai(e);}),!0),n("indentUnit",2,Ai,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ni(e),Fn(e),fr(e);}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(et(r,o));}r++;}));for(var i=n.length-1;i>=0;i--)mo(e.doc,t,n[i],et(n[i].line,n[i].ch+t.length));}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ks&&e.refresh();})),n("specialCharPlaceholder",Zt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){xs(e),mi(e);}),!0),n("keyMap","default",(function(e,t,n){var r=Yo(t),i=n!=ks&&Yo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null);})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ms,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=di(t,e.options.lineNumbers),mi(e);}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?sr(e.display)+"px":"0",e.refresh();}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Br(e)}),!0),n("scrollbarStyle","native",(function(e){Vr(e),Br(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft);}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=di(e.options.gutters,t),mi(e);}),!0),n("firstLineNumber",1,mi,!0),n("lineNumberFormatter",(function(e){return e}),mi,!0),n("showCursorWhenSelecting",!1,gr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Cr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t);})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t);})),n("disableInput",!1,(function(e,t){t||e.display.input.reset();}),!0),n("dragDrop",!0,Cs),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,gr,!0),n("singleCursorHeightPerLine",!0,gr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ni,!0),n("addModeClass",!1,Ni,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ni,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition();})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null);}(Os),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus();},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&ei(this,t[e])(this,n,i),he(this,"optionChange",this,e));},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Yo(e));},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ti((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t);}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,fr(this);})),removeOverlay:ti((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void fr(this)}})),indentLine:ti((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ze(this.doc,e)&&_s(this,e,t,n);})),indentSelection:ti((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(_s(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Nr(this));else {var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)_s(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Yi(this.doc,r,new $i(o,c[r].to()),W);}}})),getTokenAt:function(e,t){return yt(this,e,t)},getLineTokens:function(e,t){return yt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=pt(this,Ue(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else {if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1;}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];a&&r.push(a);}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==F(r,c.val)&&r.push(c.val);}return r},getStateAfter:function(e,t){var n=this.doc;return dt(this,(e=st(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Kn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Un(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Yn(this,(e=qn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=qn(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Ue(this.doc,e);}else r=e;return Vn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Ht(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return ir(this.display)},getViewport:function(){return {from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,s,a,l=this.display,c=(e=Kn(this,at(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)c=e.top;else if("above"==r||"near"==r){var f=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(c=e.bottom),u+t.offsetWidth>p&&(u=p-t.offsetWidth);}t.style.top=c+"px",t.style.left=t.style.right="","right"==i?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,s={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(a=_r(o,s)).scrollTop&&jr(o,a.scrollTop),null!=a.scrollLeft&&Ir(o,a.scrollLeft));},triggerOnKeyDown:ti(us),triggerOnKeyPress:ti(ps),triggerOnKeyUp:fs,triggerOnMouseDown:ti(gs),execCommand:function(e){if(ts.hasOwnProperty(e))return ts[e].call(null,this)},triggerElectric:ti((function(e){Ds(this,e);})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),s=0;s<t&&!(o=zs(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:ti((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?zs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),V);})),deleteH:ti((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xo(this,(function(n){var i=zs(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}));})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var s=at(this.doc,e),a=0;a<t;++a){var l=Kn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Rs(this,l,i,n)).hitSide)break}return s},moveV:ti((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=Kn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=Rs(n,a,e,t);return "page"==t&&s==r.sel.primary()&&Ar(n,Un(n,l,"div").top-a.top),l}),V),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s];})),findWordAt:function(e){var t=Ue(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),s=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return /\s/.test(e)}:function(e){return !/\s/.test(e)&&!ee(e)};n>0&&s(t.charAt(n-1));)--n;for(;r<t.length&&s(t.charAt(r));)++r;}return new $i(et(e.line,n),et(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?L(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite));},hasFocus:function(){return this.display.input.getField()==E()},isReadOnly:function(){return !(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ti((function(e,t){Er(this,e,t);})),getScrollInfo:function(){var e=this.display.scroller;return {left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Mn(this)-this.display.barHeight,width:e.scrollWidth-Mn(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:On(this)}},scrollIntoView:ti((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Lr(e),e.curOp.scrollToPos=t;}(this,e):Dr(this,e.from,e.to,e.margin);})),setSize:ti((function(e,t){var n=this,r=function(e){return "number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Rn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){pr(n,i,"widget");break}++i;})),this.curOp.forceUpdate=!0,he(this,"refresh",this);})),operation:function(e){return Qr(this,e)},startOperation:function(){return Ur(this)},endOperation:function(){return Kr(this)},refresh:ti((function(){var e=this.display.cachedTextHeight;fr(this),this.curOp.forceUpdate=!0,Fn(this),Er(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==e||Math.abs(e-rr(this.display))>.5||this.options.lineWrapping)&&lr(this),he(this,"refresh",this);})),swapDoc:ti((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),ji(this,e),Fn(this),this.display.input.reset(),Er(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i;},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o});};}(Os);var Us="iter insert remove copy getEditor constructor".split(" ");for(var Ks in No.prototype)No.prototype.hasOwnProperty(Ks)&&F(Us,Ks)<0&&(Os.prototype[Ks]=function(e){return function(){return e.apply(this.doc,arguments)}}(No.prototype[Ks]));return ye(No),Os.inputStyles={textarea:qs,contenteditable:Fs},Os.defineMode=function(e){Os.defaults.mode||"null"==e||(Os.defaults.mode=e),Ie.apply(this,arguments);},Os.defineMIME=function(e,t){Pe[e]=t;},Os.defineMode("null",(function(){return {token:function(e){return e.skipToEnd()}}})),Os.defineMIME("text/plain","null"),Os.defineExtension=function(e,t){Os.prototype[e]=t;},Os.defineDocExtension=function(e,t){No.prototype[e]=t;},Os.fromTextArea=function(e,t){if((t=t?I(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=E();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body;}function r(){e.value=a.getValue();}var i;if(e.form&&(fe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s;};}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(de(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i));};},e.style.display="none";var a=Os((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a},function(e){e.off=de,e.on=fe,e.wheelEventPixels=wi,e.Doc=No,e.splitLines=Ne,e.countColumn=z,e.findColumn=q,e.isWordChar=Q,e.Pass=B,e.signal=he,e.Line=Ut,e.changeEnd=Mi,e.scrollbarModel=Hr,e.Pos=et,e.cmpPos=tt,e.modes=je,e.mimeModes=Pe,e.resolveMode=ze,e.getMode=Re,e.modeExtensions=Fe,e.extendMode=Be,e.copyState=We,e.startState=Ve,e.innerMode=He,e.commands=ts,e.keyMap=Ho,e.keyName=Go,e.isModifierKey=Ko,e.lookupKey=Uo,e.normalizeKeyMap=qo,e.StringStream=qe,e.SharedTextMarker=Oo,e.TextMarker=Co,e.LineWidget=ko,e.e_preventDefault=be,e.e_stopPropagation=we,e.e_stop=ke,e.addClass=L,e.contains=N,e.rmClass=M,e.keyNames=Ro;}(Os),Os.version="5.56.0",Os}();}));Qe((function(e,t){var n;(n=hc).defineMode("javascript",(function(e,t){var r,i,o=e.indentUnit,s=t.statementIndent,a=t.jsonld,l=t.json||a,c=t.typescript,u=t.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function e(e){return {type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return {if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),p=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,n){return r=e,i=n,t}function m(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=function(e){return function(t,n){var r,i=!1;if(a&&"@"==t.peek()&&t.match(d))return n.tokenize=m,h("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=m),h("string","string")}}(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==n&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return h(n);if("="==n&&e.eat(">"))return h("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==n)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ke(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1);}n=!n&&"\\"==t;}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==n)return t.tokenize=v,v(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),h("meta","meta");if("#"==n&&e.eatWhile(u))return h("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),h("comment","comment");if(p.test(n))return ">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?h("."):h("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(f.propertyIsEnumerable(r)){var i=f[r];return h(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",r)}return h("variable","variable",r)}}function g(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=m;break}r="*"==n;}return h("comment","comment")}function v(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}r=!r&&"\\"==n;}return h("quasi","string-2",e.current())}function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index);}for(var i=0,o=!1,s=n-1;s>=0;--s){var a=e.string.charAt(s),l="([{}])".indexOf(a);if(l>=0&&l<3){if(!i){++s;break}if(0==--i){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(o&&!i){++s;break}}o&&!i&&(t.fatArrowAt=s);}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r);}function x(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return !0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return !0}var k={state:null,column:null,marked:null,cc:null};function $(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e]);}function S(){return $.apply(null,arguments),!0}function C(e,t){for(var n=t;n;n=n.next)if(n.name==e)return !0;return !1}function M(e){var n=k.state;if(k.marked="def",n.context)if("var"==n.lexical.info&&n.context&&n.context.block){var r=function e(t,n){if(n){if(n.block){var r=e(t,n.prev);return r?r==n.prev?n:new T(r,n.vars,!0):null}return C(t,n.vars)?n:new T(n.prev,new _(t,n.vars),!1)}return null}(e,n.context);if(null!=r)return void(n.context=r)}else if(!C(e,n.localVars))return void(n.localVars=new _(e,n.localVars));t.globalVars&&!C(e,n.globalVars)&&(n.globalVars=new _(e,n.globalVars));}function O(e){return "public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function T(e,t,n){this.prev=e,this.vars=t,this.block=n;}function _(e,t){this.name=e,this.next=t;}var A=new _("this",new _("arguments",null));function N(){k.state.context=new T(k.state.context,k.state.localVars,!1),k.state.localVars=A;}function E(){k.state.context=new T(k.state.context,k.state.localVars,!0),k.state.localVars=null;}function L(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev;}function D(e,t){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,k.stream.column(),e,null,n.lexical,t);};return n.lex=!0,n}function j(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev);}function P(e){return function t(n){return n==e?S():";"==e||"}"==n||")"==n||"]"==n?$():S(t)}}function I(e,t){return "var"==e?S(D("vardef",t),ye,P(";"),j):"keyword a"==e?S(D("form"),B,I,j):"keyword b"==e?S(D("form"),I,j):"keyword d"==e?k.stream.match(/^\s*$/,!1)?S():S(D("stat"),H,P(";"),j):"debugger"==e?S(P(";")):"{"==e?S(D("}"),E,oe,j,L):";"==e?S():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==j&&k.state.cc.pop()(),S(D("form"),B,I,j,Se)):"function"==e?S(Te):"for"==e?S(D("form"),Ce,I,j):"class"==e||c&&"interface"==t?(k.marked="keyword",S(D("form","class"==e?e:t),Le,j)):"variable"==e?c&&"declare"==t?(k.marked="keyword",S(I)):c&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?S(qe):"type"==t?S(Ae,P("operator"),ue,P(";")):S(D("form"),be,P("{"),D("}"),oe,j,j)):c&&"namespace"==t?(k.marked="keyword",S(D("form"),R,I,j)):c&&"abstract"==t?(k.marked="keyword",S(I)):S(D("stat"),Z):"switch"==e?S(D("form"),B,P("{"),D("}","switch"),E,oe,j,j,L):"case"==e?S(R,P(":")):"default"==e?S(P(":")):"catch"==e?S(D("form"),N,z,I,j,L):"export"==e?S(D("stat"),Ie,j):"import"==e?S(D("stat"),Re,j):"async"==e?S(I):"@"==t?S(R,I):$(D("stat"),R,P(";"),j)}function z(e){if("("==e)return S(Ne,P(")"))}function R(e,t){return W(e,t,!1)}function F(e,t){return W(e,t,!0)}function B(e){return "("!=e?$():S(D(")"),H,P(")"),j)}function W(e,t,n){if(k.state.fatArrowAt==k.stream.start){var r=n?G:J;if("("==e)return S(N,D(")"),re(Ne,")"),j,P("=>"),r,L);if("variable"==e)return $(N,be,P("=>"),r,L)}var i=n?q:V;return b.hasOwnProperty(e)?S(i):"function"==e?S(Te,i):"class"==e||c&&"interface"==t?(k.marked="keyword",S(D("form"),Ee,j)):"keyword c"==e||"async"==e?S(n?F:R):"("==e?S(D(")"),H,P(")"),j,i):"operator"==e||"spread"==e?S(n?F:R):"["==e?S(D("]"),Ve,j,i):"{"==e?ie(ee,"}",null,i):"quasi"==e?$(U,i):"new"==e?S(function(e){return function(t){return "."==t?S(e?X:Y):"variable"==t&&c?S(me,e?q:V):$(e?F:R)}}(n)):"import"==e?S(R):S()}function H(e){return e.match(/[;\}\)\],]/)?$():$(R)}function V(e,t){return ","==e?S(H):q(e,t,!1)}function q(e,t,n){var r=0==n?V:q,i=0==n?R:F;return "=>"==e?S(N,n?G:J,L):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?S(r):c&&"<"==t&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?S(D(">"),re(ue,">"),j,r):"?"==t?S(R,P(":"),i):S(i):"quasi"==e?$(U,r):";"!=e?"("==e?ie(F,")","call",r):"."==e?S(Q,r):"["==e?S(D("]"),H,P("]"),j,r):c&&"as"==t?(k.marked="keyword",S(ue,r)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),S(i)):void 0:void 0}function U(e,t){return "quasi"!=e?$():"${"!=t.slice(t.length-2)?S(U):S(R,K)}function K(e){if("}"==e)return k.marked="string-2",k.state.tokenize=v,S(U)}function J(e){return y(k.stream,k.state),$("{"==e?I:R)}function G(e){return y(k.stream,k.state),$("{"==e?I:F)}function Y(e,t){if("target"==t)return k.marked="keyword",S(V)}function X(e,t){if("target"==t)return k.marked="keyword",S(q)}function Z(e){return ":"==e?S(j,I):$(V,P(";"),j)}function Q(e){if("variable"==e)return k.marked="property",S()}function ee(e,t){return "async"==e?(k.marked="property",S(ee)):"variable"==e||"keyword"==k.style?(k.marked="property","get"==t||"set"==t?S(te):(c&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),S(ne))):"number"==e||"string"==e?(k.marked=a?"property":k.style+" property",S(ne)):"jsonld-keyword"==e?S(ne):c&&O(t)?(k.marked="keyword",S(ee)):"["==e?S(R,se,P("]"),ne):"spread"==e?S(F,ne):"*"==t?(k.marked="keyword",S(ee)):":"==e?$(ne):void 0;var n;}function te(e){return "variable"!=e?$(ne):(k.marked="property",S(Te))}function ne(e){return ":"==e?S(F):"("==e?$(Te):void 0}function re(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var s=k.state.lexical;return "call"==s.info&&(s.pos=(s.pos||0)+1),S((function(n,r){return n==t||r==t?$():$(e)}),r)}return i==t||o==t?S():n&&n.indexOf(";")>-1?$(e):S(P(t))}return function(n,i){return n==t||i==t?S():$(e,r)}}function ie(e,t,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return S(D(t,n),re(e,t),j)}function oe(e){return "}"==e?S():$(I,oe)}function se(e,t){if(c){if(":"==e)return S(ue);if("?"==t)return S(se)}}function ae(e,t){if(c&&(":"==e||"in"==t))return S(ue)}function le(e){if(c&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?S(R,ce,ue):S(ue)}function ce(e,t){if("is"==t)return k.marked="keyword",S()}function ue(e,t){return "keyof"==t||"typeof"==t||"infer"==t?(k.marked="keyword",S("typeof"==t?F:ue)):"variable"==e||"void"==t?(k.marked="type",S(he)):"|"==t||"&"==t?S(ue):"string"==e||"number"==e||"atom"==e?S(he):"["==e?S(D("]"),re(ue,"]",","),j,he):"{"==e?S(D("}"),re(pe,"}",",;"),j,he):"("==e?S(re(de,")"),fe,he):"<"==e?S(re(ue,">"),ue):void 0}function fe(e){if("=>"==e)return S(ue)}function pe(e,t){return "variable"==e||"keyword"==k.style?(k.marked="property",S(pe)):"?"==t||"number"==e||"string"==e?S(pe):":"==e?S(ue):"["==e?S(P("variable"),ae,P("]"),pe):"("==e?$(_e,pe):void 0}function de(e,t){return "variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?S(de):":"==e?S(ue):"spread"==e?S(de):$(ue)}function he(e,t){return "<"==t?S(D(">"),re(ue,">"),j,he):"|"==t||"."==e||"&"==t?S(ue):"["==e?S(ue,P("]"),he):"extends"==t||"implements"==t?(k.marked="keyword",S(ue)):"?"==t?S(ue,P(":"),ue):void 0}function me(e,t){if("<"==t)return S(D(">"),re(ue,">"),j,he)}function ge(){return $(ue,ve)}function ve(e,t){if("="==t)return S(ue)}function ye(e,t){return "enum"==t?(k.marked="keyword",S(qe)):$(be,se,ke,$e)}function be(e,t){return c&&O(t)?(k.marked="keyword",S(be)):"variable"==e?(M(t),S()):"spread"==e?S(be):"["==e?ie(xe,"]"):"{"==e?ie(we,"}"):void 0}function we(e,t){return "variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?S(be):"}"==e?$():"["==e?S(R,P("]"),P(":"),we):S(P(":"),be,ke)):(M(t),S(ke))}function xe(){return $(be,ke)}function ke(e,t){if("="==t)return S(F)}function $e(e){if(","==e)return S(ye)}function Se(e,t){if("keyword b"==e&&"else"==t)return S(D("form","else"),I,j)}function Ce(e,t){return "await"==t?S(Ce):"("==e?S(D(")"),Me,j):void 0}function Me(e){return "var"==e?S(ye,Oe):"variable"==e?S(Oe):$(Oe)}function Oe(e,t){return ")"==e?S():";"==e?S(Oe):"in"==t||"of"==t?(k.marked="keyword",S(R,Oe)):$(R,Oe)}function Te(e,t){return "*"==t?(k.marked="keyword",S(Te)):"variable"==e?(M(t),S(Te)):"("==e?S(N,D(")"),re(Ne,")"),j,le,I,L):c&&"<"==t?S(D(">"),re(ge,">"),j,Te):void 0}function _e(e,t){return "*"==t?(k.marked="keyword",S(_e)):"variable"==e?(M(t),S(_e)):"("==e?S(N,D(")"),re(Ne,")"),j,le,L):c&&"<"==t?S(D(">"),re(ge,">"),j,_e):void 0}function Ae(e,t){return "keyword"==e||"variable"==e?(k.marked="type",S(Ae)):"<"==t?S(D(">"),re(ge,">"),j):void 0}function Ne(e,t){return "@"==t&&S(R,Ne),"spread"==e?S(Ne):c&&O(t)?(k.marked="keyword",S(Ne)):c&&"this"==e?S(se,ke):$(be,se,ke)}function Ee(e,t){return "variable"==e?Le(e,t):De(e,t)}function Le(e,t){if("variable"==e)return M(t),S(De)}function De(e,t){return "<"==t?S(D(">"),re(ge,">"),j,De):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(k.marked="keyword"),S(c?ue:R,De)):"{"==e?S(D("}"),je,j):void 0}function je(e,t){return "async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&O(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",S(je)):"variable"==e||"keyword"==k.style?(k.marked="property",S(Pe,je)):"number"==e||"string"==e?S(Pe,je):"["==e?S(R,se,P("]"),Pe,je):"*"==t?(k.marked="keyword",S(je)):c&&"("==e?$(_e,je):";"==e||","==e?S(je):"}"==e?S():"@"==t?S(R,je):void 0}function Pe(e,t){if("?"==t)return S(Pe);if(":"==e)return S(ue,ke);if("="==t)return S(F);var n=k.state.lexical.prev;return $(n&&"interface"==n.info?_e:Te)}function Ie(e,t){return "*"==t?(k.marked="keyword",S(He,P(";"))):"default"==t?(k.marked="keyword",S(R,P(";"))):"{"==e?S(re(ze,"}"),He,P(";")):$(I)}function ze(e,t){return "as"==t?(k.marked="keyword",S(P("variable"))):"variable"==e?$(F,ze):void 0}function Re(e){return "string"==e?S():"("==e?$(R):$(Fe,Be,He)}function Fe(e,t){return "{"==e?ie(Fe,"}"):("variable"==e&&M(t),"*"==t&&(k.marked="keyword"),S(We))}function Be(e){if(","==e)return S(Fe,Be)}function We(e,t){if("as"==t)return k.marked="keyword",S(Fe)}function He(e,t){if("from"==t)return k.marked="keyword",S(R)}function Ve(e){return "]"==e?S():$(re(F,"]"))}function qe(){return $(D("form"),be,P("{"),D("}"),re(Ue,"}"),j,j)}function Ue(){return $(be,ke)}function Ke(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return L.lex=!0,j.lex=!0,{startState:function(e){var n={tokenize:m,lastType:"sof",cc:[],lexical:new w((e||0)-o,0,"block",!1),localVars:t.localVars,context:t.localVars&&new T(null,null,!1),indented:e||0};return t.globalVars&&"object"==typeof t.globalVars&&(n.globalVars=t.globalVars),n},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return "comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?R:I)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&x(e,r)?"variable-2":t}}(t,n,r,i,e))},indent:function(e,r){if(e.tokenize==g)return n.Pass;if(e.tokenize!=m)return 0;var i,a=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==j)l=l.prev;else if(u!=Se)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(i=e.cc[e.cc.length-1])&&(i==V||i==q)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var f=l.type,d=a==f;return "vardef"==f?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==f&&"{"==a?l.indented:"form"==f?l.indented+o:"stat"==f?l.indented+(function(e,t){return "operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(e,r)?s||o:0):"switch"!=l.info||d||0==t.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ke,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=R&&t!=F||e.cc.pop();}}})),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0});})),Qe((function(e,t){!function(e){function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return /(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function r(e,r){(e.next||e.push)&&t(r,e.next||e.push),this.regex=n(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e;}function i(e,t){return function(n,r){if(r.pending){var i=r.pending.shift();return 0==r.pending.length&&(r.pending=null),n.pos+=i.text.length,i.token}if(r.local){if(r.local.end&&n.match(r.local.end)){var o=r.local.endToken||null;return r.local=r.localState=null,o}var a;return o=r.local.mode.token(n,r.localState),r.local.endScan&&(a=r.local.endScan.exec(n.current()))&&(n.pos=n.start+a.index),o}for(var l=e[r.state],c=0;c<l.length;c++){var u=l[c],f=(!u.data.sol||n.sol())&&n.match(u.regex);if(f){u.data.next?r.state=u.data.next:u.data.push?((r.stack||(r.stack=[])).push(r.state),r.state=u.data.push):u.data.pop&&r.stack&&r.stack.length&&(r.state=r.stack.pop()),u.data.mode&&s(t,r,u.data.mode,u.token),u.data.indent&&r.indent.push(n.indentation()+t.indentUnit),u.data.dedent&&r.indent.pop();var p=u.token;if(p&&p.apply&&(p=p(f)),f.length>2&&u.token&&"string"!=typeof u.token){r.pending=[];for(var d=2;d<f.length;d++)f[d]&&r.pending.push({text:f[d],token:u.token[d-1]});return n.backUp(f[0].length-(f[1]?f[1].length:0)),p[0]}return p&&p.join?p[0]:p}}return n.next(),null}}function o(e,t){if(e===t)return !0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return !1;var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!o(e[r],t[r]))return !1;n++;}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}function s(t,r,i,s){var a;if(i.persistent)for(var l=r.persistentStates;l&&!a;l=l.next)(i.spec?o(i.spec,l.spec):i.mode==l.mode)&&(a=l);var c=a?a.mode:i.mode||e.getMode(t,i.spec),u=a?a.state:e.startState(c);i.persistent&&!a&&(r.persistentStates={mode:c,spec:i.spec,state:u,next:r.persistentStates}),r.localState=u,r.local={mode:c,end:i.end&&n(i.end),endScan:i.end&&!1!==i.forceEnd&&n(i.end,!1),endToken:s&&s.join?s[s.length-1]:s};}function a(t,n){return function(r,i,o){if(r.local&&r.local.mode.indent)return r.local.mode.indent(r.localState,i,o);if(null==r.indent||r.local||n.dontIndentStates&&function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return !0}(r.state,n.dontIndentStates)>-1)return e.Pass;var s=r.indent.length-1,a=t[r.state];e:for(;;){for(var l=0;l<a.length;l++){var c=a[l];if(c.data.dedent&&!1!==c.data.dedentIfLineStart){var u=c.regex.exec(i);if(u&&u[0]){s--,(c.next||c.push)&&(a=t[c.next||c.push]),i=i.slice(u[0].length);continue e}}}break}return s<0?0:r.indent[s]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}));},e.simpleMode=function(n,o){t(o,"start");var s={},l=o.meta||{},c=!1;for(var u in o)if(u!=l&&o.hasOwnProperty(u))for(var f=s[u]=[],p=o[u],d=0;d<p.length;d++){var h=p[d];f.push(new r(h,o)),(h.indent||h.dedent)&&(c=!0);}var m={startState:function(){return {state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var r=t.persistentStates;r;r=r.next)n.persistentStates={mode:r.mode,spec:r.spec,state:r.state==t.localState?n.localState:e.copyState(r.mode,r.state),next:n.persistentStates};return n},token:i(s,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:a(s,l)};if(l)for(var g in l)l.hasOwnProperty(g)&&(m[g]=l[g]);return m};}(hc);})),Qe((function(e,t){var n;(n=hc).multiplexingMode=function(e){var t=Array.prototype.slice.call(arguments,1);function r(e,t,n,r){if("string"==typeof t){var i=e.indexOf(t,n);return r&&i>-1?i+t.length:i}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(r?o[0].length:0):-1}return {startState:function(){return {outer:n.startState(e),innerActive:null,inner:null}},copyState:function(t){return {outer:n.copyState(e,t.outer),innerActive:t.innerActive,inner:t.innerActive&&n.copyState(t.innerActive.mode,t.inner)}},token:function(i,o){if(o.innerActive){var s=o.innerActive;if(c=i.string,!s.close&&i.sol())return o.innerActive=o.inner=null,this.token(i,o);if((f=s.close?r(c,s.close,i.pos,s.parseDelimiters):-1)==i.pos&&!s.parseDelimiters)return i.match(s.close),o.innerActive=o.inner=null,s.delimStyle&&s.delimStyle+" "+s.delimStyle+"-close";f>-1&&(i.string=c.slice(0,f));var a=s.mode.token(i,o.inner);return f>-1&&(i.string=c),f==i.pos&&s.parseDelimiters&&(o.innerActive=o.inner=null),s.innerStyle&&(a=a?a+" "+s.innerStyle:s.innerStyle),a}for(var l=1/0,c=i.string,u=0;u<t.length;++u){var f,p=t[u];if((f=r(c,p.open,i.pos))==i.pos){p.parseDelimiters||i.match(p.open),o.innerActive=p;var d=0;if(e.indent){var h=e.indent(o.outer,"","");h!==n.Pass&&(d=h);}return o.inner=n.startState(p.mode,d),p.delimStyle&&p.delimStyle+" "+p.delimStyle+"-open"}-1!=f&&f<l&&(l=f);}l!=1/0&&(i.string=c.slice(0,l));var m=e.token(i,o.outer);return l!=1/0&&(i.string=c),m},indent:function(t,r,i){var o=t.innerActive?t.innerActive.mode:e;return o.indent?o.indent(t.innerActive?t.inner:t.outer,r,i):n.Pass},blankLine:function(r){var i=r.innerActive?r.innerActive.mode:e;if(i.blankLine&&i.blankLine(r.innerActive?r.inner:r.outer),r.innerActive)"\n"===r.innerActive.close&&(r.innerActive=r.inner=null);else for(var o=0;o<t.length;++o){var s=t[o];"\n"===s.open&&(r.innerActive=s,r.inner=n.startState(s.mode,i.indent?i.indent(r.outer,"",""):0));}},electricChars:e.electricChars,innerMode:function(t){return t.inner?{state:t.inner,mode:t.innerActive.mode}:{state:t.outer,mode:e}}}};})),Qe((function(e,t){var n;(n=hc).defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",(function(e,t){var r=n.getMode(e,"handlebars-tags");return t&&t.base?n.multiplexingMode(n.getMode(e,t.base),{open:"{{",close:/\}\}\}?/,mode:r,parseDelimiters:!0}):r})),n.defineMIME("text/x-handlebars-template","handlebars");})),Qe((function(e,t){var n,r,i;r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1},(n=hc).defineMode("xml",(function(e,t){var o,s,a=e.indentUnit,l={},c=t.htmlMode?r:i;for(var u in c)l[u]=c[u];for(var u in t)l[u]=t[u];function f(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return "<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(d("atom","]]>")):null:e.match("--")?n(d("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(function e(t){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=e(t+1),r.tokenize(n,r);if(">"==i){if(1==t){r.tokenize=f;break}return r.tokenize=e(t-1),r.tokenize(n,r)}}return "meta"}}(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=d("meta","?>"),"meta"):(o=e.eat("/")?"closeTag":"openTag",t.tokenize=p,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function p(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=f,o=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return o="equals",null;if("<"==n){t.tokenize=f,t.state=v,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return /[\'\"]/.test(n)?(t.tokenize=function(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=p;break}return "string"};return t.isInAttribute=!0,t}(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=f;break}n.next();}return e}}function h(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0);}function m(e){e.context&&(e.context=e.context.prev);}function g(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;m(e);}}function v(e,t,n){return "openTag"==e?(n.tagStart=t.column(),y):"closeTag"==e?b:v}function y(e,t,n){return "word"==e?(n.tagName=t.current(),s="tag",k):l.allowMissingTagName&&"endTag"==e?(s="tag bracket",k(e,0,n)):(s="error",y)}function b(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(s="tag",w):(s="tag error",x)}return l.allowMissingTagName&&"endTag"==e?(s="tag bracket",w(e,0,n)):(s="error",x)}function w(e,t,n){return "endTag"!=e?(s="error",w):(m(n),v)}function x(e,t,n){return s="error",w(e,0,n)}function k(e,t,n){if("word"==e)return s="attribute",$;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new h(n,r,i==n.indented)),v}return s="error",k}function $(e,t,n){return "equals"==e?S:(l.allowMissing||(s="error"),k(e,0,n))}function S(e,t,n){return "string"==e?C:"word"==e&&l.allowUnquoted?(s="string",k):(s="error",k(e,0,n))}function C(e,t,n){return "string"==e?C:k(e,0,n)}return f.isInText=!0,{startState:function(e){var t={tokenize:f,state:v,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;o=null;var n=t.tokenize(e,t);return (n||o)&&"comment"!=n&&(s=null,t.state=t.state(o||n,e,t),s&&(n="error"==s?n+" error":s)),n},indent:function(e,t,r){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(i&&i.noIndent)return n.Pass;if(e.tokenize!=p&&e.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return !1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var o=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev;}else if(o)for(;i;){var s=l.contextGrabbers[i.tagName];if(!s||!s.hasOwnProperty(o[2]))break;i=i.prev;}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==S&&(e.state=k);},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)n.tagName&&t.push(n.tagName);return t.reverse()}}})),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0});})),Qe((function(e,t){!function(e){function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var i,o,s=t.indentUnit,a=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},f=n.mediaValueKeywords||{},p=n.propertyKeywords||{},d=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=n.lineComment,w=!0===n.supportsAtComponent;function x(e,t){return i=t,e}function k(e,t){var n=e.next();if(a[n]){var r=a[n](e,t);if(!1!==r)return r}return "@"==n?(e.eatWhile(/[\w\\\-]/),x("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?x(null,"compare"):'"'==n||"'"==n?(t.tokenize=$(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),x("atom","hash")):"!"==n?(e.match(/^\s*\w*/),x("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),x("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?x(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?x("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?x(null,n):e.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=S),x("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),x("property","word")):x(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),x("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?x("variable-2","variable-definition"):x("variable-2","variable")):e.match(/^\w+-/)?x("meta","meta"):void 0}function $(e){return function(t,n){for(var r,i=!1;null!=(r=t.next());){if(r==e&&!i){")"==e&&t.backUp(1);break}i=!i&&"\\"==r;}return (r==e||!i&&")"!=e)&&(n.tokenize=null),x("string","string")}}function S(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=$(")"),x(null,"(")}function C(e,t,n){this.type=e,this.indent=t,this.prev=n;}function M(e,t,n,r){return e.context=new C(n,t.indentation()+(!1===r?0:s),e.context),n}function O(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function T(e,t,n){return N[n.context.type](e,t,n)}function _(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return T(e,t,n)}function A(e){var t=e.current().toLowerCase();o=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable";}var N={top:function(e,t,n){if("{"==e)return M(n,t,"block");if("}"==e&&n.context.prev)return O(n);if(w&&/@component/i.test(e))return M(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return M(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return M(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return "keyframes";if(e&&"@"==e.charAt(0))return M(n,t,"at");if("hash"==e)o="builtin";else if("word"==e)o="tag";else {if("variable-definition"==e)return "maybeprop";if("interpolation"==e)return M(n,t,"interpolation");if(":"==e)return "pseudo";if(y&&"("==e)return M(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return p.hasOwnProperty(r)?(o="property","maybeprop"):d.hasOwnProperty(r)?(o="string-2","maybeprop"):y?(o=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return "meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?N.top(e,t,n):(o="error","block")},maybeprop:function(e,t,n){return ":"==e?M(n,t,"prop"):T(e,t,n)},prop:function(e,t,n){if(";"==e)return O(n);if("{"==e&&y)return M(n,t,"propBlock");if("}"==e||"{"==e)return _(e,t,n);if("("==e)return M(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)A(t);else if("interpolation"==e)return M(n,t,"interpolation")}else o+=" error";return "prop"},propBlock:function(e,t,n){return "}"==e?O(n):"word"==e?(o="property","maybeprop"):n.context.type},parens:function(e,t,n){return "{"==e||"}"==e?_(e,t,n):")"==e?O(n):"("==e?M(n,t,"parens"):"interpolation"==e?M(n,t,"interpolation"):("word"==e&&A(t),"parens")},pseudo:function(e,t,n){return "meta"==e?"pseudo":"word"==e?(o="variable-3",n.context.type):T(e,t,n)},documentTypes:function(e,t,n){return "word"==e&&l.hasOwnProperty(t.current())?(o="tag",n.context.type):N.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return M(n,t,"atBlock_parens");if("}"==e||";"==e)return _(e,t,n);if("{"==e)return O(n)&&M(n,t,y?"block":"top");if("interpolation"==e)return M(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();o="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?"keyword":p.hasOwnProperty(r)?"property":d.hasOwnProperty(r)?"string-2":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error";}return n.context.type},atComponentBlock:function(e,t,n){return "}"==e?_(e,t,n):"{"==e?O(n)&&M(n,t,y?"block":"top",!1):("word"==e&&(o="error"),n.context.type)},atBlock_parens:function(e,t,n){return ")"==e?O(n):"{"==e||"}"==e?_(e,t,n,2):N.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return "{"==e?M(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):T(e,t,n)},restricted_atBlock:function(e,t,n){return "}"==e?(n.stateArg=null,O(n)):"word"==e?(o="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return "word"==e?(o="variable","keyframes"):"{"==e?M(n,t,"top"):T(e,t,n)},at:function(e,t,n){return ";"==e?O(n):"{"==e||"}"==e?_(e,t,n):("word"==e?o="tag":"hash"==e&&(o="builtin"),"at")},interpolation:function(e,t,n){return "}"==e?O(n):"{"==e||";"==e?_(e,t,n):("word"==e?o="variable":"variable"!=e&&"("!=e&&")"!=e&&(o="error"),"interpolation")}};return {startState:function(e){return {tokenize:null,state:r?"block":"top",stateArg:null,context:new C(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||k)(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),o=n,"comment"!=i&&(t.state=N[t.state](i,e,t)),o},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return "prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-s)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=t(s),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],f=t(u),p=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],d=t(p),h=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=t(y),w=n.concat(i).concat(s).concat(l).concat(u).concat(p).concat(g).concat(y);function x(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n;}return ["comment","comment"]}e.registerHelper("hintWords","css",w),e.defineMIME("text/css",{documentTypes:r,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return !!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:d,colorKeywords:v,valueKeywords:b,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},":":function(e){return !!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return !!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:f,nonStandardPropertyKeywords:d,colorKeywords:v,valueKeywords:b,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=x,x(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return ["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:o,mediaFeatures:a,propertyKeywords:f,nonStandardPropertyKeywords:d,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return !!e.eat("*")&&(t.tokenize=x,x(e,t))}},name:"css",helperType:"gss"});}(hc);}));const mc={escape:92,throws:!1};function gc(e){return e>47&&e<58}function vc(e,t,n){return n=n||90,(e&=-33)>=(t=t||65)&&e<=n}function yc(e){return gc(e)||bc(e)}function bc(e){return 95===e||vc(e)}function wc(e){return 32===e||9===e||160===e}function xc(e){return wc(e)||10===e||13===e}function kc(e,t){t=Object.assign(Object.assign({},mc),t);const n=e.pos,r=e.peek();if(e.eat($c)){for(;!e.eof();)switch(e.next()){case r:return e.start=n,!0;case t.escape:e.next();}if(e.pos=n,t.throws)throw e.error("Unable to consume quoted string")}return !1}function $c(e){return 39===e||34===e}function Sc(e,t,n,r){r=Object.assign(Object.assign({},mc),r);const i=e.pos;if(e.eat(t)){let o,s=1;for(;!e.eof();)if(!kc(e,r))if(o=e.next(),o===t)s++;else if(o===n){if(s--,!s)return e.start=i,!0}else o===r.escape&&e.next();if(e.pos=i,r.throws)throw e.error("Unable to find matching pair for "+String.fromCharCode(t))}return !1}class Cc{constructor(e,t,n){null==n&&"string"==typeof e&&(n=e.length),this.string=e,this.pos=this.start=t||0,this.end=n||0;}eof(){return this.pos>=this.end}limit(e,t){return new Cc(this.string,e,t)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(e){const t=this.peek(),n="function"==typeof e?e(t):t===e;return n&&this.next(),n}eatWhile(e){const t=this.pos;for(;!this.eof()&&this.eat(e););return this.pos!==t}backUp(e){this.pos-=e||1;}current(){return this.substring(this.start,this.pos)}substring(e,t){return this.string.slice(e,t)}error(e,t=this.pos){return new Mc(`${e} at ${t+1}`,t,this.string)}}class Mc extends Error{constructor(e,t,n){super(e),this.pos=t,this.string=n;}}function Oc(e){return e.tokens[e.pos]}function Tc(e){return e.tokens[e.pos++]}function _c(e,t=e.start,n=e.pos){return e.tokens.slice(t,n)}function Ac(e){return e.pos<e.size}function Nc(e,t){const n=Oc(e);return !(!n||!t(n))&&(e.pos++,!0)}function Ec(e,t,n=Oc(e)){n&&null!=n.start&&(t+=" at "+n.start);const r=new Error(t);return r.pos=n&&n.start,r}function Lc(e,t={}){const n={tokens:r=e,start:0,pos:0,size:r.length};var r;const i=Dc(n,t);if(Ac(n))throw Ec(n,"Unexpected character");return i}function Dc(e,t){const n={type:"TokenGroup",elements:[]};let r,i=n;const o=[];for(;Ac(e)&&(r=Pc(e,t)||jc(e,t));)if(i.elements.push(r),Nc(e,iu))o.push(i),i=r;else {if(Nc(e,ou))continue;if(Nc(e,su))do{o.length&&(i=o.pop());}while(Nc(e,su))}return n}function jc(e,t){if(Nc(e,nu)){const n=Dc(e,t);return Vc(Tc(e),"group",!1)&&(n.repeat=function(e){return Gc(Oc(e))?e.tokens[e.pos++]:void 0}(e)),n}}function Pc(e,t){let n;const r={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for(function(e,t){const n=e.pos;if(t.jsx&&Nc(e,Yc))for(;Ac(e);){const{pos:t}=e;if(!Nc(e,Zc)||!Nc(e,Yc)){e.pos=t;break}}for(;Ac(e)&&Nc(e,Xc););if(e.pos!==n)return e.start=n,!0;return !1}(e,t)&&(r.name=_c(e));Ac(e);)if(e.start=e.pos,r.repeat||ru(r)||!Nc(e,Gc))if(!r.value&&Wc(e))r.value=Hc(e);else {if(!(n=zc(e,"id",t)||zc(e,"class",t)||Ic(e))){!ru(r)&&Nc(e,au)&&(r.selfClose=!0,!r.repeat&&Nc(e,Gc)&&(r.repeat=e.tokens[e.pos-1]));break}r.attributes?r.attributes=r.attributes.concat(n):r.attributes=Array.isArray(n)?n.slice():[n];}else r.repeat=e.tokens[e.pos-1];return ru(r)?void 0:r}function Ic(e){if(Nc(e,Qc)){const t=[];let n;for(;Ac(e);)if(n=Rc(e))t.push(n);else {if(Nc(e,eu))break;if(!Nc(e,Kc))throw Ec(e,`Unexpected "${Oc(e).type}" token`)}return t}}function zc(e,t,n){if(qc(Oc(e),t)){e.pos++;const i={name:[(r=t,{type:"Literal",value:r})]};return n.jsx&&Wc(e)?(i.value=Hc(e),i.expression=!0):i.value=Bc(e)?_c(e):void 0,i}var r;}function Rc(e){return Fc(e)?{value:_c(e)}:Bc(e,!0)?{name:_c(e),value:Nc(e,Jc)&&(Fc(e)||Bc(e,!0))?_c(e):void 0}:void 0}function Fc(e){const t=e.pos,n=Oc(e);if(Uc(n)){for(e.pos++;Ac(e);)if(Uc(Tc(e),n.single))return e.start=t,!0;throw Ec(e,"Unclosed quote",n)}return !1}function Bc(e,t){const n=e.pos,r={attribute:0,expression:0,group:0};for(;Ac(e);){const n=Oc(e);if(r.expression)Vc(n,"expression")&&(r[n.context]+=n.open?1:-1);else {if(Uc(n)||qc(n)||Kc(n)||Gc(n))break;if(Vc(n)){if(!t)break;if(n.open)r[n.context]++;else {if(!r[n.context])break;r[n.context]--;}}}e.pos++;}return n!==e.pos&&(e.start=n,!0)}function Wc(e){const t=e.pos;if(Nc(e,tu)){let n=0;for(;Ac(e);){const t=Tc(e);if(Vc(t,"expression"))if(t.open)n++;else {if(!n)break;n--;}}return e.start=t,!0}return !1}function Hc(e){let t=e.start,n=e.pos;return Vc(e.tokens[t],"expression",!0)&&t++,Vc(e.tokens[n-1],"expression",!1)&&n--,_c(e,t,n)}function Vc(e,t,n){return Boolean(e&&"Bracket"===e.type&&(!t||e.context===t)&&(null==n||e.open===n))}function qc(e,t){return Boolean(e&&"Operator"===e.type&&(!t||e.operator===t))}function Uc(e,t){return Boolean(e&&"Quote"===e.type&&(null==t||e.single===t))}function Kc(e){return Boolean(e&&"WhiteSpace"===e.type)}function Jc(e){return qc(e,"equal")}function Gc(e){return Boolean(e&&"Repeater"===e.type)}function Yc(e){if(function(e){return "Literal"===e.type}(e)){const t=e.value.charCodeAt(0);return t>=65&&t<=90}return !1}function Xc(e){return "Literal"===e.type||"RepeaterNumber"===e.type||"RepeaterPlaceholder"===e.type}function Zc(e){return qc(e,"class")}function Qc(e){return Vc(e,"attribute",!0)}function eu(e){return Vc(e,"attribute",!1)}function tu(e){return Vc(e,"expression",!0)}function nu(e){return Vc(e,"group",!0)}function ru(e){return !e.name&&!e.value&&!e.attributes}function iu(e){return qc(e,"child")}function ou(e){return qc(e,"sibling")}function su(e){return qc(e,"climb")}function au(e){return qc(e,"close")}function lu(e){return !!e.eat(92)&&(e.start=e.pos,e.eof()||e.pos++,!0)}function cu(e){const t=new Cc(e),n=[],r={group:0,attribute:0,expression:0,quote:0};let i,o=0;for(;!t.eof();){if(o=t.peek(),i=uu(t,r),!i)throw t.error("Unexpected character");n.push(i),"Quote"===i.type?r.quote=o===r.quote?0:o:"Bracket"===i.type&&(r[i.context]+=i.open?1:-1);}return n}function uu(e,t){return function(e,t){const n=e.pos;if((t.expression||t.attribute)&&e.eat(36)&&e.eat(123)){let t;e.start=e.pos;let r="";if(e.eatWhile(gc)?(t=Number(e.current()),r=e.eat(58)?fu(e):""):vc(e.peek())&&(r=fu(e)),e.eat(125))return {type:"Field",index:t,name:r,start:n,end:e.pos};throw e.error("Expecting }")}e.pos=n;}(e,t)||function(e){const t=e.pos;if(e.eat(36)&&e.eat(35))return {type:"RepeaterPlaceholder",value:void 0,start:t,end:e.pos};e.pos=t;}(e)||function(e){const t=e.pos;if(e.eatWhile(36)){const n=e.pos-t;let r=!1,i=1,o=0;if(e.eat(64)){for(;e.eat(94);)o++;r=e.eat(45),e.start=e.pos,e.eatWhile(gc)&&(i=Number(e.current()));}return e.start=t,{type:"RepeaterNumber",size:n,reverse:r,base:i,parent:o,start:t,end:e.pos}}}(e)||function(e){const t=e.pos;if(e.eat(42)){e.start=e.pos;let n=1,r=!1;return e.eatWhile(gc)?n=Number(e.current()):r=!0,{type:"Repeater",count:n,value:0,implicit:r,start:t,end:e.pos}}}(e)||function(e){const t=e.pos;if(e.eatWhile(xc))return {type:"WhiteSpace",start:t,end:e.pos}}(e)||function(e,t){const n=e.pos;let r="";for(;!e.eof();){if(lu(e)){r+=e.current();continue}const n=e.peek();if(n===t.quote||36===n||pu(n,t))break;if(t.expression&&125===n)break;if(!t.quote&&!t.expression){if(!t.attribute&&!yu(n))break;if(du(n,t)||hu(n,t)||$c(n)||mu(n))break}r+=e.string[e.pos++];}if(n!==e.pos)return e.start=n,{type:"Literal",value:r,start:n,end:e.pos}}(e,t)||function(e){const t=gu(e.peek());if(t)return {type:"Operator",operator:t,start:e.pos++,end:e.pos}}(e)||function(e){const t=e.peek();if($c(t))return {type:"Quote",single:39===t,start:e.pos++,end:e.pos}}(e)||function(e){const t=e.peek(),n=mu(t);if(n)return {type:"Bracket",open:vu(t),context:n,start:e.pos++,end:e.pos}}(e)}function fu(e){const t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop();}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function pu(e,t){const n=gu(e);return !(!n||t.quote||t.expression)&&(!t.attribute||"equal"===n)}function du(e,t){return xc(e)&&!t.expression}function hu(e,t){return 42===e&&!t.attribute&&!t.expression}function mu(e){return 40===e||41===e?"group":91===e||93===e?"attribute":123===e||125===e?"expression":void 0}function gu(e){return (62===e?"child":43===e&&"sibling")||94===e&&"climb"||46===e&&"class"||35===e&&"id"||47===e&&"close"||61===e&&"equal"||void 0}function vu(e){return 123===e||91===e||40===e}function yu(e){return yc(e)||45===e||58===e||33===e}const bu={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},wu={Literal:e=>e.value,Quote:e=>e.single?"'":'"',Bracket:e=>"attribute"===e.context?e.open?"[":"]":"expression"===e.context?e.open?"{":"}":e.open?"(":"}",Operator:e=>bu[e.operator],Field:(e,t)=>null!=e.index?e.name?`\${${e.index}:${e.name}}`:"${"+e.index:e.name?t.getVariable(e.name):"",RepeaterPlaceholder(e,t){let n;for(let e=t.repeaters.length-1;e>=0;e--)if(t.repeaters[e].implicit){n=t.repeaters[e];break}return t.inserted=!0,t.getText(n&&n.value)},RepeaterNumber(e,t){let n=1;const r=t.repeaters.length-1,i=t.repeaters[r];if(i&&(n=e.reverse?e.base+i.count-i.value-1:e.base+i.value,e.parent)){const o=Math.max(0,r-e.parent);if(o!==r){const e=t.repeaters[o];n+=i.count*e.value;}}let o=String(n);for(;o.length<e.size;)o="0"+o;return o},WhiteSpace:()=>" "};function xu(e,t){if(!wu[e.type])throw new Error("Unknown token "+e.type);return wu[e.type](e,t)}function ku(e,t){let n=[];if(e.repeat){const r=e.repeat,i=Object.assign({},r);let o;i.count=i.implicit&&Array.isArray(t.text)?t.text.length:i.count||1,t.repeaters.push(i);for(let r=0;r<i.count;r++){if(i.value=r,e.repeat=i,o=Tu(e)?Su(e,t):$u(e,t),i.implicit&&!t.inserted){const e=Au(o),n=e&&Nu(e);n&&Eu(n,t.getText(i.value));}if(n=n.concat(o),--t.repeatGuard<=0)break}t.repeaters.pop(),e.repeat=r,i.implicit&&(t.inserted=!0);}else n=n.concat(Tu(e)?Su(e,t):$u(e,t));return n}function $u(e,t){let n=[];const r={type:"AbbreviationNode",name:e.name&&Mu(e.name,t),value:e.value&&Ou(e.value,t),attributes:void 0,children:n,repeat:e.repeat&&Object.assign({},e.repeat),selfClosing:e.selfClose};let i=[r];for(const r of e.elements)n=n.concat(ku(r,t));if(e.attributes){r.attributes=[];for(const n of e.attributes)r.attributes.push(Cu(n,t));}return r.name||r.attributes||!r.value||r.value.some(_u)?r.children=n:i=i.concat(n),i}function Su(e,t){let n=[];for(const r of e.elements)n=n.concat(ku(r,t));return e.repeat&&(n=function(e,t){for(const n of e)n.repeat||(n.repeat=Object.assign({},t));return e}(n,e.repeat)),n}function Cu(e,t){let n,r=!1,i=!1,o=e.expression?"expression":"raw";const s=e.name&&Mu(e.name,t);if(s&&"!"===s[0]&&(r=!0),s&&"."===s[s.length-1]&&(i=!0),e.value){const r=e.value.slice();if(Uc(r[0])){const e=r.shift();r.length&&Au(r).type===e.type&&r.pop(),o=e.single?"singleQuote":"doubleQuote";}else Vc(r[0],"expression",!0)&&(o="expression",r.shift(),Vc(Au(r),"expression",!1)&&r.pop());n=Ou(r,t);}return {name:i||r?s.slice(r?1:0,i?-1:void 0):s,value:n,boolean:i,implied:r,valueType:o}}function Mu(e,t){let n="";for(let r=0;r<e.length;r++)n+=xu(e[r],t);return n}function Ou(e,t){const n=[];let r="";for(let i,o=0;o<e.length;o++)i=e[o],_u(i)?(r&&(n.push(r),r=""),n.push(i)):r+=xu(i,t);return r&&n.push(r),n}function Tu(e){return "TokenGroup"===e.type}function _u(e){return "object"==typeof e&&"Field"===e.type&&null!=e.index}function Au(e){return e[e.length-1]}function Nu(e){return e.children.length?Nu(Au(e.children)):e}function Eu(e,t){if(e.value){"string"==typeof Au(e.value)?e.value[e.value.length-1]+=t:e.value.push(t);}else e.value=[t];}function Lu(e,t){try{return function(e,t={}){let n=!1;const r={type:"Abbreviation",children:Su(e,{inserted:!1,repeaters:[],text:t.text,repeatGuard:t.maxRepeat||Number.POSITIVE_INFINITY,getText(e){n=!0;const r=Array.isArray(t.text)?null!=e?t.text[e]:t.text.join("\n"):t.text;return null!=r?r:""},getVariable(e){const n=t.variables&&t.variables[e];return null!=n?n:e}})};if(null!=t.text&&!n){const e=Nu(Au(r.children));if(e){Eu(e,Array.isArray(t.text)?t.text.join("\n"):t.text);}}return r}(Lc("string"==typeof e?cu(e):e,t),t)}catch(t){throw t instanceof Mc&&"string"==typeof e&&(t.message+=`\n${e}\n${"-".repeat(t.pos)}^`),t}}function Du(e,t){let n,r=0;const i=new Cc(e),o=[];for(;!i.eof();){if(n=ju(i,0===r&&!t),!n)throw i.error("Unexpected character");if("Bracket"===n.type&&(!r&&n.open&&qu(i,o),r+=n.open?1:-1,r<0))throw i.error("Unexpected bracket",n.start);o.push(n),Vu(n)&&(n=Ru(i))&&o.push(n);}return o}function ju(e,t){return function(e){const t=e.pos;if(e.eat(36)&&e.eat(123)){let n;e.start=e.pos;let r="";if(e.eatWhile(gc)?(n=Number(e.current()),r=e.eat(58)?Pu(e):""):vc(e.peek())&&(r=Pu(e)),e.eat(125))return {type:"Field",index:n,name:r,start:t,end:e.pos};throw e.error("Expecting }")}e.pos=t;}(e)||function(e){const t=e.pos;if(function(e){const t=e.pos;e.eat(45);const n=e.pos,r=e.eatWhile(gc),i=e.pos;if(e.eat(46)){const t=e.eatWhile(gc);r||t||(e.pos=i);}e.pos===n&&(e.pos=t);return e.pos!==t}(e)){e.start=t;const n=e.current();return e.start=e.pos,e.eat(37)||e.eatWhile(bc),{type:"NumberValue",value:Number(n),rawValue:n,unit:e.current(),start:t,end:e.pos}}}(e)||function(e){const t=e.pos;if(e.eat(35)){const n=e.pos;let r="",i="";if(e.eatWhile(Bu)?(r=e.substring(n,e.pos),i=zu(e)):e.eat(116)?(r="0",i=zu(e)||"0"):i=zu(e),r||i||e.eof()){const{r:n,g:o,b:s,a:a}=function(e,t){let n="0",r="0",i="0",o=Number(null!=t&&""!==t?t:1);if("t"===e)o=0;else switch(e.length){case 0:break;case 1:n=r=i=e+e;break;case 2:n=r=i=e;break;case 3:n=e[0]+e[0],r=e[1]+e[1],i=e[2]+e[2];break;default:n=(e+=e).slice(0,2),r=e.slice(2,4),i=e.slice(4,6);}return {r:parseInt(n,16),g:parseInt(r,16),b:parseInt(i,16),a:o}}(r,i);return {type:"ColorValue",r:n,g:o,b:s,a:a,raw:e.substring(t+1,e.pos),start:t,end:e.pos}}return Iu(e,t)}e.pos=t;}(e)||function(e){const t=e.peek(),n=e.pos;let r=!1;if($c(t)){for(e.pos++;!e.eof();){if(e.eat(t)){r=!0;break}e.pos++;}return e.start=n,{type:"StringValue",value:e.substring(n+1,e.pos-(r?1:0)),quote:39===t?"single":"double",start:n,end:e.pos}}}(e)||function(e){const t=e.peek();if(function(e){return 40===e||41===e}(t))return {type:"Bracket",open:40===t,start:e.pos++,end:e.pos}}(e)||Ru(e)||function(e){const t=e.pos;if(e.eatWhile(xc))return {type:"WhiteSpace",start:t,end:e.pos}}(e)||function(e,t){const n=e.pos;e.eat(Fu)?e.eatWhile(n?Wu:Hu):e.eat(bc)?e.eatWhile(t?Hu:Wu):(e.eat(46),e.eatWhile(Hu));if(n!==e.pos)return e.start=n,Iu(e,e.start=n)}(e,t)}function Pu(e){const t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop();}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function Iu(e,t=e.start,n=e.pos){return {type:"Literal",value:e.substring(t,n),start:t,end:n}}function zu(e){const t=e.pos;return e.eat(46)?(e.start=t,e.eatWhile(gc)?e.current():"1"):""}function Ru(e){const t=(43===(n=e.peek())?"+":33===n&&"!")||44===n&&","||58===n&&":"||45===n&&"-"||void 0;var n;if(t)return {type:"Operator",operator:t,start:e.pos++,end:e.pos}}function Fu(e){return 64===e||36===e}function Bu(e){return gc(e)||vc(e,65,70)}function Wu(e){return yc(e)||45===e}function Hu(e){return bc(e)||37===e}function Vu(e){return "ColorValue"===e.type||"NumberValue"===e.type&&!e.unit}function qu(e,t){let n=0,r=0;for(;t.length;){const e=(i=t)[i.length-1];if("Literal"!==e.type&&"NumberValue"!==e.type)break;n=e.start,r||(r=e.end),t.pop();}var i;n!==r&&t.push(Iu(e,n,r));}function Uu(e){return e.tokens[e.pos]}function Ku(e){return e.pos<e.size}function Ju(e,t){return !!t(Uu(e))&&(e.pos++,!0)}function Gu(e,t,n=Uu(e)){n&&null!=n.start&&(t+=" at "+n.start);const r=new Error(t);return r.pos=n&&n.start,r}function Yu(e,t={}){const n=function(e){return {tokens:e,start:0,pos:0,size:e.length}}(e),r=[];let i;for(;Ku(n);)if(i=Xu(n,t))r.push(i);else if(!Ju(n,af))throw Gu(n,"Unexpected token");return r}function Xu(e,t){let n,r,i=!1;const o=[],s=Uu(e),a=!!t.value;for(a||!ef(s)||function(e){const t=e.tokens[e.pos],n=e.tokens[e.pos+1];return t&&n&&ef(t)&&"Bracket"===n.type}(e)||(e.pos++,n=s.value,Ju(e,pf)),a&&Ju(e,of);Ku(e);)if(Ju(e,uf))i=!0;else if(r=Zu(e,a))o.push(r);else if(!Ju(e,cf))break;if(n||o.length||i)return {name:n,value:o,important:i}}function Zu(e,t){const n=[];let r,i;for(;Ku(e);)if(r=Uu(e),ff(r))e.pos++,ef(r)&&(i=Qu(e))?n.push({type:"FunctionCall",name:r.value,arguments:i}):n.push(r);else {if(!(pf(r)||t&&of(r)))break;e.pos++;}return n.length?{type:"CSSValue",value:n}:void 0}function Qu(e){const t=e.pos;if(Ju(e,nf)){const n=[];let r;for(;Ku(e)&&!Ju(e,rf);)if(r=Zu(e,!0))n.push(r);else if(!Ju(e,of)&&!Ju(e,lf))throw Gu(e,"Unexpected token");return e.start=t,n}}function ef(e){return e&&"Literal"===e.type}function tf(e,t){return e&&"Bracket"===e.type&&(null==t||e.open===t)}function nf(e){return tf(e,!0)}function rf(e){return tf(e,!1)}function of(e){return e&&"WhiteSpace"===e.type}function sf(e,t){return e&&"Operator"===e.type&&(!t||e.operator===t)}function af(e){return sf(e,"+")}function lf(e){return sf(e,",")}function cf(e){return lf(e)}function uf(e){return sf(e,"!")}function ff(e){return "StringValue"===e.type||"ColorValue"===e.type||"NumberValue"===e.type||"Literal"===e.type||"Field"===e.type}function pf(e){return sf(e,":")||sf(e,"-")}function df(e,t){try{return Yu("string"==typeof e?Du(e,t&&t.value):e,t)}catch(t){throw t instanceof Mc&&"string"==typeof e&&(t.message+=`\n${e}\n${"-".repeat(t.pos)}^`),t}}const hf={mark:!0,preview:!0,autoRenameTags:!0,markTagPairs:!0,previewOpenTag:!1,attributeQuotes:"double",markupStyle:"html",comments:!1,commentsTemplate:"\x3c!-- /[#ID][.CLASS] --\x3e",bem:!1};function mf(e,t){return t||(t=e.getOption("emmet")),Object.assign(Object.assign({},hf),t)}const gf={xml:!1,allTokens:!1,special:{style:null,script:["","text/javascript","application/x-javascript","javascript","typescript","ts","coffee","coffeescript"]},empty:["img","meta","link","br","base","hr","area","wbr","col","embed","input","param","source","track"]},vf={throws:!1};function yf(e={}){return Object.assign(Object.assign({},gf),e)}function bf(e){return e.split("").map(e=>e.charCodeAt(0))}function wf(e,t){const n=e.pos;for(let r=0;r<t.length;r++)if(!e.eat(t[r]))return e.pos=n,!1;return e.start=n,!0}function xf(e,t,n,r){const i=e.pos;if(wf(e,t)){for(;!e.eof();){if(wf(e,n))return e.start=i,!0;e.pos++;}return r?(e.start=i,!0):(e.pos=i,!1)}return e.pos=i,!1}function kf(e){return vc(e)||58===e||95===e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191}function $f(e){return kf(e)||45===e||46===e||gc(e)||183===e||e>=768&&e<=879}function Sf(e){const t=e.pos;return !!e.eat(kf)&&(e.eatWhile($f),e.start=t,!0)}function Cf(e){return 62===e||47===e}function Mf(e){return !(isNaN(e)||$c(e)||xc(e)||Cf(e))}function Of(e){return Sc(e,60,62,vf)||Sc(e,40,41,vf)||Sc(e,91,93,vf)||Sc(e,123,125,vf)}function Tf(e,t){const n=[];let r=0,i=e.length;t&&(r=t.length+1,i-="/>"===e.slice(-2)?2:1);const o=new Cc(e,r,i);for(;!o.eof();)if(o.eatWhile(xc),_f(o)){const e={name:o.current(),nameStart:o.start,nameEnd:o.pos};o.eat(61)&&Af(o)&&(e.value=o.current(),e.valueStart=o.start,e.valueEnd=o.pos),n.push(e);}else o.pos++;return n}function _f(e){const t=e.pos;return e.eat(42)||e.eat(35)?(Sf(e),e.start=t,!0):Of(e)||Sf(e)}function Af(e){return kc(e,vf)||Of(e)||function(e){const t=e.pos;if(e.eatWhile(Mf))return e.start=t,!0}(e)}const Nf=bf("<![CDATA["),Ef=bf("]]>"),Lf=bf("\x3c!--"),Df=bf("--\x3e"),jf=bf("<?"),Pf=bf("?>"),If=bf("<%"),zf=bf("%>");function Rf(e,t,n){const r=new Cc(e),i=n?n.special:null,o=!!n&&n.allTokens;let s,a,l,c,u,f=!1,p=null;for(;!r.eof();){const n=r.pos;if(Wf(r)){if(o&&!1===t("#cdata",4,r.start,r.pos))break}else if(Hf(r)){if(o&&!1===t("#comment",6,r.start,r.pos))break}else if(qf(r)){if(o&&!1===t("#erb",7,r.start,r.pos))break}else if(p=Vf(r)){if(o&&!1===t(p,5,r.start,r.pos))break}else if(r.eat(60)){if(s=r.eat(47)?2:1,l=r.pos,Sf(r)&&(c=r.pos,2!==s&&(Ff(r),r.eatWhile(xc),r.eat(47)&&(s=3)),r.eat(62))){if(a=r.substring(l,c),!1===t(a,s,n,r.pos))break;if(1===s&&i&&Uf(i,a,e,n,r.pos)){for(u=bf(a),f=!1;!r.eof();){if(Bf(r,u)){f=!0;break}r.pos++;}if(f&&!1===t(a,2,r.start,r.pos))break}}}else r.pos++;}}function Ff(e){for(;!e.eof();)if(e.eatWhile(xc),_f(e))e.eat(61)&&Af(e);else {if(Cf(e.peek()))break;e.pos++;}}function Bf(e,t){const n=e.pos;return e.eat(60)&&e.eat(47)&&wf(e,t)&&e.eat(62)?(e.start=n,!0):(e.pos=n,!1)}function Wf(e){return xf(e,Nf,Ef,!0)}function Hf(e){return xf(e,Lf,Df,!0)}function Vf(e){const t=e.pos;if(wf(e,jf)&&Sf(e)){const n=e.current();for(;!e.eof()&&!wf(e,Pf);)kc(e)||e.pos++;return e.start=t,n}return e.pos=t,null}function qf(e){const t=e.pos;if(wf(e,If)){for(;!e.eof()&&!wf(e,zf);)kc(e)||e.pos++;return e.start=t,!0}return e.pos=t,!1}function Uf(e,t,n,r,i){if(t in e){const o=e[t];if(!Array.isArray(o))return !0;const s=Tf(n.substring(r+t.length+1,i-1));return o.includes(function(e,t){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t)return i.value&&($c((n=i.value).charCodeAt(0))&&(n=n.slice(1)),$c(n.charCodeAt(n.length-1))&&(n=n.slice(0,-1)),n)}var n;}(s,"type")||"")}return !1}function Kf(e,t,n,r){if(e.length){const i=e.pop();return i.name=t,i.start=n,i.end=r,i}return {name:t,start:n,end:r}}function Jf(e,t){e.push(t);}function Gf(e,t,n,r){const i=Tf(e.slice(t,n),r);return i.forEach(e=>{e.nameStart+=t,e.nameEnd+=t,null!=e.value&&(e.valueStart+=t,e.valueEnd+=t);}),i}function Yf(e,t){return !t.xml&&t.empty.includes(e)}function Xf(e){return e.length?e[e.length-1]:null}function Zf(e,t){const n=new Cc(e),r={start:-1,end:-1,propertyStart:-1,propertyEnd:-1,propertyDelimiter:-1,expression:0};let i;const o=(e,i=n.start,o=r.start,s=r.end)=>!1===t(e,o,s,i);for(;!n.eof();)if(!ep(n)&&!Qf(n))if(n.start=n.pos,(i=n.eat(125))||n.eat(59)){if(-1!==r.propertyStart){if(o("propertyName",r.propertyDelimiter,r.propertyStart,r.propertyEnd))return;if(-1===r.start&&(r.start=r.end=n.start),o("propertyValue"))return}else if(-1!==r.start&&o("propertyName"))return;if(i&&(r.start=n.start,r.end=n.pos,o("blockEnd")))return;np(r);}else if(n.eat(123)){if(-1===r.start&&-1===r.propertyStart&&(r.start=r.end=n.pos),-1!==r.propertyStart&&(r.start=r.propertyStart),o("selector"))return;np(r);}else n.eat(58)&&!rp(n,r)?(-1===r.propertyStart&&(r.propertyStart=r.start),r.propertyEnd=r.end,r.propertyDelimiter=n.pos-1,r.start=r.end=-1):(-1===r.start&&(r.start=n.pos),n.eat(40)?r.expression++:n.eat(41)?r.expression--:tp(n)||n.pos++,r.end=n.pos);-1!==r.propertyStart&&o("propertyName",r.propertyDelimiter,r.propertyStart,r.propertyEnd)||-1!==r.start&&o(-1!==r.propertyStart?"propertyValue":"propertyName",-1);}function Qf(e){return e.eatWhile(xc)}function ep(e){const t=e.pos;if(e.eat(47)&&e.eat(42)){for(e.start=t;!e.eof();)if(e.eat(42)){if(e.eat(47))return !0}else e.pos++;return !0}return e.pos=t,!1}function tp(e){const t=e.peek();if($c(t)){for(e.start=e.pos++;!e.eof()&&!(e.eat(t)||e.eat(10)||e.eat(13));)e.eat(92),e.pos++;return !0}}function np(e){e.start=e.end=e.propertyStart=e.propertyEnd=e.propertyDelimiter=-1;}function rp(e,t){return t.expression||e.eatWhile(58)}const ip=[43,47,42,44];function op(e,t=0){let n=-1,r=0,i=0;const o=[],s=new Cc(e);for(;!s.eof();)i=s.pos,s.eat(xc)||s.eat(sp)||ap(s)?(r||-1===n||(o.push([t+n,t+i]),n=-1),s.eatWhile(xc)):(-1===n&&(n=s.pos),s.eat(40)?r++:s.eat(41)?r--:tp(s)||s.pos++);return -1!==n&&n!==s.pos&&o.push([t+n,t+s.pos]),o}function sp(e){return ip.includes(e)}function ap(e){const t=e.pos;return !(!e.eat(45)||!e.eat(xc))||(e.pos=t,!1)}function lp(e,t){const n=[],r=[],i=[];let o=null;const s=(e,t,r)=>{if(n.length){const i=n.pop();return i.start=e,i.end=t,i.delimiter=r,i}return {start:e,end:t,delimiter:r,firstChild:null}},a=e=>{e.firstChild=null,n.push(e);},l=()=>{o&&(a(o),o=null);};return Zf(e,(n,c,u,f)=>{if("blockEnd"===n){l();let n=r.pop();if(!n)return;if(n.start<=t&&t<=u){let t=cp(e,n.delimiter+1,c);for(pp(i,[n.start,u]),t&&pp(i,t);n.firstChild;){const r=n.firstChild;t=cp(e,r.delimiter+1,r.end-1),pp(i,[r.start,r.end]),t&&pp(i,t),n=r;}return !1}{const e=dp(r);e&&!e.firstChild?(n.end=u,e.firstChild=n):a(n);}}else if("propertyName"===n)l(),o=s(c,u,f),((e,t,n)=>{const i=dp(r);i&&!i.firstChild&&(i.firstChild=s(e,t,n));})(c,u,f);else if("propertyValue"===n){if(o){if(o.start<=t&&u>=t)return pp(i,[o.start,f+1]),pp(i,[c,u]),l(),!1;const e=dp(r);e&&e.firstChild&&e.firstChild.start===o.start&&(e.firstChild.end=-1!==f?f+1:u),l();}}else r.push(s(c,u,f)),l();}),r.length=n.length=0,i}function cp(e,t,n){for(;t<n&&xc(e.charCodeAt(t));)t++;for(;n>t&&xc(e.charCodeAt(n-1));)n--;return t!==n?[t,n]:null}function up(e,t,n,r){if(e.length){const i=e.pop();return i[0]=t,i[1]=n,i[2]=r,i}return [t,n,r]}function fp(e,t){return t&&e.push(t),null}function pp(e,t){const n=e.length?e[e.length-1]:null;n&&n[0]===t[0]&&n[1]===t[1]||t[0]===t[1]||e.push(t);}function dp(e){return e.length?e[e.length-1]:null}function hp(e,t,n){if(e&&t){e.length&&n&&gp(e,n);for(const n of t)gp(e,n);return e}const r=e||t;return r&&r.slice()}function mp(e,t,n){return e.name=t.name,n.options["output.reverseAttributes"]||(e.value=t.value),e.implied||(e.implied=t.implied),e.boolean||(e.boolean=t.boolean),"expression"!==e.valueType&&(e.valueType=t.valueType),e}function gp(e,t){const n=e.length-1;"string"==typeof e[n]&&"string"==typeof t?e[n]+=t:e.push(t);}function vp(e){let t;for(;e.children.length;)t=e,e=e.children[e.children.length-1];return {parent:t,node:e}}function yp(e){return "AbbreviationNode"===e.type}function bp(e,t,n){let r=[];for(const n of e.children){const e=t(n);if(e){r=r.concat(e.children);const i=vp(e);yp(i.node)&&(i.node.children=i.node.children.concat(bp(n,t)));}else r.push(n),n.children=bp(n,t);}return e.children=r}function wp(e,t){e.selfClosing&&(t.selfClosing=!0),null!=e.value&&(t.value=e.value),e.repeat&&(t.repeat=e.repeat);}function xp(e,t=0){return {options:e,value:"",level:t,offset:0,line:0,column:0}}function kp(e,t){Ap(e,(0, e.options["output.text"])(t,e.offset,e.line,e.column));}function $p(e,t){const n=function(e){return e.split(/\r\n|\r|\n/g)}(t);for(let t=0,r=n.length-1;t<=r;t++)kp(e,n[t]),t!==r&&Sp(e,!0);}function Sp(e,t){const n=e.options["output.baseIndent"];kp(e,e.options["output.newline"]+n),e.line++,e.column=n.length,t&&function(e,t=e.level){const n=e.options["output.indent"];kp(e,n.repeat(Math.max(t,0)));}(e,!0===t?e.level:t);}function Cp(e,t,n){Ap(e,(0, e.options["output.field"])(t,n,e.offset,e.line,e.column));}function Mp(e,t){return Np(e,t.options["output.attributeCase"])}function Op(e,t,n){return "expression"===e.valueType?n?"{":"}":"single"===t.options["output.attributeQuotes"]?"'":'"'}function Tp(e,t){return e.boolean||t.options["output.booleanAttributes"].includes((e.name||"").toLowerCase())}function _p(e,t){return "string"==typeof e?t.options.inlineElements.includes(e.toLowerCase()):e.name?_p(e.name,t):Boolean(e.value&&!e.attributes)}function Ap(e,t){e.value+=t,e.offset+=t.length,e.column+=t.length;}function Np(e,t){return t?"upper"===t?e.toUpperCase():e.toLowerCase():e}const Ep={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function Lp(e,t,n){const r=function(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(yp(n))return n}}(t),i=n.context?n.context.name:"",o=((r?r.name:i)||"").toLowerCase();e.name=Ep[o]||(_p(o,n)?"span":"div");}const Dp={ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агентство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]},sp:{common:["mujer","uno","dolor","más","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","paño","suntuoso","molde","namibia","planeador","mirar","demás","oficinista","excepción","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cuórum","dignísimo","facilismo","letra","nihilista","expedición","alma","alveolar","aparte","león","animal","como","paria","belleza","modo","natividad","justo","ataque","séquito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunción","incidente","marejada","placenta","amanecer","fuga","previsor","presentación","lejos","necesariamente","sospechoso","adiposidad","quindío","pócima","voluble","débito","sintió","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mínima","mayores","repugnante","dulce","obcecado","montaña","enigma","total","deletéreo","décima","cábala","fotografía","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnífico","distinción","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepúsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abadía","analfabeto","remo","fugacidad","oficio","en","almácigo","vos","pan","represión","números","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrón","explícito","paloma","síndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apéndice","arquitecto","columna","yugo","computador","mula","a","propósito","fantasía","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},latin:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]}},jp=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function Pp(e,t){return Math.floor(Math.random()*(t-e)+e)}function Ip(e,t){const n=e.length,r=Math.min(n,t),i=[];for(;i.length<r;){const t=e[Pp(0,n)];i.includes(t)||i.push(t);}return i}function zp(e,t){var n,r;return e.length&&(e=[(n=e[0],n[0].toUpperCase()+n.slice(1))].concat(e.slice(1))),e.join(" ")+(t||(r="?!...")[Pp(0,r.length-1)])}function Rp(e){if(e.length<2)return e;const t=(e=e.slice()).length,n=/,$/;let r=0;r=t>3&&t<=6?Pp(0,1):t>6&&t<=12?Pp(0,2):Pp(1,4);for(let i,o=0;o<r;o++)i=Pp(0,t-2),n.test(e[i])||(e[i]+=",");return e}function Fp(e,t,n){const r=[];let i,o=0;for(n&&e.common&&(i=e.common.slice(0,t),o+=i.length,r.push(zp(Rp(i),".")));o<t;)i=Ip(e.words,Math.min(Pp(2,30),t-o)),o+=i.length,r.push(zp(Rp(i)));return r.join(" ")}function Bp(e){"class"===e.name?e.name="className":"for"===e.name&&(e.name="htmlFor");}function Wp(e){return "select"!==e.name}const Hp=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Vp=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,qp=e=>/^[a-z]\-/i.test(e),Up=e=>/^[a-z]/i.test(e);function Kp(e,t,n){!function(e){const t=Jp(e),n=[];for(const e of t.classNames){const t=e.indexOf("_");t>0&&!e.startsWith("-")?(n.push(e.slice(0,t)),n.push(e.slice(t))):n.push(e);}n.length&&(t.classNames=n.filter(td),t.block=Xp(t.classNames),Qp(e,t.classNames.join(" ")));}(e),function(e,t,n){const r=Jp(e),i=[],{options:o}=n,s=t.slice(1).concat(e);for(let e of r.classNames){let t,r="";const a=e;(t=e.match(Hp))&&(r=Yp(s,t[1].length,n.context)+o["bem.element"]+t[2],i.push(r),e=e.slice(t[0].length)),(t=e.match(Vp))&&(r||(r=Yp(s,t[1].length),i.push(r)),i.push(`${r}${o["bem.modifier"]}${t[2]}`),e=e.slice(t[0].length)),e===a&&i.push(a);}const a=i.filter(td);a.length&&Qp(e,a.join(" "));}(e,t,n);}function Jp(e){if(!e._bem){let t="";if(e.attributes)for(const n of e.attributes)if("class"===n.name&&n.value){t=ed(n.value);break}e._bem=Gp(t);}return e._bem}function Gp(e){const t=e?e.split(/\s+/):[];return {classNames:t,block:Xp(t)}}function Yp(e,t=0,n){let r=Math.max(e.length-t,0);do{const t=e[r];if(t){const e=Jp(t);if(e.block)return e.block}}while(0<r--);if(n){const e=function(e){return e._bem||(e._bem=Gp(e.attributes&&e.attributes.class||"")),e._bem}(n);if(e.block)return e.block}return ""}function Xp(e){return Zp(e,qp)||Zp(e,Up)||void 0}function Zp(e,t){for(const n of e){if(Hp.test(n)||Vp.test(n))break;if(t(n))return n}}function Qp(e,t){for(const n of e.attributes)if("class"===n.name){n.value=[t];break}}function ed(e){let t="";for(const n of e)t+="string"==typeof n?n:n.name;return t}function td(e,t,n){return !!e&&n.indexOf(e)===t}function nd(e,t,n){const r=(e,r,o)=>{const{parent:s,current:a}=n;n.parent=a,n.current=e,t(e,r,o,n,i),n.current=a,n.parent=s;},i=(e,t,i)=>{n.ancestors.push(n.current),r(e,t,i),n.ancestors.pop();};e.children.forEach(r);}function rd(e){return {current:null,parent:void 0,ancestors:[],config:e,field:1,out:xp(e.options)}}const id=[{type:"Field",index:0,name:""}];function od(e){return !!e&&(!e.name&&!e.attributes)}function sd(e,t){return !!e&&_p(e,t)}function ad(e){return "object"==typeof e&&"Field"===e.type}function ld(e,t){const{out:n}=t;let r=-1;for(const i of e)"string"==typeof i?$p(n,i):(Cp(n,t.field+i.index,i.name),i.index>r&&(r=i.index));-1!==r&&(t.field+=r+1);}function cd(e){return !e.implied||"raw"!==e.valueType||!!e.value&&e.value.length>0}function ud(e){const t=[],n={pos:0,text:e};let r,i=n.pos,o=n.pos;for(;n.pos<n.text.length;)o=n.pos,(r=fd(n))?(i!==n.pos&&t.push(e.slice(i,o)),t.push(r),i=n.pos):n.pos++;return i!==n.pos&&t.push(e.slice(i)),t}function fd(e){if(91===pd(e)){const t=++e.pos;let n=t,r=t,i=1;for(;e.pos<e.text.length;){const o=pd(e);if(dd(o)){for(n=e.pos;hd(pd(e));)e.pos++;r=e.pos;}else {if(91===o)i++;else if(93===o&&0==--i)return {before:e.text.slice(t,n),after:e.text.slice(r,e.pos++),name:e.text.slice(n,r)};e.pos++;}}}}function pd(e,t=e.pos){return e.text.charCodeAt(t)}function dd(e){return e>=65&&e<=90}function hd(e){return dd(e)||e>47&&e<58||95===e||45===e}function md(e,t){const{comment:n}=t;if(!(n.enabled&&n.trigger&&e.name&&e.attributes))return !1;for(const t of e.attributes)if(t.name&&n.trigger.includes(t.name))return !0;return !1}function gd(e,t,n){const r={},{out:i}=n;for(const t of e.attributes)t.name&&t.value&&(r[t.name.toUpperCase()]=t.value);for(const e of t)"string"==typeof e?$p(i,e):r[e.name]&&($p(i,e.before),ld(r[e.name],n),$p(i,e.after));}function vd(e,t){const n=rd(t);return n.comment=function(e){const{options:t}=e;return {enabled:t["comment.enabled"],trigger:t["comment.trigger"],before:t["comment.before"]?ud(t["comment.before"]):void 0,after:t["comment.after"]?ud(t["comment.after"]):void 0}}(t),nd(e,yd,n),n.out.value}function yd(e,t,n,r,i){const{out:o,config:s}=r,a=function e(t,n,r,i){const{config:o,parent:s}=i;if(!o.options["output.format"])return !1;if(0===n&&!s)return !1;if(s&&od(s)&&1===r.length)return !1;if(od(t)){if(od(r[n-1])||od(r[n+1])||t.value.some(xd)||t.value.some(ad)&&t.children.length)return !0}if(_p(t,o)){if(0===n){for(let e=0;e<r.length;e++)if(!_p(r[e],o))return !0}else if(!_p(r[n-1],o))return !0;if(o.options["output.inlineBreak"]){let e=1,t=n,i=n;for(;sd(r[--t],o);)e++;for(;sd(r[++i],o);)e++;if(e>=o.options["output.inlineBreak"])return !0}for(let n=0,r=t.children.length;n<r;n++)if(e(t.children[n],n,t.children,i))return !0;return !1}return !0}(e,t,n,r),l=function(e){const{config:t,parent:n}=e;if(!n||od(n)||n.name&&t.options["output.formatSkip"].includes(n.name))return 0;return 1}(r);if(o.level+=l,a&&Sp(o,!0),e.name){const t=function(e,t){return Np(e,t.options["output.tagCase"])}(e.name,s);if(function(e,t){md(e,t)&&t.comment.before&&gd(e,t.comment.before,t);}(e,r),$p(o,"<"+t),e.attributes)for(const t of e.attributes)cd(t)&&bd(t,r);if(!e.selfClosing||e.children.length||e.value){if($p(o,">"),!wd(e,r,i)){if(e.value){const t=e.value.some(xd);t&&Sp(r.out,++o.level),ld(e.value,r),t&&Sp(r.out,--o.level);}if(e.children.forEach(i),!e.value&&!e.children.length){const t=s.options["output.formatLeafNode"]||s.options["output.formatForce"].includes(e.name);t&&Sp(r.out,++o.level),ld(id,r),t&&Sp(r.out,--o.level);}}$p(o,`</${t}>`),function(e,t){md(e,t)&&t.comment.after&&gd(e,t.comment.after,t);}(e,r);}else $p(o,function(e){switch(e.options["output.selfClosingStyle"]){case"xhtml":return " /";case"xml":return "/";default:return ""}}(s)+">");}else !wd(e,r,i)&&e.value&&(ld(e.value,r),e.children.forEach(i));if(a&&t===n.length-1&&r.parent){const e=od(r.parent)?0:1;Sp(o,o.level-e);}o.level-=l;}function bd(e,t){const{out:n,config:r}=t;if(e.name){const i=Mp(e.name,r),o=Op(e,r,!0),s=Op(e,r);let a=e.value;Tp(e,r)&&!a?r.options["output.compactBoolean"]||(a=[i]):a||(a=id),$p(n," "+i),a?($p(n,"="+o),ld(a,t),$p(n,s)):"html"!==r.options["output.selfClosingStyle"]&&$p(n,"="+o+s);}}function wd(e,t,n){if(e.value&&e.children.length){const r=e.value.findIndex(ad);if(-1!==r){ld(e.value.slice(0,r),t);const i=t.out.line;let o=r+1;return e.children.forEach(n),t.out.line!==i&&"string"==typeof e.value[o]&&$p(t.out,e.value[o++].trimLeft()),ld(e.value.slice(o),t),!0}}return !1}function xd(e){return "string"==typeof e&&/\r|\n/.test(e)}function kd(e,t,n){const r=rd(t);return r.options=n||{},nd(e,$d,r),r.out.value}function $d(e,t,n,r,i){const{out:o,options:s}=r,{primary:a,secondary:l}=function(e){const t=[],n=[];if(e.attributes)for(const r of e.attributes)Sd(r)?t.push(r):n.push(r);return {primary:t,secondary:n}}(e),c=r.parent?1:0;o.level+=c,function(e,t,n,r){if(!r.parent&&0===t)return !1;return !od(e)}(e,t,0,r)&&Sp(o,!0),!e.name||"div"===e.name&&a.length||$p(o,(s.beforeName||"")+e.name+(s.afterName||"")),function(e,t){for(const n of e)if(n.value)if("class"===n.name){$p(t.out,".");ld(n.value.map(e=>"string"==typeof e?e.replace(/\s+/g,"."):e),t);}else $p(t.out,"#"),ld(n.value,t);}(a,r),function(e,t){if(e.length){const{out:n,config:r,options:i}=t;i.beforeAttribute&&$p(n,i.beforeAttribute);for(let o=0;o<e.length;o++){const s=e[o];$p(n,Mp(s.name||"",r)),Tp(s,r)&&!s.value?!r.options["output.compactBoolean"]&&i.booleanValue&&$p(n,"="+i.booleanValue):($p(n,"="+Op(s,r,!0)),ld(s.value||id,t),$p(n,Op(s,r))),o!==e.length-1&&i.glueAttribute&&$p(n,i.glueAttribute);}i.afterAttribute&&$p(n,i.afterAttribute);}}(l.filter(cd),r),!e.selfClosing||e.value||e.children.length?(!function(e,t){if(!e.value&&e.children.length)return;const n=e.value||id,r=function(e){const t=[];let n=[];for(const r of e)if("string"==typeof r){const e=r.split(/\r\n?|\n/g);for(n.push(e.shift()||"");e.length;)t.push(n),n=[e.shift()||""];}else n.push(r);return n.length&&t.push(n),t}(n),{out:i,options:o}=t;if(1===r.length)(e.name||e.attributes)&&kp(i," "),ld(n,t);else {const e=[];let n=0;for(const t of r){const r=Cd(t);e.push(r),r>n&&(n=r);}i.level++;for(let s=0;s<r.length;s++)Sp(i,!0),o.beforeTextLine&&kp(i,o.beforeTextLine),ld(r[s],t),o.afterTextLine&&(kp(i," ".repeat(n-e[s])),kp(i,o.afterTextLine));i.level--;}}(e,r),e.children.forEach(i)):r.options.selfClose&&$p(o,r.options.selfClose),o.level-=c;}function Sd(e){return "class"===e.name||"id"===e.name}function Cd(e){let t=0;for(const n of e)t+="string"==typeof n?n.length:n.name.length;return t}const Md={html:vd,haml:function(e,t){return kd(e,t,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})},slim:function(e,t){return kd(e,t,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})},pug:function(e,t){return kd(e,t,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:"xml"===t.options["output.selfClosingStyle"]?"/":""})}};function Od(e,t){if("string"==typeof e){let n=t;t.options["jsx.enabled"]&&(n=Object.assign(Object.assign({},n),{jsx:!0})),e=Lu(e,n);}return function(e,t,n){const r=[e],i=e=>{t(e,r,n),r.push(e),e.children.forEach(i),r.pop();};e.children.forEach(i);}(e=function(e,t){const n=[],r=t.options["output.reverseAttributes"],i=e=>{const o=e.name&&t.snippets[e.name];if(!o||n.includes(o))return null;const s=Lu(o,t);n.push(o),bp(s,i),n.pop();for(const t of s.children){if(e.attributes){const n=t.attributes||[],i=e.attributes||[];t.attributes=r?i.concat(n):n.concat(i);}wp(e,t);}return s};return bp(e,i),e}(e,t),Td,t),e}function Td(e,t,n){!function(e,t,n){!e.name&&e.attributes&&Lp(e,t,n);}(e,t,n),function(e,t){if(!e.attributes)return;const n=[],r={};for(const i of e.attributes)if(i.name){const e=i.name;if(e in r){const n=r[e];"class"===e?n.value=hp(n.value,i.value," "):mp(n,i,t);}else n.push(r[e]=Object.assign({},i));}else n.push(i);e.attributes=n;}(e,n),function(e,t,n){let r;if(e.name&&(r=e.name.match(jp))){const i=Dp[r[1]]||Dp.latin,o=r[2]?Math.max(1,Number(r[2])):30,s=Pp(o,r[3]?Math.max(o,Number(r[3].slice(1))):o),a=e.repeat||function(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if("AbbreviationNode"===n.type&&n.repeat)return n.repeat}}(t);e.name=e.attributes=void 0,e.value=[Fp(i,s,!a||0===a.value)],e.repeat&&t.length>1&&Lp(e,t,n);}}(e,t,n),"xsl"===n.syntax&&function(e){var t;"xsl:variable"!==(t=e.name)&&"xsl:with-param"!==t||!e.attributes||!e.children.length&&!e.value||(e.attributes=e.attributes.filter(Wp));}(e),n.options["jsx.enabled"]&&function(e){e.attributes&&e.attributes.forEach(Bp);}(e),n.options["bem.enabled"]&&Kp(e,t,n);}const _d=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,Ad={value:!0};function Nd(e,t){const n=t.match(_d);if(n){const t={},r=n[2]?n[2].split("|").map(Ld):[];for(const e of r)for(const n of e)jd(n,t);return {type:"Property",key:e,property:n[1],value:r,keywords:t,dependencies:[]}}return {type:"Raw",key:e,value:t}}function Ed(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function Ld(e){return df(e.trim(),Ad)[0].value}function Dd(e){return "Property"===e.type}function jd(e,t){for(const n of e.value)if("Literal"===n.type)t[n.value]=n;else if("FunctionCall"===n.type)t[n.name]=n;else if("Field"===n.type){const e=n.name.trim();e&&(t[e]={type:"Literal",value:e});}}function Pd(e,t,n=!1){if((e=e.toLowerCase())===(t=t.toLowerCase()))return 1;if(!e||!t||e.charCodeAt(0)!==t.charCodeAt(0))return 0;const r=e.length,i=t.length;if(!n&&r>i)return 0;const o=Math.min(r,i),s=Math.max(r,i);let a=1,l=1,c=s,u=0,f=0,p=!1,d=!1;for(;a<r;){for(u=e.charCodeAt(a),p=!1,d=!1;l<i;){if(f=t.charCodeAt(l),u===f){p=!0,c+=s-(d?a:l);break}d=45===f,l++;}if(!p){if(!n)return 0;break}a++;}const h=s-o;return c*(a/s)/(Id(s)-Id(h))}function Id(e){return e*(e+1)/2}function zd(e,t){return e.r||e.g||e.b||e.a?1===e.a?function(e,t){const n=t&&Fd(e.r)&&Fd(e.g)&&Fd(e.b)?Bd:Wd;return "#"+n(e.r)+n(e.g)+n(e.b)}(e,t):function(e){const t=[e.r,e.g,e.b];1!==e.a&&t.push(Rd(e.a,8));return `${3===t.length?"rgb":"rgba"}(${t.join(", ")})`}(e):"transparent"}function Rd(e,t=4){return e.toFixed(t).replace(/\.?0+$/,"")}function Fd(e){return !(e%17)}function Bd(e){return (e>>4).toString(16)}function Wd(e){return function(e,t){for(;e.length<t;)e="0"+e;return e}(e.toString(16),2)}function Hd(e,t,n){const r=n.options["stylesheet.json"];if(e.name){$p(t,(r?e.name.replace(/\-(\w)/g,(e,t)=>t.toUpperCase()):e.name)+n.options["stylesheet.between"]),e.value.length?function(e,t,n){const r=n.options["stylesheet.json"],i=r?function(e){if(1===e.value.length){const t=e.value[0];if(1===t.value.length&&"NumberValue"===t.value[0].type)return t.value[0]}}(e):null;if(!i||i.unit&&"px"!==i.unit){const i=function(e){return e.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}(n);r&&kp(t,i);for(let r=0;r<e.value.length;r++)0!==r&&kp(t,", "),qd(e.value[r],t,n);r&&kp(t,i);}else kp(t,String(i.value));}(e,t,n):Cp(t,0,""),r?kp(t,","):(Vd(e,t,!0),kp(t,n.options["stylesheet.after"]));}else {for(const r of e.value)for(const e of r.value)Ud(e,t,n);Vd(e,t,e.value.length>0);}}function Vd(e,t,n){e.important&&(n&&kp(t," "),kp(t,"!important"));}function qd(e,t,n){for(let r=0,i=-1;r<e.value.length;r++){const o=e.value[r];0===r||"Field"===o.type&&o.start===i||kp(t," "),Ud(o,t,n),i=o.end;}}function Ud(e,t,n){if("ColorValue"===e.type)kp(t,zd(e,n.options["stylesheet.shortHex"]));else if("Literal"===e.type)$p(t,e.value);else if("NumberValue"===e.type)$p(t,Rd(e.value,4)+e.unit);else if("StringValue"===e.type){const n="double"===e.quote?'"':"'";$p(t,n+e.value+n);}else if("Field"===e.type)Cp(t,e.index,e.name);else if("FunctionCall"===e.type){kp(t,e.name+"(");for(let r=0;r<e.arguments.length;r++)r&&kp(t,", "),qd(e.arguments[r],t,n);kp(t,")");}}function Kd(e,t){var n;const r=(null===(n=t.cache)||void 0===n?void 0:n.stylesheetSnippets)||function(e){const t=[];for(const n of Object.keys(e))t.push(Nd(n,e[n]));return function(e){e=e.slice().sort(Ed);const t=[];let n;for(const r of e.filter(Dd)){for(;t.length;){if(n=t[t.length-1],r.property.startsWith(n.property)&&45===r.property.charCodeAt(n.property.length)){n.dependencies.push(r),t.push(r);break}t.pop();}t.length||t.push(r);}return e}(t)}(t.snippets);t.cache&&(t.cache.stylesheetSnippets=r),"string"==typeof e&&(e=df(e,{value:rh(t)}));const i=function(e,t){if(t.context){if("@@section"===t.context.name)return e.filter(e=>"Raw"===e.type);if("@@property"===t.context.name)return e.filter(e=>"Property"===e.type)}return e}(r,t);for(const n of e)Jd(n,i,t);return e}function Jd(e,t,n){if(!function(e,t){let n=null;const r=1===e.value.length?e.value[0]:null;if(r&&1===r.value.length){const e=r.value[0];"FunctionCall"===e.type&&"lg"===e.name&&(n=e);}if(n||"lg"===e.name)return n=n?Object.assign(Object.assign({},n),{name:"linear-gradient"}):{type:"FunctionCall",name:"linear-gradient",arguments:[Qd(th(0,""))]},t.context||(e.name="background-image"),e.value=[Qd(n)],!0;return !1}(e,n)){const r=n.options["stylesheet.fuzzySearchMinScore"];if(rh(n)){const i=n.context.name;Gd(e,n,t.find(e=>"Property"===e.type&&e.property===i),r);}else if(e.name){const i=Yd(e.name,t,r,!0);i&&("Property"===i.type?function(e,t,n){const r=function(e,t){for(let n=0,r=0;n<e.length;n++){if(r=t.indexOf(e[n],r),-1===r)return e.slice(n);r++;}return ""}(e.name,t.key);if(r){if(e.value.length)return e;const i=Zd(r,n,t);if(!i)return e;e.value.push(Qd(i));}if(e.name=t.property,e.value.length)Gd(e,n,t);else if(t.value.length){const r=t.value[0];e.value=1===t.value.length||r.some(nh)?r:r.map(e=>function e(t,n,r={index:1}){let i=[];for(const o of t.value)switch(o.type){case"ColorValue":i.push(th(r.index++,zd(o,n.options["stylesheet.shortHex"])));break;case"Literal":i.push(th(r.index++,o.value));break;case"NumberValue":i.push(th(r.index++,`${o.value}${o.unit}`));break;case"StringValue":const t="single"===o.quote?"'":'"';i.push(th(r.index++,t+o.value+t));break;case"FunctionCall":i.push(th(r.index++,o.name),eh("("));for(let t=0,s=o.arguments.length;t<s;t++)i=i.concat(e(o.arguments[t],n,r).value),t!==s-1&&i.push(eh(", "));i.push(eh(")"));break;default:i.push(o);}return Object.assign(Object.assign({},t),{value:i})}(e,n));}}(e,i,n):function(e,t){let n,r=0;const i=/\$\{(\d+)(:[^}]+)?\}/g,o=e.value[0],s=[];for(;n=i.exec(t.value);)r!==n.index&&s.push(eh(t.value.slice(r,n.index))),r=n.index+n[0].length,o&&o.value.length?s.push(o.value.shift()):s.push(th(Number(n[1]),n[2]?n[2].slice(1):""));const a=t.value.slice(r);a&&s.push(eh(a));e.name=void 0,e.value=[Qd(...s)];}(e,i));}}return (e.name||n.context)&&function(e,t){const n=t.options["stylesheet.unitAliases"],r=t.options["stylesheet.unitless"];for(const i of e.value)for(const o of i.value)"NumberValue"===o.type&&(o.unit?o.unit=n[o.unit]||o.unit:0===o.value||r.includes(e.name)||(o.unit=o.rawValue.includes(".")?t.options["stylesheet.floatUnit"]:t.options["stylesheet.intUnit"]));}(e,n),e}function Gd(e,t,n,r){for(const i of e.value){const e=[];for(const o of i.value)if("Literal"===o.type)e.push(Zd(o.value,t,n,r)||o);else if("FunctionCall"===o.type){const i=Zd(o.name,t,n,r);i&&"FunctionCall"===i.type?e.push(Object.assign(Object.assign({},i),{arguments:o.arguments.concat(i.arguments.slice(o.arguments.length))})):e.push(o);}else e.push(o);i.value=e;}}function Yd(e,t,n=0,r=!1){let i=null,o=0;for(const n of t){const t=Pd(e,Xd(n),r);if(1===t)return n;t&&t>=o&&(o=t,i=n);}return o>=n?i:null}function Xd(e){return "string"==typeof e?e:e.key}function Zd(e,t,n,r){let i;if(n){if(i=Yd(e,Object.keys(n.keywords),r))return n.keywords[i];for(const t of n.dependencies)if(i=Yd(e,Object.keys(t.keywords),r))return t.keywords[i]}return (i=Yd(e,t.options["stylesheet.keywords"],r))?eh(i):null}function Qd(...e){return {type:"CSSValue",value:e}}function eh(e){return {type:"Literal",value:e}}function th(e,t){return {type:"Field",index:e,name:t}}function nh(e){for(const t of e.value)if("Field"===t.type||"FunctionCall"===t.type&&t.arguments.some(nh))return !0;return !1}function rh(e){return !!e.context&&("@@value"===e.context.name||!e.context.name.startsWith("@@"))}const ih={markup:"html",stylesheet:"css"},oh={type:"markup",syntax:"html",variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"},snippets:{},options:{inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"\t","output.baseIndent":"","output.newline":"\n","output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(e,t)=>t,"output.text":e=>e,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":"\n\x3c!-- /[#ID][.CLASS] --\x3e","bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0}},sh={markup:{snippets:ah({a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{\x3c!-- ${0} --\x3e}","cc:ie":"{\x3c!--[if IE]>${0}<![endif]--\x3e}","cc:noie":"{\x3c!--[if !IE]>\x3c!--\x3e${0}\x3c!--<![endif]--\x3e}"})},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:ah({"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}","!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'}),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0}},pug:{snippets:ah({"!!!":"{doctype html}"})},stylesheet:{snippets:ah({"@f":"@font-face {\n\tfont-family: ${1};\n\tsrc: url(${1});\n}","@ff":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n\t${2}\n}","@m|@media":"@media ${1:screen} {\n\t${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:grid|inline-grid|subgrid|block|none|flex|inline-flex|inline|inline-block|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",gtc:"grid-template-columns:repeat()|minmax()",gtr:"grid-template-rows:repeat()|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick",op:"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"})},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function ah(e){const t={};return Object.keys(e).forEach(n=>{for(const r of n.split("|"))t[r]=e[n];}),t}function lh(e={},t={}){const n=e.type||"markup",r=e.syntax||ih[n];return Object.assign(Object.assign(Object.assign({},oh),e),{type:n,syntax:r,variables:ch(n,r,"variables",e,t),snippets:ch(n,r,"snippets",e,t),options:ch(n,r,"options",e,t)})}function ch(e,t,n,r,i={}){const o=sh[e],s=i[e],a=sh[t],l=i[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oh[n]),o&&o[n]),a&&a[n]),s&&s[n]),l&&l[n]),r[n])}function uh(e,t=0){return {text:e,start:t,pos:e.length}}function fh(e){return e.pos===e.start}function ph(e,t=0){return e.text.charCodeAt(e.pos-1+t)}function dh(e){if(!fh(e))return e.text.charCodeAt(--e.pos)}function hh(e,t){if(fh(e))return !1;const n="function"==typeof t?t(ph(e)):t===ph(e);return n&&e.pos--,!!n}function mh(e,t){const n=e.pos;for(;hh(e,t););return e.pos<n}function gh(e){return 39===e||34===e}const vh={91:93,40:41,123:125};function yh(e){const t=e.pos;if(!hh(e,62))return !1;let n=!1;for(hh(e,47);!fh(e);){if(mh(e,$h),xh(e)){if(hh(e,47)){n=hh(e,60);break}if(hh(e,60)){n=!0;break}if(hh(e,$h))continue;if(hh(e,61)){if(xh(e))continue;break}if(wh(e)){n=!0;break}break}if(!bh(e))break}return e.pos=t,n}function bh(e){return function(e){const t=e.pos;if(function(e){const t=e.pos,n=dh(e);if(gh(n))for(;!fh(e);)if(dh(e)===n&&92!==ph(e))return !0;return e.pos=t,!1}(e)&&hh(e,61)&&xh(e))return !0;return e.pos=t,!1}(e)||wh(e)}function wh(e){const t=e.pos,n=[];for(;!fh(e);){const t=ph(e);if(Mh(t))n.push(t);else if(Ch(t)){if(n.pop()!==vh[t])break}else if(!Sh(t))break;e.pos--;}return !(t===e.pos||!hh(e,61)||!xh(e))||(e.pos=t,!1)}function xh(e){return mh(e,kh)}function kh(e){return 58===e||45===e||function(e){return (e&=-33)>=65&&e<=90}(e)||function(e){return e>47&&e<58}(e)}function $h(e){return 32===e||9===e}function Sh(e){return !isNaN(e)&&61!==e&&!$h(e)&&!gh(e)}function Ch(e){return 123===e||40===e||91===e}function Mh(e){return 125===e||41===e||93===e}const Oh=e=>e.charCodeAt(0),Th="#.*:$-_!@%^+>/".split("").map(Oh),_h={type:"markup",lookAhead:!0,prefix:""};function Ah(e,t=e.length,n={}){const r=Object.assign(Object.assign({},_h),n);let i;t=Math.min(e.length,Math.max(0,null==t?e.length:t)),r.lookAhead&&(t=function(e,t,n){gh(e.charCodeAt(t))&&t++;for(;jh(e.charCodeAt(t),n.type);)t++;return t}(e,t,r));const o=function(e,t,n){if(!n)return 0;const r=uh(e),i=n.split("").map(Oh);let o;r.pos=t;for(;!fh(r);)if(!Nh(r,93,91)&&!Nh(r,125,123)){if(o=r.pos,Eh(r,i))return o;r.pos--;}return -1}(e,t,r.prefix||"");if(-1===o)return;const s=uh(e,o);s.pos=t;const a=[];for(;!fh(s);){if(i=ph(s),a.includes(125)){if(125===i){a.push(i),s.pos--;continue}if(123!==i){s.pos--;continue}}if(jh(i,r.type))a.push(i);else if(Dh(i,r.type)){if(a.pop()!==vh[i])break}else {if(a.includes(93)||a.includes(125)){s.pos--;continue}if(yh(s)||!Lh(i))break}s.pos--;}if(!a.length&&s.pos!==t){const r=e.slice(s.pos,t).replace(/^[*+>^]+/,"");return {abbreviation:r,location:t-r.length,start:n.prefix?o-n.prefix.length:t-r.length,end:t}}}function Nh(e,t,n){const r=e.pos;if(hh(e,t))for(;!fh(e);){if(hh(e,n))return !0;e.pos--;}return e.pos=r,!1}function Eh(e,t){const n=e.pos;let r=!1;for(let n=t.length-1;n>=0&&!fh(e)&&hh(e,t[n]);n--)r=0===n;return r||(e.pos=n),r}function Lh(e){return e>64&&e<91||e>96&&e<123||e>47&&e<58||Th.includes(e)}function Dh(e,t){return 40===e||"markup"===t&&(91===e||123===e)}function jh(e,t){return 41===e||"markup"===t&&(93===e||125===e)}function Ph(e,t){const n=lh(t);return "stylesheet"===n.type?function(e,t){return function(e,t){const n=xp(t.options),r=t.options["output.format"];for(let i=0;i<e.length;i++)r&&0!==i&&Sp(n,!0),Hd(e[i],n,t);return n.value}(Kd(e,t),t)}(e,n):function(e,t){return function(e,t){return (Md[t.syntax]||vd)(e,t)}(Od(e,t),t)}(e,n)}const Ih={"{":"}","[":"]","(":")"},zh=[];for(const e of Object.keys(Ih))zh.push(Ih[e]);function Rh(e){return 32===e||9===e||160===e||10===e||13===e}function Fh(e,t){const n=e[e.length-1];!t||t[0]===t[1]||n&&n[0]===t[0]&&n[1]===t[1]||e.push(t);}function Bh(e,t=0){const n=[],r=e.length;let i=0,o=0,s=0;for(;i<r;){s=i;if(Rh(e.charCodeAt(i++))){for(o!==s&&n.push([t+o,t+s]);Rh(e.charCodeAt(i));)i++;o=i;}}return o!==i&&n.push([t+o,t+i]),n}function Wh(e){return '"'===e||"'"===e}function Hh(e){const{value:t}=e;return t&&function(e){return !!e&&(t=e,t.length>1&&Wh(t[0])&&t[0]===t.slice(-1)||function(e){return "{"===e[0]&&"}"===e.slice(-1)}(e));var t;}(t)?t.slice(1,-1):t}function Vh(e){return e.length>0?e[e.length-1]:void 0}function qh(e,t){const n=yf(t),r=[],i=[];return Rf(e,(e,t,n,o)=>{if(3===t)i.push({name:e,open:[n,o]});else if(1===t){const t={name:e,open:[n,o]};r.push(t),i.push(t);}else for(;r.length;){const t=r.pop();if(t.name===e){t.close=[n,o];break}}},n),i}function Uh(e,t,n){return n?function(e,t){let n=null,r="",i=-1,o=-1;if(Rf(e,(e,s,a,l)=>{if(a>=t)return !1;1!==s&&3!==s||(r=e,n=s,i=a,o=l);}),null!==n)return Kh(e,r,i,o)}(e,t):function(e,t){let n=void 0;return Rf(e,(r,i,o,s)=>{if((1===i||3===i)&&s>t)return n=Kh(e,r,o,s),!1}),n}(e,t)}function Kh(e,t,n,r){const i=[[n+1,n+1+t.length]],o=e.slice(n,r);for(const e of Tf(o,t))if(null!=e.value){Fh(i,[n+e.nameStart,n+e.valueEnd]);const t=Jh(e);if(t[0]!==t[1]&&(Fh(i,[n+t[0],n+t[1]]),"class"===e.name)){const e=Bh(o.slice(t[0],t[1]),n+t[0]);for(const t of e)Fh(i,t);}}else Fh(i,[n+e.nameStart,n+e.nameEnd]);return {start:n,end:r,ranges:i}}function Jh(e){const t=e.value,n=t[0],r=t[t.length-1];return '"'===n||"'"===n?[e.valueStart+1,e.valueEnd-(r===n?1:0)]:"{"===n&&"}"===r?[e.valueStart+1,e.valueEnd-1]:[e.valueStart,e.valueEnd]}function Gh(e,t,n){return n?function(e,t){const n={type:null,start:-1,end:-1,valueStart:-1,valueEnd:-1,valueDelimiter:-1};if(Zf(e,(e,r,i,o)=>{if(r>=t&&"propertyValue"!==e)return !1;"selector"===e||"propertyName"===e?(n.start=r,n.end=i,n.type=e,n.valueStart=n.valueEnd=n.valueDelimiter=-1):"propertyValue"===e&&(n.valueStart=r,n.valueEnd=i,n.valueDelimiter=o);}),"selector"===n.type)return {start:n.start,end:n.end,ranges:[[n.start,n.end]]};if("propertyName"===n.type){const t={start:n.start,end:n.end,ranges:[]};if(-1!==n.valueStart){t.end=-1!==n.valueDelimiter?n.valueDelimiter+1:n.valueEnd,Fh(t.ranges,[n.start,t.end]),Fh(t.ranges,[n.valueStart,n.valueEnd]);for(const r of op(e.substring(n.valueStart,n.valueEnd)))Fh(t.ranges,[r[0]+n.valueStart,r[1]+n.valueStart]);}else Fh(t.ranges,[n.start,n.end]);return t}}(e,t):function(e,t){let n=void 0,r=void 0;return Zf(e,(i,o,s,a)=>{if(!(o<t)){if("selector"===i)return n={start:o,end:s,ranges:[[o,s]]},!1;if("propertyName"===i)r=[o,s,a];else {if("propertyValue"===i){n={start:o,end:-1!==a?a+1:s,ranges:[]},r&&(n.start=r[0],Fh(n.ranges,[r[0],n.end])),Fh(n.ranges,[o,s]);for(const t of op(e.substring(o,s)))Fh(n.ranges,[t[0]+o,t[1]+o]);return !1}if(r)return n={start:r[0],end:r[1],ranges:[[r[0],r[1]]]},!1}}}),n}(e,t)}function Yh(e,t,n={}){const r={type:"html",ancestors:[],current:null,css:null},i=[],o=[],s=yf({xml:n.xml,allTokens:!0});return Rf(e,(e,n,a,l)=>!(a>=t)&&(a<t&&t<l?(r.current={name:e,type:n,range:[a,l]},!1):(1===n&&function(e,t){return !t.xml&&t.empty.includes(e)}(e,s)&&(n=3),void(1===n?o.push(em(i,e,n,a,l)):2===n&&o.length&&Vh(o).name===e&&function(e,t){e.push(t);}(i,o.pop())))),s),o.forEach(e=>{r.ancestors.push({name:e.name,range:[e.start,e.end]});}),n.skipCSS||(r.css=function(e,t,n){let r=null;if(n.current){const i=n.current;if(1===i.type||2===i.type){const n=e.slice(i.range[0],i.range[1]);Tf(n,i.name).some(o=>{if("style"===o.name&&null!=o.value){const[s,a]=function(e,t,n=0){let r=t.valueStart,i=t.valueEnd;return Wh(e[r])&&r++,Wh(e[i-1])&&i>r&&i--,[n+r,n+i]}(n,o,i.range[0]);if(t>=s&&t<=a)return r=Xh(e.slice(s,a),t-s,[s,a]),tm(r,s),r.inline=!0,!0}});}}else if(n.ancestors.length){const i=Vh(n.ancestors);if("style"===i.name){const n=i.range[1];let o=e.length;Rf(e.slice(i.range[1]),(e,t,r)=>{if(e===i.name&&2===t)return o=r+n,!1}),r=Xh(e.slice(n,o),t-n,[n,o]),tm(r,n);}}return r}(e,t,r)),r}function Xh(e,t,n){const r={type:"css",ancestors:[],current:null,inline:!1,embedded:n},i=[],o=[];return Zf(e,(n,s,a)=>{if(s>=t)return !1;if(s<t&&t<=a)return r.current={name:e.slice(s,a),type:n,range:[s,a]},!1;switch(n){case"selector":case"propertyName":o.push(em(i,e.slice(s,a),n,s,a));break;case"propertyValue":case"blockEnd":o.pop();}}),o.forEach(e=>{r.ancestors.push({name:e.name,type:e.type,range:[e.start,e.end]});}),r}function Zh(e,t){const n=Vh(t.ancestors);if(n){const t={};for(const r of Tf(e.slice(n.range[0],n.range[1]),n.name))t[r.name]=Hh(r)||"";return {name:n.name,attributes:t}}}function Qh(e){if(e.inline)return {name:"@@property"};const t=Vh(e.ancestors);let n="@@global";return e.current&&("propertyValue"===e.current.type&&t?n=t.name:"selector"!==e.current.type&&"propertyName"!==e.current.type||t||(n="@@section")),{name:n}}function em(e,t,n,r,i){if(e.length){const o=e.pop();return o.name=t,o.type=n,o.start=r,o.end=i,o}return {name:t,type:n,start:r,end:i}}function tm(e,t){e.ancestors.forEach(e=>{nm(e.range,t);}),e.current&&nm(e.current.range,t);}function nm(e,t){e[0]+=t,e[1]+=t;}const rm=/^[a-zA-Z.#\[\(]$/,im=/^[\s>;"\']?[a-zA-Z.#!@\[\(]$/,om=/^[\s;"\']?[a-zA-Z!@]$/;const sm=String.fromCodePoint(65520),am=String.fromCodePoint(65521),lm={"{":"}","[":"]","(":")"};for(const e of Object.keys(lm));let cm=0;function um(e,t){const n=hm(e,t);let r=0,i=n.length;for(;r<i&&bm(n[r]);)r++;for(;i>r&&bm(n[i-1]);)i--;return [t[0]+r,t[0]+i]}function fm(e,t,n){let r,i,o=n.indexOf(sm),s=n.indexOf(am);return -1!==o&&-1!==s?(r=t[0]+o,i=t[0]+s-sm.length,n=n.slice(0,o)+n.slice(o+sm.length,s)+n.slice(s+am.length)):-1!==o&&(r=t[0]+o,n=n.slice(0,o)+n.slice(o+sm.length)),e.operation(()=>{const[o,s]=mm(e,t);if(e.replaceRange(n,o,s),null!=r){const t=e.posFromIndex(r),n=null!=i?e.posFromIndex(i):void 0;n?e.setSelection(t,n):e.setCursor(t);}return !0})}function pm(e){const t=e.getCursor();return e.indexFromPos(t)}function dm(e){return e.getValue()}function hm(e,t){const[n,r]=mm(e,t);return e.getRange(n,r)}function mm(e,t){return [e.posFromIndex(t[0]),e.posFromIndex(t[1])]}function gm(e){const{value:t}=e;return t&&function(e){return !!e&&(ym(e)||(t=e,"{"===t[0]&&"}"===t.slice(-1)));var t;}(t)?t.slice(1,-1):t}function vm(e){return '"'===e||"'"===e}function ym(e){return e.length>1&&vm(e[0])&&e[0]===e.slice(-1)}function bm(e){return /^[\s\n\r]+$/.test(e)}function wm(e){return e.constructor.Pass}function xm(e,t){const n=e.indexFromPos(t.head),r=e.indexFromPos(t.anchor);return [Math.min(n,r),Math.max(n,r)]}function km(e,t){return e[0]===t[0]&&e[1]===t[1]}function $m(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function Sm(e){return e[0]===e[1]}function Cm(e,t="emmet-error-snippet"){const n=e.message.split("\n")[0];return `<div class="${t}">\n        <div class="${t}-ptr">\n            <div class="${t}-line"></div>\n            <div class="${t}-tip"></div>\n            <div class="${t}-spacer">${" ".repeat(e.pos||0)}</div>\n        </div>\n        <div class="${t}-message">${function(e){const t={"<":"&lt;",">":"&gt;","&":"&amp;"};return e.replace(/[<>&]/g,e=>t[e])}(n.replace(/\s+at\s+\d+$/,""))}</div>\n    </div>`}function Mm(e){return e.length>0?e[e.length-1]:void 0}function Om(e){return "$$emmet"in e}function Tm(e){return Om(e)||(e.$$emmet={id:String(cm++)}),e.$$emmet}const _m=["xml","xsl","jsx"],Am=["html","htmlmixed","vue"],Nm=["css","scss","less"],Em=["jsx","tsx"],Lm=["haml","jade","pug","slim"].concat(Am,_m,Em),Dm=["sass","sss","stylus","postcss"].concat(Nm);function jm(e,t){let n,r,i=Pm(e);if(Rm(i)){const o=dm(e);r=Yh(o,t,{xml:zm(i)}),r.css&&(i=function(e,t){const n=Mm(t.ancestors);if(n&&"style"===n.name)for(const t of Tf(e.slice(n.range[0],n.range[1]),n.name))if("type"===t.name)return gm(t)}(o,r)||"css",n=r.css.inline,r=r.css);}else Fm(i)&&(r=Xh(dm(e),t));return {type:Im(i),syntax:i,inline:n,context:r}}function Pm(e){const t=e.getMode();return t?"htmlmixed"===t.name?"html":t.name||"":""}function Im(e){return e&&Dm.includes(e)?"stylesheet":"markup"}function zm(e){return !!e&&_m.includes(e)}function Rm(e){return !!e&&(Am.includes(e)||zm(e))}function Fm(e){return !!e&&Nm.includes(e)}function Bm(e){return !!e&&Em.includes(e)}function Wm(e,t){if(!0===e)return !0;if(Array.isArray(e)){const n=[t.type,t.syntax];return t.inline&&n.push(t.type+"-inline",t.syntax+"-inline"),n.some(t=>e.includes(t))}return !1}const Hm=Zm("null",0);function Vm(e){const t=e.pos;return !(!e.eat(46)||!e.eatWhile(gc))||(!(!e.eatWhile(gc)||e.eat(46)&&!e.eatWhile(gc))||(e.pos=t,!1))}function qm(e,t){return Zm("num",parseFloat(e),t)}function Um(e,t=0){return 45===e&&(t+=2),Zm("op1",e,t)}function Km(e,t=0){return 42===e?t+=1:47!==e&&92!==e||(t+=2),Zm("op2",e,t)}function Jm(e,t){throw t&&(e+=` at column ${t.pos} of expression`),new Error(e)}function Gm(e){return function(e){return 43===e}(e)||Ym(e)}function Ym(e){return 45===e}function Xm(e){return 43===e||45===e||42===e||47===e||92===e}function Zm(e,t,n=0){return {type:e,value:t,priority:n}}const Qm={lookAhead:!0,whitespace:!0};function eg(e){if(gc(tg(e))){e.pos--;let t,n=!1;for(;e.pos>=0;){if(t=tg(e),46===t){if(n)break;n=!0;}else if(!gc(t))break;e.pos--;}return !0}return !1}function tg(e){return e.text.charCodeAt(e.pos-1)}function ng(e){return e.text.charCodeAt(e.pos)}const rg={45:e=>-e},ig={43:(e,t)=>e+t,45:(e,t)=>e-t,42:(e,t)=>e*t,47:(e,t)=>e/t,92:(e,t)=>Math.floor(e/t)};function og(e){if(Array.isArray(e)||(e=function(e){const t="string"==typeof e?new Cc(e):e;let n,r=0,i=21;const o=[];for(;!t.eof();)t.eatWhile(wc),t.start=t.pos,Vm(t)?(0==(1&i)&&Jm("Unexpected number",t),o.push(qm(t.current())),i=10):Xm(t.peek())?(n=t.next(),Gm(n)&&16&i?(Ym(n)&&o.push(Um(n,r)),i=21):(0==(2&i)&&Jm("Unexpected operator",t),o.push(Km(n,r)),i=21)):t.eat(40)?(0==(4&i)&&Jm('Unexpected "("',t),r+=10,i=53):t.eat(41)?(r-=10,32&i?o.push(Hm):0==(8&i)&&Jm('Unexpected ")"',t),i=14):Jm("Unknown character",t);(r<0||r>=10)&&Jm('Unmatched "()"',t);const s=function(e){const t=[],n=[];let r=0;for(let i=0;i<e.length;i++){const o=e[i];if("num"===o.type)n.push(o);else {for(r+="op1"===o.type?1:2;t.length&&o.priority<=t[t.length-1].priority;)n.push(t.pop());t.push(o);}}return r+1===n.length+t.length?n.concat(t.reverse()):null}(o);return null===s&&Jm("Parity",t),s}(e)),!e||!e.length)return null;const t=[];let n,r,i;for(let o=0,s=e.length;o<s;o++){const s=e[o];if("num"===s.type)t.push(s.value);else if("op2"===s.type)r=t.pop(),n=t.pop(),i=ig[s.value],t.push(i(n,r));else {if("op1"!==s.type)throw new Error("Invalid expression");n=t.pop(),i=rg[s.value],t.push(i(n));}}if(t.length>1)throw new Error("Invalid Expression (parity)");return t[0]}function sg(e,t,n){const r=null!=t?e.posFromIndex(t):e.getCursor(),i=Pm(e)||"html",o=mf(e),s={"output.baseIndent":lg(e,r.line),"output.indent":cg(e),"output.field":ag(),"output.format":!n,"output.attributeQuotes":o.attributeQuotes};return "html"===i&&(s["output.selfClosingStyle"]=o.markupStyle,s["output.compactBoolean"]="html"===o.markupStyle),Rm(i)&&(o.comments&&(s["comment.enabled"]=!0,o.commentsTemplate&&(s["comment.after"]=o.commentsTemplate)),s["bem.enabled"]=o.bem,s["stylesheet.shortHex"]=o.shortHex),s}function ag(){let e=!1;return (t,n)=>e?"":(e=!0,n?sm+n+am:sm)}function lg(e,t){const n=e.getLine(t).match(/^\s+/);return n?n[0]:""}function cg(e){return e.getOption("indentWithTabs")?"\t":" ".repeat(e.getOption("indentUnit")||0)}let ug={};function fg(e,t,n){let r={cache:ug};const i={"output.field":ag(),"output.format":!n||!n.inline};n&&(Object.assign(r,n),n.options&&Object.assign(i,n.options)),r.options=i;const o=mf(e);return o.config&&(r=lh(r,o.config)),Ph(t,r)}function pg(e,t,n="markup",r){return Ah(e,t,Object.assign({lookAhead:"stylesheet"!==n,type:n},r))}function dg(e,t,n=!1,r=!1){const i={xml:r};return n?function(e,t,n){const r=[],i=[],o=yf(n),s=[],a=(e,t,n)=>{if(r.length){const i=r.pop();return i.name=e,i.ranges.push(t,n),i}return {name:e,ranges:[t,n]}},l=e=>{e.ranges.length=0,e.firstChild=void 0,r.push(e);};return Rf(e,(e,n,r,c)=>{if(2===n){if(!i.length)return;let n=Xf(i);if(n.name===e){if(n.ranges[0]<=t&&t<=c){for(s.push({name:e,open:n.ranges.slice(0,2),close:[r,c]});n.firstChild;){const e=n.firstChild,t={name:e.name,open:e.ranges.slice(0,2)};e.ranges.length>2&&(t.close=e.ranges.slice(2,4)),s.push(t),l(n),n=e;}return !1}{i.pop();const e=Xf(i);e&&!e.firstChild?(n.ranges.push(r,c),e.firstChild=n):l(n);}}}else if(3===n||Yf(e,o)){if(r<t&&t<c)return s.push({name:e,open:[r,c]}),!1;const n=Xf(i);n&&!n.firstChild&&(n.firstChild=a(e,r,c));}else i.push(a(e,r,c));},o),i.length=r.length=0,s}(e,t,i):function(e,t,n){const r=[],i=[],o=yf(n),s=[];return Rf(e,(e,n,a,l)=>{if(2===n){const n=Xf(i);n&&n.name===e&&(n.start<t&&t<l&&s.push({name:e,open:[n.start,n.end],close:[a,l]}),Jf(r,i.pop()));}else 3===n||Yf(e,o)?a<t&&t<l&&s.push({name:e,open:[a,l]}):i.push(Kf(r,e,a,l));},o),i.length=r.length=0,s}(e,t,i)}function hg(e,t,n){return n?lp(e,t):function(e,t){const n=[],r=[],i=[];let o=null;return Zf(e,(s,a,l,c)=>{if("selector"===s)r.push(up(n,a,l,c));else if("blockEnd"===s){const o=r.pop();if(o&&o[0]<t&&l>t){const t=cp(e,o[2]+1,a);t&&pp(i,t),pp(i,[o[0],l]);}if(o&&fp(n,o),!r.length)return !1}else "propertyName"===s?(o&&fp(n,o),o=up(n,a,l,c)):"propertyValue"===s&&o&&o[0]<t&&Math.max(c,l)>t&&(pp(i,[a,l]),pp(i,[o[0],-1!==c?c+1:l]));"propertyName"!==s&&o&&(fp(n,o),o=null);}),i}(e,t)}function mg(e,t,n,r){return n?Gh(e,t,r):Uh(e,t,r)}function gg(e,t,n){const r=function(e,t=e.length,n){const r=Object.assign(Object.assign({},Qm),n),i={text:e,pos:t};let o;if(r.lookAhead&&41===ng(i)){i.pos++;const t=e.length;for(;i.pos<t&&(o=ng(i),41===o||r.whitespace&&xc(o));)i.pos++;}const s=i.pos;let a=0;for(;i.pos>=0;)if(!eg(i)){if(o=tg(i),41===o)a++;else if(40===o){if(!a)break;a--;}else if(!(r.whitespace&&xc(o)||Gm(o)||Xm(o)))break;i.pos--;}if(i.pos!==s&&!a){for(;xc(ng(i));)i.pos++;return [i.pos,s]}return null}(e,t,n);if(r)try{const[t,n]=r,i=og(e.slice(t,n));if(i)return {start:t,end:n,result:i,snippet:i.toFixed(4).replace(/\.?0+$/,"")}}catch(e){console.error(e);}}function vg(e,t,n){const r=dm(e);let i;if(null==n){const t=e.getMode();n=!!t&&zm(t.name);}const o=function(e,t,n){const r=[],i=[],o=yf(n);let s=null;return Rf(e,(n,a,l,c)=>{if(1===a&&Yf(n,o)&&(a=3),1===a)i.push(Kf(r,n,l,c));else if(3===a){if(l<t&&t<c)return s={name:n,attributes:Gf(e,l,c,n),open:[l,c]},!1}else {const o=Xf(i);if(o&&o.name===n){if(o.start<t&&t<c)return s={name:n,attributes:Gf(e,o.start,o.end,n),open:[o.start,o.end],close:[l,c]},!1;i.length&&Jf(r,i.pop());}}},o),i.length=r.length=0,s}(r,t,{xml:n});if(o){const{open:e,close:t}=o;i={name:o.name,open:e,close:t},o.attributes&&(i.attributes={},o.attributes.forEach(e=>{let t=e.value;t&&ym(t)&&(t=t.slice(1,-1)),i.attributes[e.name]=null==t?null:t;}));}return i}function yg(e,t){const n=jm(e,t),{context:r}=n,i={type:n.type,syntax:n.syntax||"html",options:sg(e,t,n.inline)};if(r){const t=dm(e);"html"===r.type&&r.ancestors.length?i.context=function(e,t){const n=Mm(t.ancestors);if(n){const t={};for(const r of Tf(e.slice(n.range[0],n.range[1]),n.name))t[r.name]=gm(r)||"";return {name:n.name,attributes:t}}}(t,r):"css"===r.type&&(i.context=function(e){if(e.inline)return {name:"@@property"};const t=Mm(e.ancestors);let n="@@global";return e.current&&("propertyValue"===e.current.type&&t?n=t.name:"selector"!==e.current.type&&"propertyName"!==e.current.type||t||(n="@@section")),{name:n}}(r));}return i}const bg="emmet-abbreviation-preview";function wg(e,t){return t}const xg=new class{constructor(){this.marker=null,this.preview=null,this.forcedMarker=null;}get id(){return Tm(this.cm).id}substr(e,t){const n=this.cm.getValue();return void 0===e&&void 0===t?n:n.slice(e||0,t)}replace(e,t,n){this.cm.replaceRange(e,this.cm.posFromIndex(t),this.cm.posFromIndex(n));}syntax(){return Pm(this.cm)}size(){return this.cm.getValue().length}config(e){return yg(this.cm,e)}outputOptions(e,t){return sg(this.cm,e,t)}previewConfig(e){return Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{"output.field":wg,"output.indent":"  ","output.baseIndent":""})})}allowTracking(e){return $g(this.cm,e)}mark(e){const{cm:t}=this;this.disposeMarker();const[n,r]=mm(t,e.range);this.marker=t.markText(n,r,{inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!1,className:"emmet-abbreviation"}),e.forced&&!this.forcedMarker&&(this.forcedMarker=document.createElement("div"),this.forcedMarker.className="emmet-abbreviation-marker",t.addWidget(n,this.forcedMarker,!1));}unmark(){this.disposeMarker(),this.hidePreview();}showPreview(e){const{cm:t}=this,n=mf(t);if(!Wm(n.preview,jm(t,e.range[0])))return;let r,i=!1;if("error"===e.type?(r=Cm(e.error),i=!0):!e.forced&&e.simple||(r=e.preview),r){if(!this.preview){const r=document.createElement("div");r.className=bg;const i=t.posFromIndex(e.range[0]);n.attachPreview?n.attachPreview(t,r,i):t.addWidget(i,r,!1),this.preview=new this.cm.constructor(r,{mode:t.getOption("mode"),readOnly:"nocursor",lineNumbers:!1});const o=document.createElement("div");o.className=bg+"-error",r.appendChild(o);}const o=this.preview.getWrapperElement().parentElement;o.classList.toggle("has-error",i),i?o.querySelector(`.${bg}-error`).innerHTML=r:this.preview.setValue(r);}else this.hidePreview();}hidePreview(){this.preview&&(this.preview.getWrapperElement().parentElement.remove(),this.preview=null);}isCSS(e){return Fm(e)}syntaxType(e){return Im(e)}isHTML(e){return Rm(e)}isXML(e){return zm(e)}isJSX(e){return Bm(e)}run(e,t){const{cm:n}=this;this.cm=e;const r=t();return this.cm=n,r}disposeMarker(){this.marker&&(this.marker.clear(),this.marker=null),this.forcedMarker&&(this.forcedMarker.remove(),this.forcedMarker=null);}},kg=new class{constructor(){this.cache=new Map,this.trackers=new Map,this.lastPos=new Map;}getLastPost(e){return this.lastPos.get(e.id)}setLastPos(e,t){this.lastPos.set(e.id,t);}getTracker(e){return this.trackers.get(e.id)}typingAbbreviation(e,t){var n;const r=e.substr(Math.max(0,t-2),t),i=e.syntax();let o=-1,s=t,a=0;if(e.isJSX(i)?2===r.length&&"<"===r[0]&&rm.test(r[1])&&(o=t-2,a="<".length):im.test(r)&&(o=t-1),o>=0){const i=r[r.length-1];i in Ih&&e.substr(t,t+1)===Ih[i]&&s++;const l=this.getActivationContext(e,t);if(l){if("stylesheet"===l.type&&!om.test(r))return;const t=this.startTracking(e,o,s,{offset:a,config:l});if(t&&"abbreviation"===t.type&&"@@section"===(null===(n=l.context)||void 0===n?void 0:n.name)){const{abbreviation:n,preview:r}=t;if(r.startsWith(n)&&/^:\s*;?$/.test(r.slice(n.length)))return void this.stopTracking(e)}return t}}}startTracking(e,t,n,r){const i=(null==r?void 0:r.config)||e.config(t),o=this.createTracker(e,[t,n],Object.assign({config:i},r));if(o)return this.trackers.set(e.id,o),o;this.trackers.delete(e.id);}stopTracking(e,t){const n=this.getTracker(e);n&&(e.unmark(n),n.forced&&!(null==t?void 0:t.skipRemove)&&e.replace("",n.range[0],n.range[1]),(null==t?void 0:t.force)?this.cache.delete(e.id):this.storeTracker(e,n),this.trackers.delete(e.id));}createTracker(e,t,n){if(t[0]>=t[1])return null;let r=e.substr(t[0],t[1]);const{config:i}=n;if(n.offset&&(r=r.slice(n.offset)),!r||/[\r\n]/.test(r))return null;const o={abbreviation:r,range:t,config:i,forced:!!n.forced,offset:n.offset||0,lastPos:t[1],lastLength:e.size()};try{let t,n=!1;"stylesheet"===i.type?t=df(r):(t=Lu(r,{jsx:"jsx"===i.syntax}),n=this.isSimpleMarkupAbbreviation(t));const s=e.previewConfig(i);return Object.assign(Object.assign({},o),{type:"abbreviation",simple:n,preview:Ph(t,s)})}catch(e){return Object.assign(Object.assign({},o),{type:"error",error:e})}}storeTracker(e,t){this.cache.set(e.id,t);}getStoredTracker(e){return this.cache.get(e.id)}restoreTracker(e,t){const n=this.getStoredTracker(e);if(n&&n.range[0]<=t&&n.range[1]>=t){this.cache.delete(e.id);const[t,r]=n.range;if(e.substr(t+n.offset,r)===n.abbreviation)return this.trackers.set(e.id,n),n}}handleChange(e,t){const n=this.getTracker(e),r=this.getLastPost(e);if(this.setLastPos(e,t),!n)return null!=r&&r===t-1&&e.allowTracking(t)?this.typingAbbreviation(e,t):void 0;const{lastPos:i}=n;let{range:o}=n;if(i<o[0]||i>o[1])return void this.stopTracking(e);const s=e.size()-n.lastLength;if(o=o.slice(),function(e,t,n){t<0?n===e[0]?(e[0]+=t,e[1]+=t):e[0]<n&&n<=e[1]&&(e[1]+=t):t>0&&e[0]<=n&&n<=e[1]&&(e[1]+=t);}(o,s,i),o[0]===o[1]&&n.forced)return n.abbreviation="",n;const a=this.createTracker(e,o,n);if(a&&(n.forced||function(e,t,n){if("error"===e.type){if(t[1]===n)return !1;const{abbreviation:r}=e,i=t[0];let o=t[1];for(;o>i&&zh.includes(r[o-i-1]);)o--;return o!==n}return !0}(a,o,t)))return a.lastPos=t,this.trackers.set(e.id,a),e.mark(a),a;this.stopTracking(e);}handleSelectionChange(e,t){this.setLastPos(e,t);const n=this.getTracker(e)||this.restoreTracker(e,t);if(n)return n.lastPos=t,n}getActivationContext(e,t){const n=e.syntax(),r=e.substr();if(e.isCSS(n))return this.getCSSActivationContext(e,t,n,Xh(r,t));if(!e.isHTML(n))return {syntax:n,type:e.syntaxType(n)};{const i=Yh(r,t,{xml:e.isXML(n)});if(i.css)return this.getCSSActivationContext(e,t,function(e,t){const n=Vh(t.ancestors);if(n&&"style"===n.name)for(const t of Tf(e.slice(n.range[0],n.range[1]),n.name))if("type"===t.name)return Hh(t)}(r,i)||"css",i.css);if(!i.current)return {syntax:n,type:"markup",context:Zh(r,i),options:e.outputOptions(t)}}}getCSSActivationContext(e,t,n,r){if(!r.current)return;return "propertyName"===r.current.type||"propertyValue"===r.current.type||this.isTypingBeforeSelector(e,t,r)?{syntax:n,type:"stylesheet",context:Qh(r),options:e.outputOptions(t,r.inline)}:void 0}isTypingBeforeSelector(e,t,{current:n}){if(n&&"selector"===n.type&&n.range[0]===t-1){return 1===e.substr(n.range[0],n.range[1]).split(/[\n\r]/)[0].trim().length}return !1}isSimpleMarkupAbbreviation(e){if(1===e.children.length&&!e.children[0].children.length){const t=e.children[0];return !t.name||/^[a-z]/i.test(t.name)}return !e.children.length}disposeEditor(e){this.cache.delete(e.id),this.trackers.delete(e.id),this.lastPos.delete(e.id);}};function $g(e,t){if(Sg(e,t)){const n=function(e,t){const n=e.posFromIndex(t),r=e.getModeAt(n);return r&&"xml"===r.name?r.configuration||r.name:r&&r.name}(e,t);return !!n&&(function(e){return !!e&&(Lm.includes(e)||Dm.includes(e))}(n)||Bm(n))}return !1}function Sg(e,t){return Wm(mf(e).mark,jm(e,t))}function Cg(e,t){return xg.run(e,()=>{const e=xg.syntax(),n=xg.isJSX(e)?"<":"",r=kg.getActivationContext(xg,t),i=pg(xg.substr(),t,Im(null==r?void 0:r.syntax),{prefix:n});if(i){const e=kg.startTracking(xg,i.start,i.end,{offset:n.length,config:r});return e&&xg.showPreview(e),e}})}function Mg(e){return xg.run(e,()=>kg.getTracker(xg))}function Og(e,t){return xg.run(e,()=>kg.stopTracking(xg,t))}function Tg(e,t){return t>=e.range[0]&&t<=e.range[1]}function _g(e){let t,n=null,r=null;function i(e,t,n){r&&r.dataset.pos===String(t)||(o(),r=function(e,t,n){const r=document.createElement("div");return r.className="emmet-tag-preview",r.innerText=n,r.dataset.pos=String(t),e.addWidget(e.posFromIndex(t),r,!1),r}(e,t,n));}function o(){r&&(r.remove(),r=null);}const s=e=>{n||(n=qh(e.getValue()));const r=pm(e);let s=function(e,t,n){let r;return "string"==typeof e&&(e=qh(e,n)),e.some(e=>{const n=e.open[0],i=e.close?e.close[1]:e.open[1];if(t<n)return !0;t>n&&t<i&&(r=e);}),r}(n,r);if(s){s.preview||(s.preview=function(e,t){let n="",r="";const i=[];Tf(hm(e,t.open),t.name).forEach(e=>{"class"===e.name&&e.value?n="."+Dg(e.value).replace(/\s+/g,"."):"id"===e.name&&e.value?r="#"+Dg(e.value):i.push(e.value?`${e.name}=${e.value}`:e.name);});const o=i.length?`[${i.join(" ")}]`:"",s=r+n+o;return s?t.name+s:""}(e,s)),!function(e,t,n){return t.close&&t.preview&&mf(e).previewOpenTag&&n>t.close[0]&&n<t.close[1]}(e,s,r)?o():i(e,s.close[1],s.preview);const t=s.name.length;s=Object.assign(Object.assign({},s),{open:[s.open[0]+1,s.open[0]+1+t]}),s.close&&(s.close=[s.close[0]+2,s.close[0]+2+t]);}!s||t&&km(t.open,s.open)?!s&&t&&Ag(e):(Ag(e),function(e,{open:t,close:n,preview:r}){Eg(e,e.posFromIndex(t[0]),e.posFromIndex(t[1]),"emmet-open-tag"),n&&Eg(e,e.posFromIndex(n[0]),e.posFromIndex(n[1]),"emmet-close-tag");}(e,s)),t=s;},a=e=>{if(n=null,mf(e).autoRenameTags){const{open:n,close:r}=Ng(e);if(n&&r){const i=e.getCursor(),o=n.find(),s=r.find();let a=!1;jg(o,i)?a=Lg(e,o,s):jg(s,i)&&(a=Lg(e,s,o)),a&&(Ag(e),t=null);}}};return e.on("cursorActivity",s),e.on("change",a),()=>{Ag(e),o(),e.off("cursorActivity",s),e.off("cursorActivity",a),n=t=null;}}function Ag(e){const{open:t,close:n}=Ng(e);t&&t.clear(),n&&n.clear();}function Ng(e){let t,n;return e.getAllMarks().forEach(e=>{"emmet-open-tag"===e.className?t=e:"emmet-close-tag"===e.className&&(n=e);}),{open:t,close:n}}function Eg(e,t,n,r,i){return e.markText(t,n,{className:r,inclusiveLeft:!0,inclusiveRight:!0,clearWhenEmpty:!1,attributes:i})}function Lg(e,t,n){const r=e.getRange(t.from,t.to),i=r.match(/[\w:.-]+/),o=i?i[0]:"";return e.getRange(n.from,n.to)!==o&&e.replaceRange(o,n.from,n.to),r!==o}function Dg(e){return ym(e)?e.slice(1,-1):e}function jg(e,t,n){return n?Pg(t,e.from)>0&&Pg(t,e.to)<0:Pg(t,e.from)>=0&&Pg(t,e.to)<=0}function Pg(e,t){return e.line-t.line||e.ch-t.ch}function Ig(e,t){const n=new Error(e);return n.ch=t.pos,n}function zg(e,t,n="Unexpected character"){return t.parseError=Ig(n.replace(/\s+at\s+\d+$/,""),e),e.skipToEnd(),"invalidchar"}function Rg(e){return e[e.length-1]}function Fg(){return {startState:()=>({attribute:0,expression:0,group:0,quote:0,braces:[],tokens:[],scanner:new Cc("")}),token(e,t){const{scanner:n}=t;n.string=e.string,n.pos=e.pos,n.start=e.start,n.end=e.string.length;const r=n.peek(),i=uu(n,t);if(!i)return zg(e,t);if(e.pos=n.pos,"Quote"===i.type)t.quote=r===t.quote?0:r;else if("Bracket"===i.type)if(i.open)t[i.context]++,t.braces.push(i);else {t[i.context]--;const e=Rg(t.braces);e&&e.context===i.context&&t.braces.pop();}if(e.eol()&&t.braces.length&&!t.parseError){const n=Rg(t.braces).start;return t.parseError=Ig("No closing brace at "+n,e),null}const o=function(e,t){const n=Rg(t.tokens);switch(e.type){case"Bracket":return "bracket";case"Field":return "variable-2";case"Literal":if(t.attribute)return n&&"Operator"===n.type&&"equal"===n.operator?"string-2":t.quote?"string":"attribute";if(t.quote)return "string";if(n&&"Operator"===n.type){if("class"===n.operator)return "variable-2";if("id"===n.operator)return "variable-3"}return "tag";case"Operator":return "class"===e.operator?"variable-2":"id"===e.operator?"variable-3":"operator "+e.operator;case"Repeater":case"RepeaterPlaceholder":return "meta";case"Quote":return "string";case"RepeaterNumber":return "number"}return ""}(i,t);return t.tokens.push(i),o}}}function Bg(){return {startState:()=>({brackets:0,tokens:[],scanner:new Cc("")}),token(e,t){const{scanner:n}=t;n.string=e.string,n.pos=e.pos,n.start=e.start,n.end=e.string.length;const r=ju(n,0===t.brackets);if(!r)return zg(e,t);if("Bracket"===r.type&&(t.brackets+=r.open?1:-1,t.brackets<0))return zg(e,t,"Unexpected bracket");e.pos=n.pos;const i=function(e,t){switch(e.type){case"Bracket":return "bracket";case"Field":return "variable-2";case"Literal":return "tag";case"Operator":return "operator "+e.operator;case"ColorValue":return "variable-3";case"NumberValue":return "number";case"StringValue":return "string"}return null}(r);return t.tokens.push(r),i}}}function Wg(){return {token:e=>e.eatWhile(Hg)?"tag":e.eat(Vg)?"operator":(e.skipToEnd(),"invalidchar")}}function Hg(e){return /[a-zA-Z0-9-_$@!:]/.test(e)}function Vg(e){return "|"===e}function qg(e,t){if(e.somethingSelected())return wm(e);if(t)return function(e){const t=pm(e);if(mf(e).mark){const n=Mg(e);return n&&Tg(n,t)&&"abbreviation"===n.type?(Ug(e,n.abbreviation,n.range,n.config),void Og(e,{skipRemove:!0})):wm(e)}return function(e,t){return xg.run(e,()=>t(kg,xg))}(e,(n,r)=>{const i=n.getActivationContext(r,t);if(i){const n=e.posFromIndex(t),r=pg(e.getLine(n.line),n.ch,Im(i.syntax));if(r){const o=t-n.ch;return void Ug(e,r.abbreviation,[r.start+o,r.end+o],i)}}return wm(e)})}(e);const n=pm(e),r=e.posFromIndex(n),i=e.getLine(r.line),o=yg(e,n),s=pg(i,r.ch,Im(o.syntax));if(s){const t=n-r.ch;Ug(e,s.abbreviation,[s.start+t,s.end+t],o);}}function Ug(e,t,n,r){fm(e,n,fg(e,t,r));}function Kg(e){if(!Mg(e))return wm(e);Og(e,{force:!0});}function Jg(e){Og(e),Cg(e,pm(e));}function Gg(e){let t=Mg(e);if(Og(e),t&&t.forced)return;const[n,r]=xm(e,e.listSelections()[0]);t=function(e,t,n,r){return xg.run(e,()=>{const e=kg.startTracking(xg,t,n,r);return e&&xg.showPreview(e),e})}(e,n,r,{forced:!0}),n!==r&&e.setSelection(e.posFromIndex(r));}function Yg(e){const t=e.listSelections().map(t=>function(e,t,n){if(r=t,i=n,r.sticky===i.sticky&&0===function(e,t){return e.line-t.line||e.ch-t.ch}(r,i)){if("xml"===e.getModeAt(t).name){const n=e.getTokenAt(t),r=e.getTokenAt(Object.assign({},t,{ch:t.ch+1}));return "tag bracket"===n.type&&">"===n.string&&"tag bracket"===r.type&&"</"===r.string}}var r,i;}(e,t.anchor,t.head));if(!t.some(Boolean))return wm(e);e.operation(()=>{const n=e.listSelections(),r=e.getDoc().lineSeparator(),i=cg(e),o=[];for(let s=n.length-1;s>=0;s--){const a=n[s],l=lg(e,a.anchor.line);let c=l;t[s]?(c+=i,e.replaceRange(r+c+r+l,a.anchor,a.head)):e.replaceRange(r+l,a.anchor,a.head);const u={line:a.anchor.line+1,ch:c.length};o.unshift({anchor:u,head:u});}e.setSelections(o);});}function Xg(e){const t=Pm(e),n=pm(e),r=vg(e,n,zm(t)),i=function(e,t,n){if(t[0]===t[1]&&n){const{open:r,close:i}=n,o=t[0];if(Zg(r,o)||i&&Zg(i,o))return [r[0],i?i[1]:r[1]];if(i)return um(e,[r[1],i[0]])}return t}(e,function(e){return xm(e,e.listSelections()[0])}(e),r),o=yg(e,i[0]);o.text=function(e,t,n=!1){const r=e.posFromIndex(t[0]),i=lg(e,r.line),o=hm(e,t).split("\n").map(e=>e.startsWith(i)?e.slice(i.length):e);return n?o:o.join("\n")}(e,i,!0);let s=function(){const e=document.createElement("div");return e.className="emmet-panel",e.innerHTML='<div class="emmet-panel-wrapper">\n        <input type="text" placeholder="Enter abbreviation" autofocus />\n        <div class="emmet-panel-error"></div>\n    </div>',e}(),a=s.querySelector("input"),l=s.querySelector(".emmet-panel-error"),c=!1;function u(t){t&&t.stopPropagation(),p();const n=a.value.trim();if(n)try{const t=fg(e,n,o);fm(e,i,t),c=!0,s.classList.contains("emmet-error")&&(l.innerHTML="",s.classList.remove("emmet-error"));}catch(e){c=!1,s.classList.add("emmet-error"),l.innerHTML=Cm(e),console.error(e);}}function f(e){27===e.keyCode?(e.stopPropagation(),e.preventDefault(),d()):13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),h());}function p(){c&&e.undo();}function d(){p(),m(),e.focus();}function h(){m(),e.focus();}function m(){a.removeEventListener("input",u),a.removeEventListener("change",u),a.removeEventListener("paste",u),a.removeEventListener("keydown",f),a.removeEventListener("blur",d),s.remove(),s=a=l=null;}s.emmet={submit:h,cancel:d,update:u},a.addEventListener("input",u),a.addEventListener("change",u),a.addEventListener("paste",u),a.addEventListener("keydown",f),e.getWrapperElement().appendChild(s),a.focus();}function Zg(e,t){return e[0]<t&&t<e[1]}function Qg(e,t){const n=Pm(e);if(!Rm(n)&&!Fm(n))return wm(e);{const r=t?function(e,t){const n=[];for(const r of e.listSelections()){const i=xm(e,r),o=tv(e,i[0],t,!0);let s,a=o.findIndex(e=>km(i,e));a<o.length-1?s=o[a+1]:-1!==a&&(s=o.find(e=>$m(e,i))),n.push(s||i);}return n}(e,n):function(e,t){const n=[];for(const r of e.listSelections()){const i=xm(e,r),o=tv(e,i[0],t).find(e=>$m(e,i)&&e[1]>i[1]);n.push(o||i);}return n}(e,n);e.setSelections(r.map(t=>({anchor:e.posFromIndex(t[0]),head:e.posFromIndex(t[1])})));}}function ev(e,t){const n=e[e.length-1];n&&km(n,t)||e.push(t);}function tv(e,t,n,r){const i=dm(e);if(Fm(n))return hg(i,t,r);const o=[],s=dg(i,t,r,zm(n));for(const e of s)e.close?(ev(o,[e.open[1],e.close[0]]),ev(o,[e.open[0],e.close[1]])):ev(o,[e.open[0],e.open[1]]);return o.sort((e,t)=>r?e[0]-t[0]:t[0]-e[0])}const nv=["\x3c!--","--\x3e"],rv=["/*","*/"];function iv(e){const t=e.listSelections().slice().reverse();e.operation(()=>{for(const n of t){const t=xm(e,n),{syntax:r}=jm(e,t[0]),i=r&&Fm(r)?rv:nv,o=lv(e,t[0]);if(o&&o.commentStart)ov(e,o);else if(o&&Sm(t)){let t=0;for(const n of av(e,o.range,i).reverse())t+=ov(e,n);sv(e,[o.range[0],o.range[1]-t],i);}else if(Sm(t)){const t=e.getLine(n.anchor.line),r=xm(e,{anchor:{line:n.anchor.line,ch:0},head:{line:n.anchor.line,ch:t.length}});sv(e,um(e,r),i);}else sv(e,t,i);}});}function ov(e,{range:t,commentStart:n,commentEnd:r}){const i=hm(e,t);if(n&&i.startsWith(n)){let o=n.length,s=r&&i.endsWith(r)?r.length:0;bm(i[o])&&(o+=1),s&&bm(i[i.length-s-1])&&(s+=1);const a=mm(e,[t[1]-s,t[1]]),l=mm(e,[t[0],t[0]+o]);return e.replaceRange("",a[0],a[1]),e.replaceRange("",l[0],l[1]),o+s}return 0}function sv(e,t,n){const[r,i]=mm(e,t);e.replaceRange(" "+n[1],i,i),e.replaceRange(n[0]+" ",r,r);}function av(e,t,n){const r=[],i=hm(e,t);let o=t[0],s=0;for(;;){const e=i.indexOf(n[0],s);if(-1===e)break;{s=e+n[0].length;const t=i.indexOf(n[1],s);-1!==t&&(s=t+n[1].length,r.push({range:[o+e,o+s],commentStart:n[0],commentEnd:n[1]}));}}return r}function lv(e,t){const{syntax:n}=jm(e,t);if(n){if(Rm(n))return function(e,t,n=!1){const r=[],i=[],o=yf({xml:n,allTokens:!0});let s;return Rf(e,(e,n,a,l)=>{if(1===n&&function(e,t){return !t.xml&&t.empty.includes(e)}(e,o)&&(n=3),1===n)i.push(function(e,t,n,r){if(e.length){const i=e.pop();return i.name=t,i.start=n,i.end=r,i}return {name:t,start:n,end:r}}(r,e,a,l));else if(3===n){if(a<t&&t<l)return s={range:[a,l]},!1}else if(2===n){const n=(c=i).length?c[c.length-1]:null;if(n&&n.name===e){if(n.start<t&&t<l)return s={range:[n.start,l]},!1;i.length&&function(e,t){e.push(t);}(r,i.pop());}}else if(a<t&&t<l)return s={range:[a,l]},6===n&&(s.commentStart=nv[0],s.commentEnd=nv[1]),!1;var c;},o),i.length=r.length=0,s}(dm(e),t,zm(n));if(Fm(n)){const n=dm(e),r=function(e,t){const n=new Cc(e);for(;!n.eof()&&t>n.pos;){const e=n.pos;if(cv(n,47,42)){for(;!n.eof()&&!cv(n,42,47);)n.pos++;if(e<t&&t<n.pos)return {range:[e,n.pos],commentStart:rv[0],commentEnd:rv[1]}}else if(cv(n,47,47)){for(;!n.eof()&&!n.eat(13)&&!n.eat(10);)n.pos++;if(e<t&&t<n.pos)return {range:[e,n.pos],commentStart:"//"}}else n.pos++;}}(n,t);if(r)return r;const i=function(e,t){const n=[],r=[];let i=null,o=null;const s=()=>{o&&(fp(n,o),o=null);};return Zf(e,(e,a,l,c)=>{if("selector"===e)s(),r.push(up(n,a,l,c));else if("blockEnd"===e){s();const e=r.pop();if(e&&e[0]<t&&t<l)return i={type:"selector",start:e[0],end:l,bodyStart:e[2]+1,bodyEnd:a},!1}else if("propertyName"===e)s(),o=up(n,a,l,c);else if("propertyValue"===e){if(o&&o[0]<t&&t<l)return i={type:"property",start:o[0],end:c+1,bodyStart:a,bodyEnd:l},!1;s();}}),i}(n,t);if(i)return {range:[i.start,i.end]}}}}function cv(e,t,n){const{pos:r}=e;return !(!e.eat(t)||!e.eat(n))||(e.pos=r,!1)}function uv(e){const t=e.getCursor(),n=gg(e.getLine(t.line),t.ch);if(n){const r={line:t.line,ch:n.start},i={line:t.line,ch:n.end};e.replaceRange(n.snippet,r,i);}}function fv(e,t){const n=function(e,t,n){const r=dm(e),i=r.length;let o=t;for(;o<i&&o>=0;){o+=n;const t=r[o],i=r[o+1],a=r[o-1];if(vm(t)&&i===t&&"="===a)return o+1;if("<"===t&&">"===a)return o;if("\r"===(s=t)||"\n"===s){const t=e.posFromIndex(o),n=e.getLine(t.line);if(!n||bm(n))return e.indexFromPos({line:t.line,ch:n.length})}}var s;}(e,pm(e)+t,t);null!=n&&e.setCursor(e.posFromIndex(n));}function pv(e){let t=pm(e);const n=[t,Math.min(t+1,e.getValue().length)];"<"===hm(e,n)&&t++;const{syntax:r}=jm(e,t);if(Rm(r)){const n=vg(e,t,zm(r));if(n&&n.open&&n.close){const{open:r,close:i}=n,o=r[0]<=t&&t<r[1]?i[0]:r[0];e.setCursor(e.posFromIndex(o));}}}function dv(e,t=1){e.operation(()=>{const n=e.listSelections().slice().reverse().map(n=>{let r=xm(e,n);if(Sm(r)){const t=e.getLine(n.anchor.line),i=n.anchor.ch,o=function(e,t){let n,r=!1,i=t,o=t;const s=e.length;for(;i<s;){if(n=e.charCodeAt(i),hv(n)){if(r)break;r=!0;}else if(!gc(n))break;i++;}for(;o>=0;){if(n=e.charCodeAt(o-1),hv(n)){if(r)break;r=!0;}else if(!gc(n))break;o--;}o>0&&"-"===e[o-1]&&o--;if(o!==i)return [o,i]}(t,i);o&&(r=[r[0]-i+o[0],r[0]-i+o[1]]);}if(!Sm(r)){let i=function(e,t,n=3){const r=parseFloat(e)+t;if(isNaN(r))return e;const i=r<0;let o=Math.abs(r).toFixed(n);o=o.replace(/\.?0+$/,""),"."!==e[0]&&!e.startsWith("-.")||"0"!==o[0]||(o=o.slice(1));return (i?"-":"")+o}(hm(e,r),t);fm(e,r,i),n={anchor:e.posFromIndex(r[0]),head:e.posFromIndex(r[0]+i.length)};}return n});e.setSelections(n);});}function hv(e){return 46===e}function mv(e){e.operation(()=>{const t=e.listSelections().slice().reverse().map(t=>{const n=vg(e,e.indexFromPos(t.anchor));if(n){!function(e,{open:t,close:n}){if(n){const r=um(e,[t[1],n[0]]);if(Sm(r))fm(e,[t[0],n[1]],"");else {fm(e,[r[1],n[1]],"");const i=e.posFromIndex(t[0]),o=e.posFromIndex(n[1]);if(i.line!==o.line){let n=i.line+2;const s=gv(e,t[0]),a=gv(e,r[0]);for(;n<=o.line;){const t=e.indexFromPos({line:n,ch:0}),r=[t,t+a.length];bm(hm(e,r))&&(console.log('replace "%s" with "%s"',hm(e,r),s),fm(e,r,s)),n++;}}fm(e,[t[0],r[0]],"");}}else fm(e,t,"");}(e,n);const t=e.posFromIndex(n.open[0]);return {anchor:t,head:t}}return t});e.setSelections(t);});}function gv(e,t){return lg(e,e.posFromIndex(t).line)}function vv(e,t=!1){const n=Pm(e);if(!Fm(n)&&!Rm(n))return;const r=e.listSelections()[0],i=xm(e,r),o=dm(e);let s=mg(o,i[0],Fm(n),t);if(s){let r=yv(i,s.ranges,t);if(!r){s=mg(o,t?s.start:s.end,Fm(n),t),s&&(r=yv(i,s.ranges,t));}if(r){const[t,n]=mm(e,r);e.setSelection(t,n);}}}function yv(e,t,n=!1){n&&(t=t.slice().reverse());let r,i=!1;for(const o of t){if(i)return o;km(o,e)?i=!0:!r&&($m(o,e)||n&&o[0]<=e[0]||!n&&o[0]>=e[0])&&(r=o);}if(!i)return r}function bv(e){const t=e.listSelections().slice().reverse(),n=[];e.operation(()=>{for(const r of t){const t=e.indexFromPos(r.anchor),{syntax:i}=jm(e,t),o=vg(e,t,zm(i));if(o){const{open:t,close:r}=o;if(r){fm(e,[t[1],r[1]],"");let i=bm(wv(e,t[1]-2))?"/":" /";fm(e,[t[1]-1,t[1]-1],i),n.push(xv(e,t[1]+i.length));}else {const r=`</${o.name}>`;if(fm(e,[t[1],t[1]],r),"/"===wv(e,t[1]-2)){let r=t[1]-2,i=t[1]-1;bm(wv(e,r-1))&&r--,fm(e,[r,i],""),n.push(xv(e,t[1]-i+r));}else n.push(xv(e,t[1]));}}else n.push(r);}e.setSelections(n);});}function wv(e,t){return hm(e,[t,t+1])}function xv(e,t){const n=e.posFromIndex(t);return {anchor:n,head:n}}function kv(e){Object.assign(e.commands,{emmetExpandAbbreviation:e=>qg(e,!0),emmetExpandAbbreviationAll:e=>qg(e,!1),emmetCaptureAbbreviation:Jg,emmetResetAbbreviation:Kg,emmetEnterAbbreviationMode:Gg,emmetInsertLineBreak:Yg,emmetWrapWithAbbreviation:Xg,emmetBalance:Qg,emmetBalanceInward:e=>Qg(e,!0),emmetToggleComment:iv,emmetEvaluateMath:uv,emmetGoToNextEditPoint:e=>fv(e,1),emmetGoToPreviousEditPoint:e=>fv(e,-1),emmetGoToTagPair:pv,emmetIncrementNumber1:e=>dv(e,1),emmetIncrementNumber01:e=>dv(e,.1),emmetIncrementNumber10:e=>dv(e,10),emmetDecrementNumber1:e=>dv(e,-1),emmetDecrementNumber01:e=>dv(e,-.1),emmetDecrementNumber10:e=>dv(e,-10),emmetRemoveTag:mv,emmetSelectNextItem:e=>vv(e),emmetSelectPreviousItem:e=>vv(e,!0),emmetSplitJoinTag:bv}),e.defineOption("emmet",hf,(e,t)=>{Om(e)||(e.on("change",$v),e.on("change",Sv));const n=Tm(e);(t=mf(e,t)).mark&&!n.tracker?n.tracker=function(e){const t=e=>{xg.run(e,()=>{kg.handleChange(xg,pm(e));});},n=e=>{xg.run(e,()=>{const t=pm(e);if(!Sg(e,t))return;const n=kg.handleSelectionChange(xg,t);n&&(Tg(n,t)?xg.showPreview(n):xg.hidePreview());});};return e.on("change",t),e.on("focus",n),e.on("cursorActivity",n),()=>{xg.run(e,()=>kg.disposeEditor(xg)),e.off("change",t),e.off("focus",n),e.off("cursorActivity",n);}}(e):!t.mark&&n.tracker&&(n.tracker(),n.tracker=null),t.markTagPairs&&!n.tagMatch?n.tagMatch=_g(e):!t.markTagPairs&&n.tagMatch&&(n.tagMatch(),n.tagMatch=null);}),e.defineMode("emmet-abbreviation",Fg),e.defineMode("emmet-css-abbreviation",Bg),e.defineMode("emmet-snippet",Wg),e.defineExtension("expandAbbreviation",(function(e,t=yg(this,0)){return fg(this,e,t)})),e.defineExtension("emmetOptions",(function(e=0){return yg(this,e)})),e.defineExtension("parseAbbreviation",(function(e,t){return "stylesheet"===t?Yu(Du(e)):Lc(cu(e),{jsx:"jsx"===t})})),e.defineExtension("getEmmetCompletion",(function(e){return "number"!=typeof e&&(e=this.indexFromPos(e)),function(e,t){const n=Mg(e)||Cg(e,t);if(n&&Tg(n,t)&&"abbreviation"===n.type){const{abbreviation:t,preview:r}=n;return {text:t,displayText:r,hint:()=>{Og(e);const r=fg(e,t,n.config);fm(e,n.range,r);},from:e.posFromIndex(n.range[0]),to:e.posFromIndex(n.range[1])}}}(this,e)}));}function $v(e,t){if("undo"===t.origin&&1===t.text.length){const n=e.indexFromPos(t.from);!function(e,t,n){xg.run(e,()=>{const e=kg.getStoredTracker(xg);if(e){"abbreviation"===e.type&&n===e.abbreviation&&e.range[0]===t&&kg.restoreTracker(xg,t);}});}(e,n,t.text[0]);}}function Sv(e,t){if("paste"===t.origin&&1===t.text.length&&$g(e,e.indexFromPos(t.from))){const n=e.indexFromPos(t.from)+t.text[0].length;Cg(e,n);}}Qe((function(e,t){!function(e){var t="CodeMirror-activeline-background";function n(e){for(var n=0;n<e.state.activeLines.length;n++)e.removeLineClass(e.state.activeLines[n],"wrap","CodeMirror-activeline"),e.removeLineClass(e.state.activeLines[n],"background",t),e.removeLineClass(e.state.activeLines[n],"gutter","CodeMirror-activeline-gutter");}function r(e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],a=e.getOption("styleActiveLine");if("object"==typeof a&&a.nonEmpty?s.anchor.line==s.head.line:s.empty()){var l=e.getLineHandleVisualStart(s.head.line);i[i.length-1]!=l&&i.push(l);}}(function(e,t){if(e.length!=t.length)return !1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return !1;return !0})(e.state.activeLines,i)||e.operation((function(){n(e);for(var r=0;r<i.length;r++)e.addLineClass(i[r],"wrap","CodeMirror-activeline"),e.addLineClass(i[r],"background",t),e.addLineClass(i[r],"gutter","CodeMirror-activeline-gutter");e.state.activeLines=i;}));}function i(e,t){r(e,t.ranges);}e.defineOption("styleActiveLine",!1,(function(t,o,s){var a=s!=e.Init&&s;o!=a&&(a&&(t.off("beforeSelectionChange",i),n(t),delete t.state.activeLines),o&&(t.state.activeLines=[],r(t,t.listSelections()),t.on("beforeSelectionChange",i)));}));}(hc);})),Qe((function(e,t){!function(e){var t={},n=/[^\s\u00a0]/,r=e.Pos;function i(e){var t=e.search(n);return -1==t?0:t}function o(e,t){var n=e.getMode();return !1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment();},e.defineExtension("toggleComment",(function(e){e||(e=t);for(var n=1/0,i=this.listSelections(),o=null,s=i.length-1;s>=0;s--){var a=i[s].from(),l=i[s].to();a.line>=n||(l.line>=n&&(l=r(n,0)),n=a.line,null==o?this.uncomment(a,l,e)?o="un":(this.lineComment(a,l,e),o="line"):"un"==o?this.uncomment(a,l,e):this.lineComment(a,l,e));}})),e.defineExtension("lineComment",(function(e,s,a){a||(a=t);var l=this,c=o(l,e),u=l.getLine(e.line);if(null!=u&&(f=e,p=u,!/\bstring\b/.test(l.getTokenTypeAt(r(f.line,0)))||/^[\'\"\`]/.test(p))){var f,p,d=a.lineComment||c.lineComment;if(d){var h=Math.min(0!=s.ch||s.line==e.line?s.line+1:s.line,l.lastLine()+1),m=null==a.padding?" ":a.padding,g=a.commentBlankLines||e.line==s.line;l.operation((function(){if(a.indent){for(var t=null,o=e.line;o<h;++o){var s=(c=l.getLine(o)).slice(0,i(c));(null==t||t.length>s.length)&&(t=s);}for(o=e.line;o<h;++o){var c=l.getLine(o),u=t.length;(g||n.test(c))&&(c.slice(0,u)!=t&&(u=i(c)),l.replaceRange(t+d+m,r(o,0),r(o,u)));}}else for(o=e.line;o<h;++o)(g||n.test(l.getLine(o)))&&l.replaceRange(d+m,r(o,0));}));}else (a.blockCommentStart||c.blockCommentStart)&&(a.fullLines=!0,l.blockComment(e,s,a));}})),e.defineExtension("blockComment",(function(e,i,s){s||(s=t);var a=this,l=o(a,e),c=s.blockCommentStart||l.blockCommentStart,u=s.blockCommentEnd||l.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(a.getTokenTypeAt(r(e.line,0)))){var f=Math.min(i.line,a.lastLine());f!=e.line&&0==i.ch&&n.test(a.getLine(f))&&--f;var p=null==s.padding?" ":s.padding;e.line>f||a.operation((function(){if(0!=s.fullLines){var t=n.test(a.getLine(f));a.replaceRange(p+u,r(f)),a.replaceRange(c+p,r(e.line,0));var o=s.blockCommentLead||l.blockCommentLead;if(null!=o)for(var d=e.line+1;d<=f;++d)(d!=f||t)&&a.replaceRange(o+p,r(d,0));}else a.replaceRange(u,i),a.replaceRange(c,e);}));}}else (s.lineComment||l.lineComment)&&0!=s.fullLines&&a.lineComment(e,i,s);})),e.defineExtension("uncomment",(function(e,i,s){s||(s=t);var a,l=this,c=o(l,e),u=Math.min(0!=i.ch||i.line==e.line?i.line:i.line-1,l.lastLine()),f=Math.min(e.line,u),p=s.lineComment||c.lineComment,d=[],h=null==s.padding?" ":s.padding;e:if(p){for(var m=f;m<=u;++m){var g=l.getLine(m),v=g.indexOf(p);if(v>-1&&!/comment/.test(l.getTokenTypeAt(r(m,v+1)))&&(v=-1),-1==v&&n.test(g))break e;if(v>-1&&n.test(g.slice(0,v)))break e;d.push(g);}if(l.operation((function(){for(var e=f;e<=u;++e){var t=d[e-f],n=t.indexOf(p),i=n+p.length;n<0||(t.slice(i,i+h.length)==h&&(i+=h.length),a=!0,l.replaceRange("",r(e,n),r(e,i)));}})),a)return !0}var y=s.blockCommentStart||c.blockCommentStart,b=s.blockCommentEnd||c.blockCommentEnd;if(!y||!b)return !1;var w=s.blockCommentLead||c.blockCommentLead,x=l.getLine(f),k=x.indexOf(y);if(-1==k)return !1;var $=u==f?x:l.getLine(u),S=$.indexOf(b,u==f?k+y.length:0),C=r(f,k+1),M=r(u,S+1);if(-1==S||!/comment/.test(l.getTokenTypeAt(C))||!/comment/.test(l.getTokenTypeAt(M))||l.getRange(C,M,"\n").indexOf(b)>-1)return !1;var O=x.lastIndexOf(y,e.ch),T=-1==O?-1:x.slice(0,e.ch).indexOf(b,O+y.length);if(-1!=O&&-1!=T&&T+b.length!=e.ch)return !1;T=$.indexOf(b,i.ch);var _=$.slice(i.ch).lastIndexOf(y,T-i.ch);return O=-1==T||-1==_?-1:i.ch+_,(-1==T||-1==O||O==i.ch)&&(l.operation((function(){l.replaceRange("",r(u,S-(h&&$.slice(S-h.length,S)==h?h.length:0)),r(u,S+b.length));var e=k+y.length;if(h&&x.slice(e,e+h.length)==h&&(e+=h.length),l.replaceRange("",r(f,k),r(f,e)),w)for(var t=f+1;t<=u;++t){var i=l.getLine(t),o=i.indexOf(w);if(-1!=o&&!n.test(i.slice(0,o))){var s=o+w.length;h&&i.slice(s,s+h.length)==h&&(s+=h.length),l.replaceRange("",r(t,o),r(t,s));}}})),!0)}));}(hc);})),Qe((function(e,t){!function(e){function t(t,n,i,o){if(i&&i.call){var s=i;i=null;}else s=r(t,i,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var a=r(t,i,"minFoldSize");function l(e){var r=s(t,n);if(!r||r.to.line-r.from.line<a)return null;for(var i=t.findMarksAt(r.from),l=0;l<i.length;++l)if(i[l].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0,i[l].clear();}return r}var c=l(!0);if(r(t,i,"scanUp"))for(;!c&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),c=l(!1);if(c&&!c.cleared&&"unfold"!==o){var u=function(e,t,n){var i=r(e,t,"widget");if("function"==typeof i&&(i=i(n.from,n.to)),"string"==typeof i){var o=document.createTextNode(i);(i=document.createElement("span")).appendChild(o),i.className="CodeMirror-foldmarker";}else i&&(i=i.cloneNode(!0));return i}(t,i,c);e.on(u,"mousedown",(function(t){f.clear(),e.e_preventDefault(t);}));var f=t.markText(c.from,c.to,{replacedWith:u,clearOnEnter:r(t,i,"clearOnEnter"),__isFold:!0});f.on("clear",(function(n,r){e.signal(t,"unfold",t,n,r);})),e.signal(t,"fold",t,c.from,c.to);}}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n});}},e.defineExtension("foldCode",(function(e,n,r){t(this,e,n,r);})),e.defineExtension("isFolded",(function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return !0})),e.commands.toggleFold=function(e){e.foldCode(e.getCursor());},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold");},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold");},e.commands.foldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"fold");}));},e.commands.unfoldAll=function(t){t.operation((function(){for(var n=t.firstLine(),r=t.lastLine();n<=r;n++)t.foldCode(e.Pos(n,0),null,"unfold");}));},e.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}})),e.registerHelper("fold","auto",(function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}}));var n={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function r(e,t,r){if(t&&void 0!==t[r])return t[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:n[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",(function(e,t){return r(this,e,t)}));}(hc);})),Qe((function(e,t){!function(e){var t=e.Pos;function n(e,t){return e.line-t.line||e.ch-t.ch}var r="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+r+"]["+r+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function o(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine();}function s(e,n){var r=e.cm.getTokenTypeAt(t(e.line,n));return r&&/\btag\b/.test(r)}function a(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function l(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function c(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(a(e))continue;return}if(s(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1;}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(s(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t;}}function f(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(a(e))continue;return}if(s(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1;}}function p(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(s(e,t+1)){var n=e.text.lastIndexOf("/",t),r=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t;}}function d(e,n){for(var r=[];;){var i,o=f(e),s=e.line,a=e.ch-(o?o[0].length:0);if(!o||!(i=c(e)))return;if("selfClose"!=i)if(o[1]){for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(l<0&&(!n||n==o[2]))return {tag:o[2],from:t(s,a),to:t(e.line,e.ch)}}else r.push(o[2]);}}function h(e,n){for(var r=[];;){var i=p(e);if(!i)return;if("selfClose"!=i){var o=e.line,s=e.ch,a=u(e);if(!a)return;if(a[1])r.push(a[2]);else {for(var l=r.length-1;l>=0;--l)if(r[l]==a[2]){r.length=l;break}if(l<0&&(!n||n==a[2]))return {tag:a[2],from:t(e.line,e.ch),to:t(o,s)}}}else u(e);}}e.registerHelper("fold","xml",(function(e,r){for(var i=new o(e,r.line,0);;){var s=f(i);if(!s||i.line!=r.line)return;var a=c(i);if(!a)return;if(!s[1]&&"selfClose"!=a){var l=t(i.line,i.ch),u=d(i,s[2]);return u&&n(u.from,l)>0?{from:l,to:u.from}:null}}})),e.findMatchingTag=function(e,r,i){var s=new o(e,r.line,r.ch,i);if(-1!=s.text.indexOf(">")||-1!=s.text.indexOf("<")){var a=c(s),l=a&&t(s.line,s.ch),f=a&&u(s);if(a&&f&&!(n(s,r)>0)){var p={from:t(s.line,s.ch),to:l,tag:f[2]};return "selfClose"==a?{open:p,close:null,at:"open"}:f[1]?{open:h(s,f[2]),close:p,at:"close"}:{open:p,close:d(s=new o(e,l.line,l.ch,i),f[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new o(e,t.line,t.ch,n);;){var s=h(i,r);if(!s)break;var a=d(new o(e,t.line,t.ch,n),s.tag);if(a)return {open:s,close:a}}},e.scanForClosingTag=function(e,t,n,r){return d(new o(e,t.line,t.ch,r?{from:0,to:r}:null),n)};}(hc);})),Qe((function(e,t){!function(e){var t,n,r=e.Pos;function i(e,t){for(var n=function(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}(e),r=n,i=0;i<t.length;i++)-1==r.indexOf(t.charAt(i))&&(r+=t.charAt(i));return n==r?e:new RegExp(e.source,r)}function o(e){return /\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function s(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,a=e.lastLine();o<=a;o++,s=0){t.lastIndex=s;var l=e.getLine(o),c=t.exec(l);if(c)return {from:r(o,c.index),to:r(o,c.index+c[0].length),match:c}}}function a(e,t,n){if(!o(t))return s(e,t,n);t=i(t,"gm");for(var a,l=1,c=n.line,u=e.lastLine();c<=u;){for(var f=0;f<l&&!(c>u);f++){var p=e.getLine(c++);a=null==a?p:a+"\n"+p;}l*=2,t.lastIndex=n.ch;var d=t.exec(a);if(d){var h=a.slice(0,d.index).split("\n"),m=d[0].split("\n"),g=n.line+h.length-1,v=h[h.length-1].length;return {from:r(g,v),to:r(g+m.length-1,1==m.length?v+m[0].length:m[m.length-1].length),match:d}}}}function l(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var s=o.index+o[0].length;if(s>e.length-n)break;(!r||s>r.index+r[0].length)&&(r=o),i=o.index+1;}return r}function c(e,t,n){t=i(t,"g");for(var o=n.line,s=n.ch,a=e.firstLine();o>=a;o--,s=-1){var c=e.getLine(o),u=l(c,t,s<0?0:c.length-s);if(u)return {from:r(o,u.index),to:r(o,u.index+u[0].length),match:u}}}function u(e,t,n){if(!o(t))return c(e,t,n);t=i(t,"gm");for(var s,a=1,u=e.getLine(n.line).length-n.ch,f=n.line,p=e.firstLine();f>=p;){for(var d=0;d<a&&f>=p;d++){var h=e.getLine(f--);s=null==s?h:h+"\n"+s;}a*=2;var m=l(s,t,u);if(m){var g=s.slice(0,m.index).split("\n"),v=m[0].split("\n"),y=f+g.length,b=g[g.length-1].length;return {from:r(y,b),to:r(y+v.length-1,1==v.length?b+v[0].length:v[v.length-1].length),match:m}}}}function f(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var s=i+o>>1,a=r(e.slice(0,s)).length;if(a==n)return s;a>n?o=s:i=s+1;}}function p(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,p=e.lastLine()+1-l.length;c<=p;c++,u=0){var d=e.getLine(c).slice(u),h=a(d);if(1==l.length){var m=h.indexOf(l[0]);if(-1==m)continue e;return o=f(d,h,m,a)+u,{from:r(c,f(d,h,m,a)+u),to:r(c,f(d,h,m+l[0].length,a)+u)}}var g=h.length-l[0].length;if(h.slice(g)==l[0]){for(var v=1;v<l.length-1;v++)if(a(e.getLine(c+v))!=l[v])continue e;var y=e.getLine(c+l.length-1),b=a(y),w=l[l.length-1];if(b.slice(0,w.length)==w)return {from:r(c,f(d,h,g,a)+u),to:r(c+l.length-1,f(y,b,w.length,a))}}}}function d(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,p=e.firstLine()-1+l.length;c>=p;c--,u=-1){var d=e.getLine(c);u>-1&&(d=d.slice(0,u));var h=a(d);if(1==l.length){var m=h.lastIndexOf(l[0]);if(-1==m)continue e;return {from:r(c,f(d,h,m,a)),to:r(c,f(d,h,m+l[0].length,a))}}var g=l[l.length-1];if(h.slice(0,g.length)==g){var v=1;for(o=c-l.length+1;v<l.length-1;v++)if(a(e.getLine(o+v))!=l[v])continue e;var y=e.getLine(c+1-l.length),b=a(y);if(b.slice(b.length-l[0].length)==l[0])return {from:r(c+1-l.length,f(y,b,y.length-l[0].length,a)),to:r(c,f(d,h,g.length,a))}}}}function h(e,t,n,o){var l;this.atOccurrence=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof o?l=o.caseFold:(l=o,o=null),"string"==typeof t?(null==l&&(l=!1),this.matches=function(n,r){return (n?d:p)(e,t,r,l)}):(t=i(t,"gm"),o&&!1===o.multiline?this.matches=function(n,r){return (n?c:s)(e,t,r)}:this.matches=function(n,r){return (n?u:a)(e,t,r)});}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),h.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){for(var n=this.matches(t,this.doc.clipPos(t?this.pos.from:this.pos.to));n&&0==e.cmpPos(n.from,n.to);)t?n.from.ch?n.from=r(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(t,this.doc.clipPos(r(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=r(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(t,r(n.to.line+1,0));if(n)return this.pos=n,this.atOccurrence=!0,this.pos.match||!0;var i=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:i,to:i},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0));}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new h(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new h(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0);}));}(hc);})),Qe((function(e,t){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=e.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var a=e.getLineHandle(t.line),l=t.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var u=i(o),f=!c&&l>=0&&u.test(a.text.charAt(l))&&r[a.text.charAt(l)]||u.test(a.text.charAt(l+1))&&r[a.text.charAt(++l)];if(!f)return null;var p=">"==f.charAt(1)?1:-1;if(o&&o.strict&&p>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(n(t.line,l+1)),h=s(e,n(t.line,l+(p>0?1:0)),p,d||null,o);return null==h?null:{from:n(t.line,l),to:h&&h.pos,match:h&&h.ch==f.charAt(0),forward:p>0}}function s(e,t,o,s,a){for(var l=a&&a.maxScanLineLength||1e4,c=a&&a.maxScanLines||1e3,u=[],f=i(a),p=o>0?Math.min(t.line+c,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-c),d=t.line;d!=p;d+=o){var h=e.getLine(d);if(h){var m=o>0?0:h.length-1,g=o>0?h.length:-1;if(!(h.length>l))for(d==t.line&&(m=t.ch-(o<0?1:0));m!=g;m+=o){var v=h.charAt(m);if(f.test(v)&&(void 0===s||e.getTokenTypeAt(n(d,m+1))==s)){var y=r[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else {if(!u.length)return {pos:n(d,m),ch:v};u.pop();}}}}}return d-o!=(o>0?e.lastLine():e.firstLine())&&null}function a(e,r,i){for(var s=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&o(e,l[c].head,i);if(u&&e.getLine(u.from.line).length<=s){var f=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,n(u.from.line,u.from.ch+1),{className:f})),u.to&&e.getLine(u.to.line).length<=s&&a.push(e.markText(u.to,n(u.to.line,u.to.ch+1),{className:f}));}}if(a.length){t&&e.state.focused&&e.focus();var p=function(){e.operation((function(){for(var e=0;e<a.length;e++)a[e].clear();}));};if(!r)return p;setTimeout(p,800);}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=a(e,!1,e.state.matchBrackets);}));}e.defineOption("matchBrackets",!1,(function(t,n,r){function i(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null);}r&&r!=e.Init&&(t.off("cursorActivity",l),t.off("focus",l),t.off("blur",i),i(t)),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",l),t.on("focus",l),t.on("blur",i));})),e.defineExtension("matchBrackets",(function(){a(this,!0);})),e.defineExtension("findMatchingBracket",(function(e,t,n){return (n||"boolean"==typeof t)&&(n?(n.strict=t,t=n):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,n,r){return s(this,e,t,n,r)}));}(hc);})),Qe((function(e,t){!function(e){var t=e.commands,n=e.Pos;function r(t,r){t.extendSelectionsBy((function(i){return t.display.shift||t.doc.extend||i.empty()?function(t,r,i){if(i<0&&0==r.ch)return t.clipPos(n(r.line-1));var o=t.getLine(r.line);if(i>0&&r.ch>=o.length)return t.clipPos(n(r.line+1,0));for(var s,a="start",l=r.ch,c=l,u=i<0?0:o.length,f=0;c!=u;c+=i,f++){var p=o.charAt(i<0?c-1:c),d="_"!=p&&e.isWordChar(p)?"w":"o";if("w"==d&&p.toUpperCase()==p&&(d="W"),"start"==a)"o"!=d?(a="in",s=d):l=c+i;else if("in"==a&&s!=d){if("w"==s&&"W"==d&&i<0&&c--,"W"==s&&"w"==d&&i>0){if(c==l+1){s="w";continue}c--;}break}}return n(r.line,c)}(t.doc,i.head,r):r<0?i.from():i.to()}));}function i(t,r){if(t.isReadOnly())return e.Pass;t.operation((function(){for(var e=t.listSelections().length,i=[],o=-1,s=0;s<e;s++){var a=t.listSelections()[s].head;if(!(a.line<=o)){var l=n(a.line+(r?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),i.push({head:l,anchor:l}),o=a.line+1;}}t.setSelections(i);})),t.execCommand("indentAuto");}function o(t,r){for(var i=r.ch,o=i,s=t.getLine(r.line);i&&e.isWordChar(s.charAt(i-1));)--i;for(;o<s.length&&e.isWordChar(s.charAt(o));)++o;return {from:n(r.line,i),to:n(r.line,o),word:s.slice(i,o)}}function s(e,t){for(var n=e.listSelections(),r=[],i=0;i<n.length;i++){var o=n[i],s=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),a=e.findPosV(o.head,t,"line",o.head.goalColumn);s.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,a.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var l={anchor:s,head:a};r.push(o),r.push(l);}e.setSelections(r);}function a(t){for(var r=t.listSelections(),i=[],o=0;o<r.length;o++){var s=r[o],a=s.head,l=t.scanForBracket(a,-1);if(!l)return !1;for(;;){var c=t.scanForBracket(a,1);if(!c)return !1;if(c.ch=="(){}[]".charAt("(){}[]".indexOf(l.ch)+1)){var u=n(l.pos.line,l.pos.ch+1);if(0!=e.cmpPos(u,s.from())||0!=e.cmpPos(c.pos,s.to())){i.push({anchor:u,head:c.pos});break}if(!(l=t.scanForBracket(l.pos,-1)))return !1}a=n(c.pos.line,c.pos.ch+1);}}return t.setSelections(i),!0}function l(e){return e?/\bpunctuation\b/.test(e)?e:void 0:null}function c(t,r){if(t.isReadOnly())return e.Pass;for(var i,o=t.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a];if(!l.empty()){for(var c=l.from().line,u=l.to().line;a<o.length-1&&o[a+1].from().line==u;)u=o[++a].to().line;o[a].to().ch||u--,s.push(c,u);}}s.length?i=!0:s.push(t.firstLine(),t.lastLine()),t.operation((function(){for(var e=[],o=0;o<s.length;o+=2){var a=s[o],l=s[o+1],c=n(a,0),u=n(l),f=t.getRange(c,u,!1);r?f.sort():f.sort((function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),e<t?-1:e==t?0:1})),t.replaceRange(f,c,u),i&&e.push({anchor:c,head:n(l+1,0)});}i&&t.setSelections(e,0);}));}function u(t,n){t.operation((function(){for(var r=t.listSelections(),i=[],s=[],a=0;a<r.length;a++)(c=r[a]).empty()?(i.push(a),s.push("")):s.push(n(t.getRange(c.from(),c.to())));var l;for(t.replaceSelections(s,"around","case"),a=i.length-1;a>=0;a--){var c=r[i[a]];if(!(l&&e.cmpPos(c.head,l)>0)){var u=o(t,c.head);l=u.from,t.replaceRange(n(u.word),u.from,u.to);}}}));}function f(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var i=o(t,n);if(!i.word)return;n=i.from,r=i.to;}return {from:n,to:r,query:t.getRange(n,r),word:i}}function p(e,t){var r=f(e);if(r){var i=r.query,o=e.getSearchCursor(i,t?r.to:r.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?n(e.firstLine(),0):e.clipPos(n(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):r.word&&e.setSelection(r.from,r.to));}}t.goSubwordLeft=function(e){r(e,-1);},t.goSubwordRight=function(e){r(e,1);},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp");}e.scrollTo(null,t.top-e.defaultTextHeight());},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown");}e.scrollTo(null,t.top+e.defaultTextHeight());},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)for(var o=t[i].from(),s=t[i].to(),a=o.line;a<=s.line;++a)s.line>o.line&&a==s.line&&0==s.ch||r.push({anchor:a==o.line?o:n(a,0),head:a==s.line?s:n(a)});e.setSelections(r,0);},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1});},t.selectLine=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){var o=t[i];r.push({anchor:n(o.from().line,0),head:n(o.to().line+1,0)});}e.setSelections(r);},t.insertLineAfter=function(e){return i(e,!1)},t.insertLineBefore=function(e){return i(e,!0)},t.selectNextOccurrence=function(t){var r=t.getCursor("from"),i=t.getCursor("to"),s=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(r,i)){var a=o(t,r);if(!a.word)return;t.setSelection(a.from,a.to),s=!0;}else {var l=t.getRange(r,i),c=s?new RegExp("\\b"+l+"\\b"):l,u=t.getSearchCursor(c,i),f=u.findNext();if(f||(f=(u=t.getSearchCursor(c,n(t.firstLine(),0))).findNext()),!f||function(t,n,r){for(var i=0;i<t.length;i++)if(0==e.cmpPos(t[i].from(),n)&&0==e.cmpPos(t[i].to(),r))return !0;return !1}(t.listSelections(),u.from(),u.to()))return;t.addSelection(u.from(),u.to());}s&&(t.state.sublimeFindFullWord=t.doc.sel);},t.skipAndSelectNextOccurrence=function(n){var r=n.getCursor("anchor"),i=n.getCursor("head");t.selectNextOccurrence(n),0!=e.cmpPos(r,i)&&n.doc.setSelections(n.doc.listSelections().filter((function(e){return e.anchor!=r||e.head!=i})));},t.addCursorToPrevLine=function(e){s(e,-1);},t.addCursorToNextLine=function(e){s(e,1);},t.selectScope=function(e){a(e)||e.execCommand("selectAll");},t.selectBetweenBrackets=function(t){if(!a(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy((function(r){var i=t.scanForBracket(r.head,1,l(t.getTokenTypeAt(r.head)));if(i&&0!=e.cmpPos(i.pos,r.head))return i.pos;var o=t.scanForBracket(r.head,-1,l(t.getTokenTypeAt(n(r.head.line,r.head.ch+1))));return o&&n(o.pos.line,o.pos.ch+1)||r.head}));},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.firstLine()-1,s=[],a=0;a<r.length;a++){var l=r[a],c=l.from().line-1,u=l.to().line;s.push({anchor:n(l.anchor.line-1,l.anchor.ch),head:n(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--u,c>o?i.push(c,u):i.length&&(i[i.length-1]=u),o=u;}t.operation((function(){for(var e=0;e<i.length;e+=2){var r=i[e],o=i[e+1],a=t.getLine(r);t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+a,n(t.lastLine()),null,"+swapLine"):t.replaceRange(a+"\n",n(o,0),null,"+swapLine");}t.setSelections(s),t.scrollIntoView();}));},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var r=t.listSelections(),i=[],o=t.lastLine()+1,s=r.length-1;s>=0;s--){var a=r[s],l=a.to().line+1,c=a.from().line;0!=a.to().ch||a.empty()||l--,l<o?i.push(l,c):i.length&&(i[i.length-1]=c),o=c;}t.operation((function(){for(var e=i.length-2;e>=0;e-=2){var r=i[e],o=i[e+1],s=t.getLine(r);r==t.lastLine()?t.replaceRange("",n(r-1),n(r),"+swapLine"):t.replaceRange("",n(r,0),n(r+1,0),"+swapLine"),t.replaceRange(s+"\n",n(o,0),null,"+swapLine");}t.scrollIntoView();}));},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0});},t.joinLines=function(e){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++){for(var o=t[i],s=o.from(),a=s.line,l=o.to().line;i<t.length-1&&t[i+1].from().line==l;)l=t[++i].to().line;r.push({start:a,end:l,anchor:!o.empty()&&s});}e.operation((function(){for(var t=0,i=[],o=0;o<r.length;o++){for(var s,a=r[o],l=a.anchor&&n(a.anchor.line-t,a.anchor.ch),c=a.start;c<=a.end;c++){var u=c-t;c==a.end&&(s=n(u,e.getLine(u).length+1)),u<e.lastLine()&&(e.replaceRange(" ",n(u),n(u+1,/^\s*/.exec(e.getLine(u+1))[0].length)),++t);}i.push({anchor:l||s,head:s});}e.setSelections(i,0);}));},t.duplicateLine=function(e){e.operation((function(){for(var t=e.listSelections().length,r=0;r<t;r++){var i=e.listSelections()[r];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",n(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from());}e.scrollIntoView();}));},t.sortLines=function(e){c(e,!0);},t.sortLinesInsensitive=function(e){c(e,!1);},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop();}},t.toggleBookmark=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),s=t[r].empty()?e.findMarksAt(i):e.findMarks(i,o),a=0;a<s.length;a++)if(s[a].sublimeBookmark){s[a].clear();for(var l=0;l<n.length;l++)n[l]==s[a]&&n.splice(l--,1);break}a==s.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}));}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0;},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0);}n.length&&e.setSelections(n,0);},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation((function(){for(var r=t.listSelections(),i=t.getOption("indentUnit"),o=r.length-1;o>=0;o--){var s=r[o].head,a=t.getRange({line:s.line,ch:0},s),l=e.countColumn(a,null,t.getOption("tabSize")),c=t.findPosH(s,-1,"char",!1);if(a&&!/\S/.test(a)&&l%i==0){var u=new n(s.line,e.findColumn(a,l-i,i));u.ch!=s.ch&&(c=u);}t.replaceRange("",c,s,"+delete");}}));},t.delLineRight=function(e){e.operation((function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange("",t[r].anchor,n(t[r].to().line),"+delete");e.scrollIntoView();}));},t.upcaseAtCursor=function(e){u(e,(function(e){return e.toUpperCase()}));},t.downcaseAtCursor=function(e){u(e,(function(e){return e.toLowerCase()}));},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor());},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t);},t.deleteToSublimeMark=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o;}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i);}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t));},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste");},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2);},t.findUnder=function(e){p(e,!0);},t.findUnderPrevious=function(e){p(e,!1);},t.findAllUnder=function(e){var t=f(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i);}};var d=e.keyMap;d.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Cmd-F5":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(d.macSublime),d.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Ctrl-F9":"sortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(d.pcSublime);var h=d.default==d.macDefault;d.sublime=h?d.macSublime:d.pcSublime;}(hc);}));function Cv(t){let n,r,i,o,s;return {c(){n=M("a"),r=M("i"),i=T(),o=M("span"),o.textContent="Docs",L(r,"class","fas fa-external-link-alt mr-1"),L(n,"target","blank"),L(n,"href",t[1]),L(n,"class","z-10 text-xs pointer-events-auto flex items-center absolute bottom-0 right-0 h-auto text-gray-100 py-1 px-3 m-1 bg-gray-900 hover:bg-primored transition-colors duration-200");},m(e,t){$(e,n,t),k(n,r),k(n,i),k(n,o);},p(e,t){2&t&&L(n,"href",e[1]);},i(e){s||le(()=>{s=Se(n,No,{duration:200}),s.start();});},o:e,d(e){e&&S(n);}}}function Mv(t){let n,r,i,o,s=t[1]&&Cv(t);return {c(){n=M("div"),r=M("div"),o=T(),s&&s.c(),L(n,"class","codemirror-container"),L(n,"style",t[0]);},m(e,i){$(e,n,i),k(n,r),t[8](r),k(n,o),s&&s.m(n,null);},p(e,[t]){e[1]?s?(s.p(e,t),2&t&&xe(s,1)):(s=Cv(e),s.c(),xe(s,1),s.m(n,null)):s&&(s.d(1),s=null),1&t&&L(n,"style",e[0]);},i(e){i||le(()=>{i=Se(r,No,{duration:200}),i.start();}),xe(s);},o:e,d(e){e&&S(n),t[8](null),s&&s.d();}}}function Ov(e,t,n){kv(hc);const r=Z();let{prefix:i=""}=t,{value:o=""}=t,{mode:s={name:"handlebars",base:"text/html"}}=t,{disabled:a=!1}=t,{style:l=""}=t,{CodeMirrorOptions:c={}}=t,{docs:u=null}=t;var f;let p;return X(()=>{n(9,f=hc(p,{value:i+o,mode:s,readOnly:a,...c,theme:"vscode-dark",lineNumbers:!0,gutter:!0,indentUnit:4,smartIndent:!1,styleActiveLine:{nonEmpty:!0},styleActiveSelected:!0,keyMap:"sublime",extraKeys:{Tab:"emmetExpandAbbreviation",Esc:"emmetResetAbbreviation",Enter:"emmetInsertLineBreak"},emmet:{previewOpenTag:!1}})),setTimeout(()=>{f.refresh();},500),f.on("change",()=>{const e=f.doc.getValue();n(3,o=e.replace(i,"")),r("change");}),f.on("gutterClick",(function(e,t){console.log(e,t),e.foldCode(t,hc.tagRangeFinder);}));}),e.$set=e=>{"prefix"in e&&n(4,i=e.prefix),"value"in e&&n(3,o=e.value),"mode"in e&&n(5,s=e.mode),"disabled"in e&&n(6,a=e.disabled),"style"in e&&n(0,l=e.style),"CodeMirrorOptions"in e&&n(7,c=e.CodeMirrorOptions),"docs"in e&&n(1,u=e.docs);},e.$$.update=()=>{600&e.$$.dirty&&f&&(i+o!==f.doc.getValue()&&f.getDoc().setValue(i+o),f.setOption("readOnly",a));},[l,u,p,o,i,s,a,c,function(e){re[e?"unshift":"push"](()=>{p=e,n(2,p);});}]}class Tv extends Ie{constructor(e){super(),je(this,e,Ov,Mv,a,{prefix:4,value:3,mode:5,disabled:6,style:0,CodeMirrorOptions:7,docs:1});}}var _v=Object.freeze({__proto__:null,buttons:dc,inputs:Ra,misc:Ns,CodeMirror:Tv});const Pv=ri([]);let Iv;Pv.subscribe(e=>{Iv=e;});const zv={reload:async()=>Iv,add:e=>{Pv.set([e,...Iv]);},place:e=>{_i.some(Iv,["id",e.id])?zv.modify(e):zv.add(e),Bv.save({symbols:Iv});},modify:e=>{const t=Iv.map(t=>t.id===e.id?e:t);Pv.set(t);},remove:e=>{const t=Iv.filter(t=>t.id!==e);Pv.set(t);},get:e=>_i.find(Iv,["id",e]),subscribe:Pv.subscribe,set:Pv.set};let Rv;const Fv=ri({pages:[{id:ek(),title:"New Page",content:[{id:ek(),width:"contained",columns:[{id:ek(),size:"w-full",rows:[{id:ek(),type:"content",value:{html:"<p><br></p>"}}]}]}],styles:{raw:"",final:"",tailwind:"{  theme: {    container: {      center: true    }  },  variants: {}}"},dependencies:{headEmbed:"",libraries:[]},settings:{javascript:"",identity:{title:"",url:"",description:""}},wrapper:{raw:{head:"",above:"",below:""},final:{head:"",above:"",below:""}},fields:[]}],fields:[],styles:{raw:"/* Default content styles */\n.primo-content {\n  @apply text-lg;\n  h1 {\n    @apply text-3xl font-medium;\n  }\n  h2 {\n    @apply text-2xl font-medium;\n  }\n  ul {\n    @apply list-disc list-inside;\n    p {\n        @apply inline;\n    }\n  } \n  ol {\n    @apply list-decimal list-inside;\n  } \n  a {\n    @apply text-blue-600 underline;\n  }\n  blockquote {\n      @apply shadow-md p-6;\n  }\n  mark {\n    @apply text-gray-900 bg-yellow-200;\n  }\n  \n  @screen lg {\n    h1 {\n      @apply text-5xl;\n    }\n    h2 {\n      @apply text-4xl;\n    }\n  }\n}",final:"",tailwind:go},wrapper:{raw:{head:"",above:"",below:""},final:{head:"",above:"",below:""}},symbols:[]});Fv.subscribe(e=>{Rv=e,e&&zv&&zv.set(e.symbols);});var Bv={subscribe:Fv.subscribe,update:Fv.update,fields:{save:e=>{Fv.update(t=>({...t,fields:e}));}},pages:{add:e=>{Fv.update(t=>({...t,pages:[...t.pages,e]}));},remove:e=>{Fv.update(t=>({...t,pages:t.pages.filter(t=>t.id!==e)}));},modify:e=>{Fv.update(t=>({...t,pages:t.pages.map(t=>t.id===e.id?e:t)}));},hydrateComponents:async()=>{const e=await Promise.all(Rv.pages.map(async e=>{const t=await fk(e.content);return {...e,content:t}}));Fv.update(t=>({...t,pages:e}));}},saveNav:async e=>{const{pageId:t}=c(Mo);await async function(e){Fv.update(t=>({...t,data:e}));}({navItems:e}),await Promise.all([Vv(),Wv(),Hv(t)]);},saveStyles:async e=>{Fv.update(t=>({...t,styles:e}));},savePageSettings:e=>{const{pageId:t}=c(Mo);Fv.update(n=>({...n,pages:n.pages.map(n=>n.id===t?{...n,settings:e}:n)}));},save:(e={})=>{Fv.update(t=>({...t,...e}));},saveContent:e=>{const{page:t}=c(Mo);Fv.update(n=>({...n,pages:n.pages.map(n=>n.id===t?{...n,content:e}:n)}));}};async function Wv(){const e=await fk(c(Cx));Cx.set(e);}async function Hv(e=null){await async function(e=null){}(e);}async function Vv(){await Promise.all(components.map(async e=>await pk(e)));}var vx=Qe((function(e){!function(t,n,r){if(t){for(var i,o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c=1;c<20;++c)o[111+c]="f"+c;for(c=0;c<=9;++c)o[c+96]=c.toString();m.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},m.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},m.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},m.prototype.reset=function(){return this._callbacks={},this._directMap={},this},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return !1;if(function e(t,r){return null!==t&&t!==n&&(t===r||e(t.parentNode,r))}(t,this.target))return !1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r);}return "INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);i=null;},m.init=function(){var e=m(n);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));},m.init(),t.Mousetrap=m,e.exports&&(e.exports=m);}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n);}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return o[e.which]?o[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return "shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function d(e,t,n){return n||(n=function(){if(!i)for(var e in i={},o)e>95&&e<112||o.hasOwnProperty(e)&&(i[o[e]]=e);return i}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function h(e,t){var n,r,i,o=[];for(n=function(e){return "+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],l[r]&&(r=l[r]),t&&"keypress"!=t&&a[r]&&(r=a[r],o.push("shift")),p(r)&&o.push(r);return {key:r,modifiers:o,action:t=d(r,o,t)}}function m(e){var t=this;if(e=e||n,!(t instanceof m))return new m(e);t.target=e,t._callbacks={},t._directMap={};var r,i={},o=!1,s=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(a=!1);}function c(e,n,r,o,s,a){var l,c,u,f,d=[],h=r.type;if(!t._callbacks[e])return [];for("keyup"==h&&p(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(o||!c.seq||i[c.seq]==c.level)&&h==c.action&&("keypress"==h&&!r.metaKey&&!r.ctrlKey||(u=n,f=c.modifiers,u.sort().join(",")===f.sort().join(",")))){var m=!o&&c.combo==s,g=o&&c.seq==o&&c.level==a;(m||g)&&t._callbacks[e].splice(l,1),d.push(c);}return d}function d(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;}(n));}function g(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1);}function v(e,t,n,s){function c(t){return function(){a=t,++i[e],clearTimeout(r),r=setTimeout(l,1e3);}}function u(t){d(n,t,e),"keyup"!==s&&(o=f(t)),setTimeout(l,10);}i[e]=0;for(var p=0;p<t.length;++p){var m=p+1===t.length?u:c(s||h(t[p+1]).action);y(t[p],m,s,e,p);}}function y(e,n,r,i,o){t._directMap[e+":"+r]=n;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?v(e,a,n,r):(s=h(e,r),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},i,e,o),t._callbacks[s.key][i?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:i,level:o,combo:e}));}t._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},u=0,f=!1;for(r=0;r<i.length;++r)i[r].seq&&(u=Math.max(u,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=u)continue;f=!0,o[i[r].seq]=1,d(i[r].callback,n,i[r].combo,i[r].seq);}else f||d(i[r].callback,n,i[r].combo);var h="keypress"==n.type&&s;n.type!=a||p(e)||h||l(o),s=f&&"keydown"==n.type;},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)y(e[r],t,n);},u(e,"keypress",g),u(e,"keydown",g),u(e,"keyup",g);}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null);}));let $x=[];const Sx=ri([{id:ek(),width:"contained",columns:[{id:ek(),size:"w-full",rows:[Ox()]}]}]);Sx.subscribe(e=>{$x=e;});var Cx={save:()=>{Ex.save("content",$x);},refresh:async()=>{console.log("TODO: refresh page content");},hydrateComponents:async()=>{const e=await fk($x);Sx.set(e),Ex.save("content",e);},insertContentRow:function(e,t,n="above"){function r(e,t,n,r){return "above"===r?[...e.slice(0,n),t,...e.slice(n)]:[...e.slice(0,n+1),t,...e.slice(n+1)]}Sx.update(i=>i.map(i=>({...i,columns:i.columns.map(i=>({...i,rows:_i.some(i.rows,["id",e])?r(i.rows,Ox(),t,n):i.rows}))})));},saveRow:e=>{!function(e){const t=_i.flattenDeep(c(Sx).map(e=>e.columns.map(e=>e.rows)));return _i.find(t,["id",e])}(e.id)?function(e){const t=c(To).id;if(t)Sx.update(r=>r.map(r=>({...r,columns:r.columns.map(r=>({...r,rows:_i.some(r.rows,["id",t])?n(r.rows,e):r.rows}))})));else if($x.length>0){const t=c(Sx).slice(-1)[0],n=t.columns.slice(-1)[0];Sx.update(r=>r.map(r=>r.id===t.id?{...r,columns:r.columns.map(t=>t.id===n.id?{...t,rows:[...t.rows,e]}:t)}:r));}function n(e,t){const n=c(To).position,r=c(To).selection;return 0===n?0===r?(console.log("add component above first item"),[t,...e]):(console.log("add component below first item",[...e.slice(0,1),t,...e.slice(1)]),[...e.slice(0,1),t,...e.slice(1)]):n>0?(console.log("add component to somewhere in the row list"),0===r?(console.log("add component above given item"),[...e.slice(0,n),t,...e.slice(n)]):(console.log("add component below given item"),[...e.slice(0,n+1),t,...e.slice(n+1)])):void console.error("Could not position new component")}}(e):Mx(e.id,e);},deleteRow:(e,t=!1)=>{Mx(e,t?Ox():null);},updateInstances:async e=>{const t=await Qx(e,c(Sx));Sx.set(t);},insertSection:function(e,t){const n=c(To).path.section,r=Tx({width:e.fullwidth?"fullwidth":"contained",columns:e.columns.map(e=>({id:ek(),size:e,rows:[Ox()]}))});if(n){const e=c(Sx),t=_i.findIndex(e,["id",n.id]),i=[...e.slice(0,t+1),r,...e.slice(t+1)];Sx.set(i);}else Sx.update(e=>[...e,r]);},deleteSection:e=>{Sx.update(t=>t.filter(t=>t.id!==e));},subscribe:Sx.subscribe,set:Sx.set};function Mx(e,t){Sx.update(n=>n.map(n=>({...n,columns:n.columns.map(n=>({...n,rows:n.rows.map(n=>n.id===e?null===t?t:{...n,...t}:n).filter(e=>e)}))})));}function Ox(){return {id:ek(),type:"content",value:{html:""}}}const Tx=(e={})=>({id:ek(),width:"contained",columns:[{id:ek(),size:"",rows:[Ox()]}],...e}),_x=ri(null);let Ax;_x.subscribe(e=>{const t=_i.find(c(Bv).pages,["id",e||"index"]);t&&Ex&&Ex.update(e=>({...e,...t}));});const Nx=ri({id:"",title:"",content:[],dependencies:{headEmbed:"",libraries:[]},styles:{raw:"",final:"",tailwind:""},wrapper:{raw:{head:"",above:"",below:""},final:{head:"",above:"",below:""}},fields:[]});Nx.subscribe(e=>{Ax=e,e&&Bv&&Bv.pages.modify(e),e&&Cx&&Cx.set(e.content);});var Ex={save:(e,t)=>{Nx.update(n=>({...n,[e]:t}));},saveStyles:e=>{Nx.update(t=>({...t,styles:e}));},hydrateWrapper:async()=>{const{head:e,above:t,below:n}=Ax.wrapper.raw,r=dk(),i=await Gx(r,"all"),[o,s,a]=await Promise.all([Jx(e,i),Jx(t,i),Jx(n,i)]),l={...Ax.wrapper,final:{head:o,above:s,below:a}};Nx.update(e=>({...e,wrapper:l}));},subscribe:Nx.subscribe,set:Nx.set,update:Nx.update};let Lx;ri([]).subscribe(e=>{Lx=e,Bv.update(e=>({...e,symbols:Lx}));});const Dx=Ms._;Dx.on=function(e,t){t||(t=e,e="");var n=this;return window.addEventListener("storage",t[e+"-listener"]=function(r){var i=n._out(r.key);if(i&&(i===e||!e&&"_-bad-_"!==i)&&(!r.storageArea||r.storageArea===n._area))return t.call(n,Dx.event.call(n,i,r))},!1),this},Dx.off=function(e,t){return t||(t=e,e=""),window.removeEventListener("storage",t[e+"-listener"]),this},Dx.once=function(e,t){t||(t=e,e="");var n,r=this;return r.on(e,n=function(){return r.off(e,n),t.apply(this,arguments)})},Dx.event=function(e,t){var n={key:e,namespace:this.namespace(),newValue:Dx.parse(t.newValue),oldValue:Dx.parse(t.oldValue),url:t.url||t.uri,storageArea:t.storageArea,source:t.source,timeStamp:t.timeStamp,originalEvent:t};if(Dx.cache){var r=Dx.expires(t.newValue||t.oldValue);r&&(n.expires=Dx.when(r));}return n};var jx=window.addEventListener?null:function(){};Dx.fn("on",jx||Dx.on),Dx.fn("off",jx||Dx.off),Dx.fn("once",jx||Dx.once),Ms._=Dx;ii([Bv,ko],([e,t])=>{const{tailwind:n}=e.styles,{tailwind:r}=t.styles,i=new Function("return "+n)(),o=new Function("return "+r)();return Object.assign(i,o)});const Px=ri(Ms.get("tailwind")),Ix=ri(!1);var zx={subscribe:Px.subscribe,setInitial:async()=>{const e=Ms.get("tailwind");"string"==typeof e&&Px.set(e),await Fx();},reload:async()=>{await Fx();},swapInConfig:_i.debounce(async(e,t)=>{const n=await Bx(e);t(),Wx(n);},1e3),swapOutConfig:()=>{Wx(c(Px));},saveSwappedInConfig:()=>{const e=Ms.get("tailwind");Px.set(e);},getCombinedConfig:e=>{let t={},n={};try{return t=new Function("return "+c(Bv).styles.tailwind)(),n=new Function("return "+e)(),_i.merge(t,n)}catch(e){return console.error(e),{}}}};let Rx=0;async function Fx(){Ix.set(!0);const e=Hx(c(Ex).styles.tailwind);Rx++;const t=Rx,n=await Bx(e);t===Rx&&(Ix.set(!1),Px.set(n),Wx(n));}async function Bx(e){return await rk("","",{tailwindConfig:JSON.stringify(e),includeBase:!0,includeTailwind:!0,purge:!1})}function Wx(e){Ms.clearAll(),Ms.set("tailwind",e);}function Hx(e){let t,n;try{const r=c(Bv).styles.tailwind;return t=new Function("return "+r)(),n=new Function("return "+e)(),_i.merge(t,n)}catch(e){return console.error(e),{}}}const Vx=ri(vo());var qx={subscribe:Vx.subscribe,update:Vx.update,set:e=>{if("object"==typeof e)return Vx.update(t=>vo({...t,...e}));console.error("User store arguments must be object, received:",e);}};const Ux=e=>c(Mo).onDev?"http://localhost:9000/primo-d4041/us-central1/"+e:"https://us-central1-primo-d4041.cloudfunctions.net/"+e,Kx={async post(e,t,n=(()=>{})){try{let{data:n}=await mo.post(Ux(e),t);return n}catch(e){return console.error(e),n(e),{}}},async get(e){try{return await mo.get(Ux(e))}catch(e){return console.error(e),e}}};async function Jx(e,t){return wo.compile(e)(t)}async function Gx(e,t="static"){let n=e.filter(e=>"js"!==e.type).map(e=>({key:e.key,value:"number"===e.type?parseInt(e.value):e.value})).reduce((e,t)=>(e[t.key]=t.value,e),{});var r=await Promise.all(e.map(async e=>{if("api"!==e.type||"api"!==t&&"all"!==t)if("js"!==e.type||"js"!==t&&"all"!==t)"group"===e.type&&e.fields&&(e.value=_i.chain(e.fields).keyBy("key").mapValues("value").value());else {let t;try{t=Function("fields",e.code)(n);}catch(e){console.error(e);}n={...n,[e.key]:t},e.value=t;}else {let t;try{t=(await mo.get(e.endpoint)).data;}catch(e){console.error(e);}const n="object"==typeof t&&e.endpointPath?bo.get(t,e.endpointPath||JSON.stringify(t)):t;e.value=n,console.log({"API Endpoint Accessed":e.endpoint,"Endpoint Path":e.endpointPath,"Raw data":t,"Final result":n});}return e}));return _i.chain(r).keyBy("key").mapValues("value").value()}function Yx(e){let t=[];return [e.map(e=>{const n=ek();return t.push([e.id,n]),{...e,id:n,columns:e.columns.map(e=>{const n=ek();return t.push([e.id,n]),{...e,id:n,rows:e.rows.map(e=>{const n=ek();return t.push([e.id,n]),{...e,id:n}})}})}}),t]}function Xx(e){return _i.debounce(e=>{const[t,n]=e;t(n);},e)}function Zx(e){const t=ek(),n=e.value.final.css.replace(RegExp(""+e.id,"g"),""+t);return {type:"component",id:t,symbolID:e.id,value:{...e.value,final:{...e.value.final,css:n}}}}async function Qx(e,t){return Promise.all(t.map(async t=>({...t,columns:await Promise.all(t.columns.map(async t=>({...t,rows:await Promise.all(t.rows.map(async t=>{if("component"!==t.type||t.symbolID!==e.id)return t;const n=_i.cloneDeep(e.value.raw.fields),r=t.value.raw.fields,i=_i.unionBy(n,r,"id");r.forEach(e=>{let t=_i.findIndex(i,["id",e.id]);i[t].value=e.value;});const o=dk(t),s=await Gx(o,"all"),a=e.value.raw.html,l=await Jx(a,s),c=e.value.final.css.replace(RegExp(""+e.id,"g"),""+t.id);return {...t,value:{...t.value,raw:{...t.value.raw,fields:i,css:e.value.raw.css,js:e.value.raw.js,html:a},final:{...e.value.final,css:c,html:l,js:e.value.final.js}}}}))})))})))}function ek(){return (new yo).randomUUID(5).toLowerCase()}function tk(e,t){return `<div id="component-${e.id}">${e.value.final.html}</div><style>${t}${e.value.final.css}</style><script>${e.value.final.js}<\/script>`}function nk(e,t=null){return `<style type="text/css" ${t?`id = "${t}"`:""}>${e}</style>`}async function rk(e,t,n={}){try{const r=await processPostCSS(e,t,n);return r.error?(console.error(r.error),""):r}catch(e){console.error(e);}}function ik(e){return _i.flattenDeep(e.map(e=>e.columns.map(e=>e.rows.filter(e=>"component"===e.type).map(e=>e.value.final.css)))).join("\n\n")}function ok(e){return e.map(e=>ak(e.content))}async function sk(e,t=!1){let n="";e.forEach(e=>{n+=`<section id="section-${e.id}">\n\t<div class="columns flex flex-wrap ${"contained"===e.width?"container":""}">\n`,e.columns.forEach(e=>{n+=`\t\t<div class="column ${e.size}" id="column-${e.id}">\n`,e.rows.forEach(e=>{n+="component"===e.type?`\t\t\t<div class="primo-component">\n\t\t\t\t<div id="component-${e.id}" class="w-full">${e.value.final.html}</div>\n\t\t\t\t<script>${e.value.final.js}<\/script>\n\t\t\t</div>\n`:`\t\t\t<div class="primo-content">\n\t\t\t\t${e.value.html}\n\t\t\t</div>\n`;}),n+="\t\t</div>\n";}),n+="\t</div>\n</section>\n";});return n=n.replace(/href=(['"])\/([\S]+)(\1)[^>\s]*/g,"href='/$2.html'"),t?await(async e=>`\n    <!doctype html>\n\n    <html lang="en">\n    <head>\n      <meta charset="utf-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <link rel="stylesheet" type="text/css" href="./styles.css" />\n      <link rel="stylesheet" type="text/css" href="./${c(Mo).page||"index"}.css" />\n      <script src="./${c(Mo).page||"index"}.js"><\/script>\n      ${c(Ex).dependencies.libraries.length>0?`<script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.1/system.min.js" integrity="sha256-15j2fw0zp8UuYXmubFHW7ScK/xr5NhxkxmJcp7T3Lrc=" crossorigin="anonymous"><\/script>\n          <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/use-default.min.js" integrity="sha256-uVDULWwA/sIHxnO31dK8ThAuK46MrPmrVn+JXlMXc5A=" crossorigin="anonymous"><\/script>\n          <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/amd.min.js" integrity="sha256-7vS4pPsg7zx1oTAJ1zQIr2lDg/q8anzUCcz6nxuaKhU=" crossorigin="anonymous"><\/script>\n          <script type="systemjs-importmap">${JSON.stringify({imports:_i.mapValues(_i.keyBy(libraries.filter(e=>e.src.slice(-5).includes(".js")),"name"),"src")})}<\/script>`:""}\n      ${c(Ex).wrapper.final.head}\n    </head>\n\n    <body data-instant-intensity="all" class="primo-page">   \n      ${e}\n      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.js" integrity="sha256-DdSiNPR71ROAVMqT6NiHagLAtZv9EHeByYuVxygZM5g=" crossorigin="anonymous"><\/script>\n    </body>\n    </html>\n  `)(n):n}function ak(e){let t="";return e.forEach(e=>{t+=`<section id="section-${e.id}">\n\t<div class="columns flex flex-wrap ${"contained"===e.width?"container":""}">\n`,e.columns.forEach(e=>{t+=`\t\t<div class="column ${e.size}" id="column-${e.id}">\n`,e.rows.forEach(e=>{t+="component"===e.type?`\t\t\t<div class="primo-component">\n\t\t\t\t<div id="component-${e.id}" class="w-full">${e.value.final.html}</div>\n\t\t\t\t<script>${e.value.final.js}<\/script>\n\t\t\t\t<style>${e.value.final.css}</style>\n\t\t\t</div>\n`:`\t\t\t<div class="primo-content">\n\t\t\t\t${e.value.html}\n\t\t\t</div>\n`;}),t+="\t\t</div>\n";}),t+="\t</div>\n</section>\n";}),t}async function lk(e,t,n,r){const i=n+_i.flatMapDeep(e,e=>e.columns.map(e=>e.rows.filter(e=>"component"===e.type))).map(e=>`#component-${e.id} {${e.value.raw.css}}`).join("\n");return await rk(i,t,{includeBase:!0,includeTailwind:!0,purge:!0,tailwindConfig:r})}async function ck(e,t,n){console.log(e,t,n);const r=JSON.stringify(Hx(e.styles.tailwind)),i=t.styles.raw+e.styles.raw;return await lk(e.content,n,i,r)}async function uk(e,t){const n=await sk(e,!0),r=JSON.stringify(Hx(globalStyles.tailwindConfig)),i=c(Bv).styles.raw+t,o=await lk(e,n,i,r);return [{path:"styles.css",mode:"100644",type:"blob",content:c(Bv).styles.final},{path:c(Mo).page+".html",mode:"100644",type:"blob",content:n},{path:c(Mo).page+".css",mode:"100644",type:"blob",content:o},{path:"README.md",mode:"100644",type:"blob",content:"# Built with [primo](https://primo.so)"}]}async function fk(e){return await Promise.all(e.map(async e=>({...e,columns:await Promise.all(e.columns.map(async e=>({...e,rows:await Promise.all(e.rows.map(async e=>"content"===e.type?e:pk(e)))})))})))}async function pk(e){const{value:t}=e,n=dk(e),r=await Gx(n,"all"),i=await Jx(t.raw.html,r);return e.value.final.html=i,e}function dk(e=null){const t=_i.cloneDeep(c(Bv).fields),n=_i.cloneDeep(c(Ex).fields);let r=[];e&&(r=e.value.raw.fields);return _i.unionBy(r,n,t,"key")}function hk(e,t,n){const r=_i.cloneDeep(e),[i,o]=Yx(e.content);r.content=i,r.title=t,r.id=n;let s=r.styles.raw,a=r.styles.final;return o.forEach(([e,t])=>{r.styles.raw=s.replace(new RegExp(e,"g"),t),r.styles.final=a.replace(new RegExp(e,"g"),t);}),o.forEach(([e,t])=>{r.content=r.content.map(n=>({...n,columns:n.columns.map(n=>({...n,rows:n.rows.map(n=>"component"===n.type?{...n,value:{...n.value,raw:{...n.value.raw,css:n.value.raw.css.replace(new RegExp(e,"g"),t)},final:{...n.value.final,css:n.value.final.css.replace(new RegExp(e,"g"),t)}}}:n)}))}));}),r}const mk=(e="")=>e?e.replace(/\s+/g,"-").replace(/[^0-9a-z\-._]/gi,"").toLowerCase():"";var gk=Object.freeze({__proto__:null,ax:Kx,parseHandlebars:Jx,convertFieldsToData:Gx,compileScss:async function(e){return await Kx.post("primo/scss",{scss:e})},updateDataToCurrentVersion:function(e){let t={...e},{settings:n}=t;return t.settings=((e={})=>({globalStyles:e.globalStyles||{uncompiled:"",compiled:"",tailwindConfig:go},javascript:e.javascript||""}))({...n}),t},notify:async function(e,t="firebase"){Kx.post("primo/notify",{appName:t,params:e});},scrambleIds:Yx,createDebouncer:Xx,createInstance:Zx,includeNavField:function(e){return [...e,{key:"nav",value:c(Bv).data.navItems}]},updateInstancesInContent:Qx,getUniqueId:ek,getComponentPreviewCode:tk,wrapInStyleTags:nk,checkIfUserHasSubdomain:async function(e,t){if(e&&t){return await Kx.post("firestore/subdomain-has-user",{email:e,subdomain:t})}return !1},sendSiteInvitation:async function(e,t,n){return await Kx.post("primo/send-invite",{domain:e,email:t,role:n})},processStyles:rk,getComponentCSS:ik,buildSiteHTML:ok,buildPageHTML:sk,buildPagePreview:ak,buildPageCSS:lk,buildPageStyles:ck,buildPageFiles:uk,updateRepo:async function(e,t){const n=c(qx).githubToken,r=await uk(c(Cx),c(Ex).styles.raw);try{const{data:i}=await mo.get(`https://api.github.com/repos/${e}/git/ref/heads/master?access_token=${n}`).catch(e=>{console.error(e);});console.log("Get parent commit",i);const{data:o}=await mo.get(`https://api.github.com/repos/${e}/git/trees/${i.object.sha}?access_token=${n}`).catch(e=>{console.error(e);});console.log("Get the previous tree",o);const{data:s}=await mo.post(`https://api.github.com/repos/${e}/git/trees?access_token=${n}`,{tree:[...o.tree,...r]}).catch(e=>{console.error(e);});console.log("2. Created a tree",s);const a=s.sha,{data:l}=await mo.post(`https://api.github.com/repos/${e}/git/commits?access_token=${n}`,{message:t,tree:a,parents:[i.object.sha]}).catch(e=>{console.error(e);});console.log("3. Create a commit with the tree",l);const c=l.sha,{data:u}=await mo.patch(`https://api.github.com/repos/${e}/git/refs/heads/master?access_token=${n}`,{sha:c,force:!0}).catch(e=>{console.error(e);});return console.log("4. Updated the master branch with the commit",u),!0}catch(e){return console.error(e),!1}},hydrateAllComponents:fk,hydrateComponent:pk,getAllFields:dk,duplicatePage:hk,makeValidUrl:mk});function zk(e,t,n,r={}){let i=document.querySelector(e);i.innerHTML="";var o=document.createElement(t);Object.entries(r).forEach(e=>{let[t,n]=e;o[t]=n;});var s=document.createTextNode(n);o.appendChild(s),i.appendChild(o);}function qk(e){this.content=e;}qk.prototype={constructor:qk,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return -1},get:function(e){var t=this.find(e);return -1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return -1==i?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new qk(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new qk(n)},addToStart:function(e,t){return new qk([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new qk(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(-1==o?i.length:o,0,t,n),new qk(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1]);},prepend:function(e){return (e=qk.from(e)).size?new qk(e.content.concat(this.subtract(e).content)):this},append:function(e){return (e=qk.from(e)).size?new qk(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=qk.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},qk.from=function(e){if(e instanceof qk)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new qk(t)};var Uk=qk;var Kk=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize;},Jk={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};Kk.prototype.nodesBetween=function(e,t,n,r,i){void 0===r&&(r=0);for(var o=0,s=0;s<t;o++){var a=this.content[o],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,i,o)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,t-c),n,r+c);}s=l;}},Kk.prototype.descendants=function(e){this.nodesBetween(0,this.size,e);},Kk.prototype.textBetween=function(e,t,n,r){var i="",o=!0;return this.nodesBetween(e,t,(function(s,a){s.isText?(i+=s.text.slice(Math.max(e,a)-a,t-a),o=!n):s.isLeaf&&r?(i+=r,o=!n):!o&&s.isBlock&&(i+=n,o=!0);}),0),i},Kk.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new Kk(r,this.size+e.size)},Kk.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var i=0,o=0;o<t;i++){var s=this.content[i],a=o+s.nodeSize;a>e&&((o<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-o),Math.min(s.text.length,t-o)):s.cut(Math.max(0,e-o-1),Math.min(s.content.size,t-o-1))),n.push(s),r+=s.nodeSize),o=a;}return new Kk(n,r)},Kk.prototype.cutByIndex=function(e,t){return e==t?Kk.empty:0==e&&t==this.content.length?this:new Kk(this.content.slice(e,t))},Kk.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Kk(r,i)},Kk.prototype.addToStart=function(e){return new Kk([e].concat(this.content),this.size+e.nodeSize)},Kk.prototype.addToEnd=function(e){return new Kk(this.content.concat(e),this.size+e.nodeSize)},Kk.prototype.eq=function(e){if(this.content.length!=e.content.length)return !1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return !1;return !0},Jk.firstChild.get=function(){return this.content.length?this.content[0]:null},Jk.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Jk.childCount.get=function(){return this.content.length},Kk.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},Kk.prototype.maybeChild=function(e){return this.content[e]},Kk.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize;}},Kk.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,r){for(var i=0;;i++){if(i==t.childCount||i==n.childCount)return t.childCount==n.childCount?null:r;var o=t.child(i),s=n.child(i);if(o!=s){if(!o.sameMarkup(s))return r;if(o.isText&&o.text!=s.text){for(var a=0;o.text[a]==s.text[a];a++)r++;return r}if(o.content.size||s.content.size){var l=e(o.content,s.content,r+1);if(null!=l)return l}r+=o.nodeSize;}else r+=o.nodeSize;}}(this,e,t)},Kk.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,r,i){for(var o=t.childCount,s=n.childCount;;){if(0==o||0==s)return o==s?null:{a:r,b:i};var a=t.child(--o),l=n.child(--s),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return {a:r,b:i};if(a.isText&&a.text!=l.text){for(var u=0,f=Math.min(a.text.length,l.text.length);u<f&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,i--;return {a:r,b:i}}if(a.content.size||l.content.size){var p=e(a.content,l.content,r-1,i-1);if(p)return p}r-=c,i-=c;}else r-=c,i-=c;}}(this,e,t,n)},Kk.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return Yk(0,e);if(e==this.size)return Yk(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?Yk(n+1,i):Yk(n,r);r=i;}},Kk.prototype.toString=function(){return "<"+this.toStringInner()+">"},Kk.prototype.toStringInner=function(){return this.content.join(", ")},Kk.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},Kk.fromJSON=function(e,t){if(!t)return Kk.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Kk(t.map(e.nodeFromJSON))},Kk.fromArray=function(e){if(!e.length)return Kk.empty;for(var t,n=0,r=0;r<e.length;r++){var i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i);}return new Kk(t||e,n)},Kk.from=function(e){if(!e)return Kk.empty;if(e instanceof Kk)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Kk([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(Kk.prototype,Jk);var Gk={index:0,offset:0};function Yk(e,t){return Gk.index=e,Gk.offset=t,Gk}function Xk(e,t){if(e===t)return !0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return !1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return !1;if(n){if(e.length!=t.length)return !1;for(var r=0;r<e.length;r++)if(!Xk(e[r],t[r]))return !1}else {for(var i in e)if(!(i in t)||!Xk(e[i],t[i]))return !1;for(var o in t)if(!(o in e))return !1}return !0}Kk.empty=new Kk([],0);var Zk=function(e,t){this.type=e,this.attrs=t;};function Qk(e){var t=Error.call(this,e);return t.__proto__=Qk.prototype,t}Zk.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else {if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i);}}return t||(t=e.slice()),n||t.push(this),t},Zk.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},Zk.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return !0;return !1},Zk.prototype.eq=function(e){return this==e||this.type==e.type&&Xk(this.attrs,e.attrs)},Zk.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},Zk.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},Zk.sameSet=function(e,t){if(e==t)return !0;if(e.length!=t.length)return !1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return !1;return !0},Zk.setFrom=function(e){if(!e||0==e.length)return Zk.none;if(e instanceof Zk)return [e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},Zk.none=[],Qk.prototype=Object.create(Error.prototype),Qk.prototype.constructor=Qk,Qk.prototype.name="ReplaceError";var e$=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n;},t$={size:{configurable:!0}};function n$(e,t,n){if(n.openStart>e.depth)throw new Qk("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Qk("Inconsistent open depths");return function e(t,n,r,i){var o=t.index(i),s=t.node(i);if(o==n.index(i)&&i<t.depth-r.openStart){var a=e(t,n,r,i+1);return s.copy(s.content.replaceChild(o,a))}if(r.content.size){if(r.openStart||r.openEnd||t.depth!=i||n.depth!=i){var l=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),i=n-1;i>=0;i--)r=t.node(i).copy(Kk.from(r));return {start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(r,t),c=l.start,u=l.end;return a$(s,function e(t,n,r,i,o){var s=t.depth>o&&i$(t,n,o+1),a=i.depth>o&&i$(r,i,o+1),l=[];s$(null,t,o,l),s&&a&&n.index(o)==r.index(o)?(r$(s,a),o$(a$(s,e(t,n,r,i,o+1)),l)):(s&&o$(a$(s,l$(t,n,o+1)),l),s$(n,r,o,l),a&&o$(a$(a,l$(r,i,o+1)),l));return s$(i,null,o,l),new Kk(l)}(t,c,u,n,i))}var f=t.parent,p=f.content;return a$(f,p.cut(0,t.parentOffset).append(r.content).append(p.cut(n.parentOffset)))}return a$(s,l$(t,n,i))}(e,t,n,0)}function r$(e,t){if(!t.type.compatibleContent(e.type))throw new Qk("Cannot join "+t.type.name+" onto "+e.type.name)}function i$(e,t,n){var r=e.node(n);return r$(r,t.node(n)),r}function o$(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e);}function s$(e,t,n,r){var i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(o$(e.nodeAfter,r),o++));for(var a=o;a<s;a++)o$(i.child(a),r);t&&t.depth==n&&t.textOffset&&o$(t.nodeBefore,r);}function a$(e,t){if(!e.type.validContent(t))throw new Qk("Invalid content for node "+e.type.name);return e.copy(t)}function l$(e,t,n){var r=[];(s$(null,e,n,r),e.depth>n)&&o$(a$(i$(e,t,n+1),l$(e,t,n+1)),r);return s$(t,null,n,r),new Kk(r)}t$.size.get=function(){return this.content.size-this.openStart-this.openEnd},e$.prototype.insertAt=function(e,t){var n=function e(t,n,r,i){var o=t.findIndex(n),s=o.index,a=o.offset,l=t.maybeChild(s);if(a==n||l.isText)return i&&!i.canReplace(s,s,r)?null:t.cut(0,n).append(r).append(t.cut(n));var c=e(l.content,n-a-1,r);return c&&t.replaceChild(s,l.copy(c))}(this.content,e+this.openStart,t,null);return n&&new e$(n,this.openStart,this.openEnd)},e$.prototype.removeBetween=function(e,t){return new e$(function e(t,n,r){var i=t.findIndex(n),o=i.index,s=i.offset,a=t.maybeChild(o),l=t.findIndex(r),c=l.index,u=l.offset;if(s==n||a.isText){if(u!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(r))}if(o!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(o,a.copy(e(a.content,n-s-1,r-s-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},e$.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},e$.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},e$.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},e$.fromJSON=function(e,t){if(!t)return e$.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new e$(Kk.fromJSON(e,t.content),n,r)},e$.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,i=e.firstChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new e$(e,n,r)},Object.defineProperties(e$.prototype,t$),e$.empty=new e$(Kk.empty,0,0);var c$=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n;},u$={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};c$.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},u$.parent.get=function(){return this.node(this.depth)},u$.doc.get=function(){return this.node(0)},c$.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},c$.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},c$.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},c$.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},c$.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},c$.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},c$.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},u$.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},u$.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},u$.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},c$.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,i=0;i<e;i++)r+=n.child(i).nodeSize;return r},c$.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return Zk.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var i=n;n=r,r=i;}for(var o=n.marks,s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o},c$.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},c$.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},c$.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new h$(this,e,n)},c$.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},c$.prototype.max=function(e){return e.pos>this.pos?e:this},c$.prototype.min=function(e){return e.pos<this.pos?e:this},c$.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},c$.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,i=t,o=e;;){var s=o.content.findIndex(i),a=s.index,l=s.offset,c=i-l;if(n.push(o,a,r+l),!c)break;if((o=o.child(a)).isText)break;i=c-1,r+=l+1;}return new c$(t,n,i)},c$.resolveCached=function(e,t){for(var n=0;n<f$.length;n++){var r=f$[n];if(r.pos==t&&r.doc==e)return r}var i=f$[p$]=c$.resolve(e,t);return p$=(p$+1)%d$,i},Object.defineProperties(c$.prototype,u$);var f$=[],p$=0,d$=12,h$=function(e,t,n){this.$from=e,this.$to=t,this.depth=n;},m$={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};m$.start.get=function(){return this.$from.before(this.depth+1)},m$.end.get=function(){return this.$to.after(this.depth+1)},m$.parent.get=function(){return this.$from.node(this.depth)},m$.startIndex.get=function(){return this.$from.index(this.depth)},m$.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(h$.prototype,m$);var g$=Object.create(null),v$=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||Kk.empty,this.marks=r||Zk.none;},y$={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};y$.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},y$.childCount.get=function(){return this.content.childCount},v$.prototype.child=function(e){return this.content.child(e)},v$.prototype.maybeChild=function(e){return this.content.maybeChild(e)},v$.prototype.forEach=function(e){this.content.forEach(e);},v$.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this);},v$.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e);},y$.textContent.get=function(){return this.textBetween(0,this.content.size,"")},v$.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},y$.firstChild.get=function(){return this.content.firstChild},y$.lastChild.get=function(){return this.content.lastChild},v$.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},v$.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},v$.prototype.hasMarkup=function(e,t,n){return this.type==e&&Xk(this.attrs,t||e.defaultAttrs||g$)&&Zk.sameSet(this.marks,n||Zk.none)},v$.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},v$.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},v$.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},v$.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return e$.empty;var r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),s=r.start(o),a=r.node(o).content.cut(r.pos-s,i.pos-s);return new e$(a,r.depth-o,i.depth-o)},v$.prototype.replace=function(e,t,n){return n$(this.resolve(e),this.resolve(t),n)},v$.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,i=n.offset;if(!(t=t.maybeChild(r)))return null;if(i==e||t.isText)return t;e-=i+1;}},v$.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return {node:this.content.maybeChild(n),index:n,offset:r}},v$.prototype.childBefore=function(e){if(0==e)return {node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return {node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return {node:i,index:n-1,offset:r-i.nodeSize}},v$.prototype.resolve=function(e){return c$.resolveCached(this,e)},v$.prototype.resolveNoCache=function(e){return c$.resolve(this,e)},v$.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},y$.isBlock.get=function(){return this.type.isBlock},y$.isTextblock.get=function(){return this.type.isTextblock},y$.inlineContent.get=function(){return this.type.inlineContent},y$.isInline.get=function(){return this.type.isInline},y$.isText.get=function(){return this.type.isText},y$.isLeaf.get=function(){return this.type.isLeaf},y$.isAtom.get=function(){return this.type.isAtom},v$.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),w$(this.marks,e)},v$.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},v$.prototype.canReplace=function(e,t,n,r,i){void 0===n&&(n=Kk.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var o=this.contentMatchAt(e).matchFragment(n,r,i),s=o&&o.matchFragment(this.content,t);if(!s||!s.validEnd)return !1;for(var a=r;a<i;a++)if(!this.type.allowsMarks(n.child(a).marks))return !1;return !0},v$.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return !1;var i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return !!o&&o.validEnd},v$.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},v$.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}));},v$.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},v$.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON);}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=Kk.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(v$.prototype,y$);var b$=function(e){function t(t,n,r,i){if(e.call(this,t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r;}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):w$(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(v$);function w$(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var x$=function(e){this.validEnd=e,this.next=[],this.wrapCache=[];},k$={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};x$.parse=function(e,t){var n=new $$(e,t);if(null==n.next)return x$.empty;var r=C$(n);n.next&&n.err("Unexpected trailing text");var i=function(e){var t=Object.create(null);return function n(r){var i=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var o=i.indexOf(n),s=o>-1&&i[o+1];N$(e,r).forEach((function(e){s||i.push(n,s=[]),-1==s.indexOf(e)&&s.push(e);}));}}));}));for(var o=t[r.join(",")]=new x$(r.indexOf(e.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(A$);o.next.push(i[s],t[a.join(",")]||n(a));}return o}(N$(e,0))}(function(e){var t=[[]];return i(function e(t,o){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,o))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=e(t.exprs[s],o);if(s==t.exprs.length-1)return a;i(a,o=n());}else {if("star"==t.type){var l=n();return r(o,l),i(e(t.expr,l),l),[r(l)]}if("plus"==t.type){var c=n();return i(e(t.expr,o),c),i(e(t.expr,c),c),[r(c)]}if("opt"==t.type)return [r(o)].concat(e(t.expr,o));if("range"==t.type){for(var u=o,f=0;f<t.min;f++){var p=n();i(e(t.expr,u),p),u=p;}if(-1==t.max)i(e(t.expr,u),u);else for(var d=t.min;d<t.max;d++){var h=n();r(u,h),i(e(t.expr,u),h),u=h;}return [r(u)]}if("name"==t.type)return [r(o,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((function(e){return e.to=t}));}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var i=r[n],o=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==r.indexOf(c)&&r.push(c);}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)");}}(i,n),i},x$.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},x$.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r},k$.inlineContent.get=function(){var e=this.next[0];return !!e&&e.isInline},k$.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},x$.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return !0;return !1},x$.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function i(o,s){var a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return Kk.from(s.map((function(e){return e.createAndFill()})));for(var l=0;l<o.next.length;l+=2){var c=o.next[l],u=o.next[l+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var f=i(u,s.concat(c));if(f)return f}}}(this,[])},x$.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},x$.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(e)){for(var o=[],s=r;s.type;s=s.via)o.push(s.type);return o.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in t||r.type&&!i.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),t[l.name]=!0);}}},k$.edgeCount.get=function(){return this.next.length>>1},x$.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return {type:this.next[t],next:this.next[t+1]}},x$.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r]);}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",i=0;i<t.next.length;i+=2)r+=(i?", ":"")+t.next[i].name+"->"+e.indexOf(t.next[i+1]);return r})).join("\n")},Object.defineProperties(x$.prototype,k$),x$.empty=new x$(!0);var $$=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift();},S$={next:{configurable:!0}};function C$(e){var t=[];do{t.push(M$(e));}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function M$(e){var t=[];do{t.push(O$(e));}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function O$(e){for(var t=function(e){if(e.eat("(")){var t=C$(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return [r];var i=[];for(var o in n){var s=n[o];s.groups.indexOf(t)>-1&&i.push(s);}0==i.length&&e.err("No node type or group '"+t+"' found");return i}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'");}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else {if(!e.eat("{"))break;t=_$(e,t);}return t}function T$(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function _$(e,t){var n=T$(e),r=n;return e.eat(",")&&(r="}"!=e.next?T$(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function A$(e,t){return t-e}function N$(e,t){var n=[];return function t(r){var i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var s=i[o],a=s.term,l=s.to;a||-1!=n.indexOf(l)||t(l);}}(t),n.sort(A$)}function E$(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default;}return t}function L$(e,t){var n=Object.create(null);for(var r in e){var i=t&&t[r];if(void 0===i){var o=e[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default;}n[r]=i;}return n}function D$(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new I$(e[n]);return t}S$.next.get=function(){return this.tokens[this.pos]},$$.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},$$.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties($$.prototype,S$);var j$=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=D$(n.attrs),this.defaultAttrs=E$(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e;},P$={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};P$.isInline.get=function(){return !this.isBlock},P$.isTextblock.get=function(){return this.isBlock&&this.inlineContent},P$.isLeaf.get=function(){return this.contentMatch==x$.empty},P$.isAtom.get=function(){return this.isLeaf||this.spec.atom},j$.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return !0;return !1},j$.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},j$.prototype.computeAttrs=function(e){return !e&&this.defaultAttrs?this.defaultAttrs:L$(this.attrs,e)},j$.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new v$(this,this.computeAttrs(e),Kk.from(t),Zk.setFrom(n))},j$.prototype.createChecked=function(e,t,n){if(t=Kk.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new v$(this,this.computeAttrs(e),t,Zk.setFrom(n))},j$.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=Kk.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t);}var i=this.contentMatch.matchFragment(t).fillBefore(Kk.empty,!0);return i?new v$(this,e,t.append(i),Zk.setFrom(n)):null},j$.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return !1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return !1;return !0},j$.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},j$.prototype.allowsMarks=function(e){if(null==this.markSet)return !0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return !1;return !0},j$.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Zk.empty:e},j$.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new j$(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(j$.prototype,P$);var I$=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default;},z$={isRequired:{configurable:!0}};z$.isRequired.get=function(){return !this.hasDefault},Object.defineProperties(I$.prototype,z$);var R$=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=D$(r.attrs),this.rank=t,this.excluded=null;var i=E$(this.attrs);this.instance=i&&new Zk(this,i);};R$.prototype.create=function(e){return !e&&this.instance?this.instance:new Zk(this,L$(this.attrs,e))},R$.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,i){return n[e]=new R$(e,r++,t,i)})),n},R$.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},R$.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},R$.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var F$=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=Uk.from(e.nodes),this.spec.marks=Uk.from(e.marks),this.nodes=j$.compile(this.spec.nodes,this),this.marks=R$.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=x$.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?B$(this,s.split(" ")):""!=s&&i.inlineContent?null:[];}for(var a in this.marks){var l=this.marks[a],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:B$(this,c.split(" "));}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null);};function B$(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(var a in e.marks){var l=e.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l);}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}F$.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else {if(!(e instanceof j$))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},F$.prototype.text=function(e,t){var n=this.nodes.text;return new b$(n,n.defaultAttrs,e,Zk.setFrom(t))},F$.prototype.mark=function(e,t){return "string"==typeof e&&(e=this.marks[e]),e.create(t)},F$.prototype.nodeFromJSON=function(e){return v$.fromJSON(this,e)},F$.prototype.markFromJSON=function(e){return Zk.fromJSON(this,e)},F$.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var W$=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e);})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return !1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}));};W$.prototype.parse=function(e,t){void 0===t&&(t={});var n=new J$(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},W$.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new J$(this,t,!0);return n.addAll(e,null,t.from,t.to),e$.maxOpen(n.finish())},W$.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var r=this.tags[n];if(Y$(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var i=r.getAttrs(e);if(!1===i)continue;r.attrs=i;}return r}}},W$.prototype.matchStyle=function(e,t,n){for(var r=0;r<this.styles.length;r++){var i=this.styles[r];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o;}return i}}},W$.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var i=t[r];if((null==i.priority?50:i.priority)<n)break}t.splice(r,0,e);}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=X$(e)),e.mark=t;}));};for(var i in e.marks)r(i);var o;for(var s in e.nodes)o=void 0,(o=e.nodes[s].spec.parseDOM)&&o.forEach((function(e){n(e=X$(e)),e.node=s;}));return t},W$.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new W$(e,W$.schemaRules(e)))};var H$={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},V$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},q$={ol:!0,ul:!0};function U$(e){return (e?1:0)|("full"===e?2:0)}var K$=function(e,t,n,r,i,o,s){this.type=e,this.attrs=t,this.solid=i,this.match=o||(4&s?null:e.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=Zk.none,this.pendingMarks=r;};K$.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return [];var t=this.type.contentMatch.fillBefore(Kk.from(e));if(!t){var n,r=this.type.contentMatch;return (n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t);}return this.match.findWrapping(e.type)},K$.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)));}var r=Kk.from(this.content);return !e&&this.match&&(r=r.append(this.match.fillBefore(Kk.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},K$.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):Z$(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks));}};var J$=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,i=t.topNode,o=U$(t.preserveWhitespace)|(n?4:0);r=i?new K$(i.type,i.attrs,Zk.none,Zk.none,!0,t.topMatch||i.type.contentMatch,o):new K$(n?null:e.schema.topNodeType,null,Zk.none,Zk.none,!0,null,o),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1;},G$={top:{configurable:!0},currentPos:{configurable:!0}};function Y$(e,t){return (e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function X$(e){var t={};for(var n in e)t[n]=e[n];return t}function Z$(e,t){var n=t.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(e)){var o=[],s=function(e){o.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),i=r.type,a=r.next;if(i==t)return !0;if(o.indexOf(a)<0&&s(a))return !0}};return s(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}G$.top.get=function(){return this.nodes[this.open]},J$.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r);}},J$.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1));}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e);}else this.findInside(e);},J$.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();q$.hasOwnProperty(t)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&q$.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null);}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:V$.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var r,i=this.top,o=this.needsBlock;if(H$.hasOwnProperty(t))r=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),r&&this.sync(i),this.needsBlock=o;}else this.addElementByRule(e,n);},J$.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"));},J$.prototype.readStyles=function(e){for(var t=Zk.none,n=0;n<e.length;n+=2){var r=this.parser.matchStyle(e[n],e[n+1],this);if(r){if(r.ignore)return null;t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t);}}return t},J$.prototype.addElementByRule=function(e,t){var n,r,i,o=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):n=this.enter(r,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return o.insertNode(e)}));else {var a=t.contentElement;"string"==typeof a?a=e.querySelector(a):"function"==typeof a&&(a=a(e)),a||(a=e),this.findAround(e,a,!0),this.addAll(a,n);}n&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s);},J$.prototype.addAll=function(e,t,n,r){for(var i=n||0,o=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o),t&&H$.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,i);},J$.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return !1;this.sync(n);for(var s=0;s<t.length;s++)this.enterInner(t[s],null,!1);return !0},J$.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t);}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,i=0;i<e.marks.length;i++)n.type&&!n.type.allowsMarkType(e.marks[i].type)||(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return !1},J$.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},J$.prototype.enterInner=function(e,t,n,r){this.closeExtra();var i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e,t);var o=null==r?-5&i.options:U$(r);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new K$(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++;},J$.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1;}},J$.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},J$.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},G$.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++;}return e},J$.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos);},J$.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos);},J$.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos);}},J$.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset));},J$.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=function(e,a){for(;e>=0;e--){var l=n[e];if(""==l){if(e==n.length-1||0==e)continue;for(;a>=o;a--)if(s(e-1,a))return !0;return !1}var c=a>0||0==a&&i?t.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return !1;a--;}return !0};return s(n.length-1,this.open)},J$.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},J$.prototype.addPendingMark=function(e){this.top.pendingMarks=e.addToSet(this.top.pendingMarks);},J$.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1?r.pendingMarks=e.removeFromSet(r.pendingMarks):r.activeMarks=e.removeFromSet(r.activeMarks),r==t)break}},Object.defineProperties(J$.prototype,G$);var Q$=function(e,t){this.nodes=e||{},this.marks=t||{};};function eS(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r);}return t}function tS(e){return e.document||window.document}Q$.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=tS(t).createDocumentFragment());var i=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);for(var n=0,s=0;n<o.length&&s<e.marks.length;){var a=e.marks[s];if(r.marks[a.type.name]){if(!a.eq(o[n])||!1===a.type.spec.spanning)break;n+=2,s++;}else s++;}for(;n<o.length;)i=o.pop(),o.pop();for(;s<e.marks.length;){var l=e.marks[s++],c=r.serializeMark(l,e.isInline,t);c&&(o.push(l,i),i.appendChild(c.dom),i=c.contentDOM||c.dom);}}i.appendChild(r.serializeNode(e,t));})),n},Q$.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=Q$.renderSpec(tS(t),this.nodes[e.type.name](e)),r=n.dom,i=n.contentDOM;if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,i,t):this.serializeFragment(e.content,t,i);}return r},Q$.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),r=e.marks.length-1;r>=0;r--){var i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom);}return n},Q$.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&Q$.renderSpec(tS(n),r(e,t))},Q$.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return {dom:e.createTextNode(t)};if(null!=t.nodeType)return {dom:t};var r=t[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,s=n?e.createElementNS(n,r):e.createElement(r),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a)if(null!=a[c]){var u=c.indexOf(" ");u>0?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c]);}for(var f=l;f<t.length;f++){var p=t[f];if(0===p){if(f<t.length-1||f>l)throw new RangeError("Content hole must be the only child of its parent node");return {dom:s,contentDOM:s}}var d=Q$.renderSpec(e,p,n),h=d.dom,m=d.contentDOM;if(s.appendChild(h),m){if(o)throw new RangeError("Multiple content holes");o=m;}}return {dom:s,contentDOM:o}},Q$.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Q$(this.nodesFromSchema(e),this.marksFromSchema(e)))},Q$.nodesFromSchema=function(e){var t=eS(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Q$.marksFromSchema=function(e){return eS(e.marks)};var nS=["p",0],rS=["blockquote",0],iS=["hr"],oS=["pre",["code",0]],sS=["br"],aS=["em",0],lS=["strong",0],cS=["code",0],uS=new F$({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return nS}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return rS}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return iS}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return ["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return oS}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return {src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){var t=e.attrs;return ["img",{src:t.src,alt:t.alt,title:t.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return sS}}},marks:{link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return {href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){var t=e.attrs;return ["a",{href:t.href,title:t.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return aS}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return "normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return /^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return lS}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return cS}}}}),fS=Math.pow(2,16);function pS(e,t){return e+t*fS}function dS(e){return 65535&e}var hS=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n;},mS=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t;};mS.prototype.recover=function(e){var t=0,n=dS(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return (e-(65535&e))/fS}(e)},mS.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},mS.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},mS.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;var l=this.ranges[s+i],c=this.ranges[s+o],u=a+l;if(e<=u){var f=a+r+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return f;var p=e==(t<0?a:u)?null:pS(s/3,e-a);return new hS(f,t<0?e!=a:e!=u,p)}r+=c-l;}return n?e+r:new hS(e+r)},mS.prototype.touches=function(e,t){for(var n=0,r=dS(t),i=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>e)break;var l=this.ranges[s+i];if(e<=a+l&&s==3*r)return !0;n+=this.ranges[s+o]-l;}return !1},mS.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],s=o-(this.inverted?i:0),a=o+(this.inverted?0:i),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),i+=c-l;}},mS.prototype.invert=function(){return new mS(this.ranges,!this.inverted)},mS.prototype.toString=function(){return (this.inverted?"-":"")+JSON.stringify(this.ranges)},mS.offset=function(e){return 0==e?mS.empty:new mS(e<0?[0,-e,0]:[0,0,e])},mS.empty=new mS([]);var gS=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t;};function vS(e){var t=Error.call(this,e);return t.__proto__=vS.prototype,t}gS.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new gS(this.maps,this.mirror,e,t)},gS.prototype.copy=function(){return new gS(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},gS.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t);},gS.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null);}},gS.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},gS.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t);},gS.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null);}},gS.prototype.invert=function(){var e=new gS;return e.appendMappingInverted(this),e},gS.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},gS.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},gS.prototype._map=function(e,t,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(e,t);if(null!=o.recover){var s=this.getMirror(i);if(null!=s&&s>i&&s<this.to){i=s,e=this.maps[s].recover(o.recover);continue}}o.deleted&&(r=!0),e=o.pos;}return n?e:new hS(e,r)},vS.prototype=Object.create(Error.prototype),vS.prototype.constructor=vS,vS.prototype.name="TransformError";var yS=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new gS;},bS={before:{configurable:!0},docChanged:{configurable:!0}};function wS(){throw new Error("Override me")}bS.before.get=function(){return this.docs.length?this.docs[0]:this.doc},yS.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new vS(t.failed);return this},yS.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},bS.docChanged.get=function(){return this.steps.length>0},yS.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t;},Object.defineProperties(yS.prototype,bS);var xS=Object.create(null),kS=function(){};kS.prototype.apply=function(e){return wS()},kS.prototype.getMap=function(){return mS.empty},kS.prototype.invert=function(e){return wS()},kS.prototype.map=function(e){return wS()},kS.prototype.merge=function(e){return null},kS.prototype.toJSON=function(){return wS()},kS.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=xS[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},kS.jsonID=function(e,t){if(e in xS)throw new RangeError("Duplicate use of step JSON ID "+e);return xS[e]=t,t.prototype.jsonID=e,t};var $S=function(e,t){this.doc=e,this.failed=t;};$S.ok=function(e){return new $S(e,null)},$S.fail=function(e){return new $S(null,e)},$S.fromReplace=function(e,t,n,r){try{return $S.ok(e.replace(t,n,r))}catch(e){if(e instanceof Qk)return $S.fail(e.message);throw e}};var SS=function(e){function t(t,n,r,i){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!i;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&MS(e,this.from,this.to)?$S.fail("Structure replace would overwrite content"):$S.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new mS([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?e$.empty:new e$(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?e$.empty:new e$(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,e$.fromJSON(e,n.slice),!!n.structure)},t}(kS);kS.jsonID("replace",SS);var CS=function(e){function t(t,n,r,i,o,s,a){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=!!a;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(MS(e,this.from,this.gapFrom)||MS(e,this.gapTo,this.to)))return $S.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return $S.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?$S.fromReplace(e,this.from,this.to,n):$S.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new mS([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new t(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,e$.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(kS);function MS(e,t,n){for(var r=e.resolve(t),i=n-t,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var s=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!s||s.isLeaf)return !0;s=s.firstChild,i--;}return !1}function OS(e,t,n){return (0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function TS(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!OS(r,i,o))break}}function _S(e,t,n,r){void 0===r&&(r=e);var i=function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;var s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}(e,t),o=i&&function(e,t){var n=e.parent,r=e.startIndex,i=e.endIndex,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:t).contentMatch,l=r;a&&l<i;l++)a=a.matchType(n.child(l).type);if(!a||!a.validEnd)return null;return s}(r,t);return o?i.map(AS).concat({type:t,attrs:n}).concat(o.map(AS)):null}function AS(e){return {type:e,attrs:null}}function NS(e,t,n,r){void 0===n&&(n=1);var i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return !1;for(var a=i.depth-1,l=n-2;a>o;a--,l--){var c=i.node(a),u=i.index(a);if(c.type.spec.isolating)return !1;var f=c.content.cutByIndex(u,c.childCount),p=r&&r[l]||c;if(p!=c&&(f=f.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(f))return !1}var d=i.indexAfter(o),h=r&&r[0];return i.node(o).canReplaceWith(d,d,h?h.type:i.node(o+1).type)}function ES(e,t){var n=e.resolve(t),r=n.index();return LS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function LS(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function jS(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var o=e.child(i);o.content.size&&(o=o.copy(jS(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o);}return Kk.fromArray(r)}kS.jsonID("replaceAround",CS),yS.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,i=e.depth,o=n.before(i+1),s=r.after(i+1),a=o,l=s,c=Kk.empty,u=0,f=i,p=!1;f>t;f--)p||n.index(f)>0?(p=!0,c=Kk.from(n.node(f).copy(c)),u++):a--;for(var d=Kk.empty,h=0,m=i,g=!1;m>t;m--)g||r.after(m+1)<r.end(m)?(g=!0,d=Kk.from(r.node(m).copy(d)),h++):l++;return this.step(new CS(a,l,o,s,new e$(c.append(d),u,h),c.size-u,!0))},yS.prototype.wrap=function(e,t){for(var n=Kk.empty,r=t.length-1;r>=0;r--)n=Kk.from(t[r].type.create(t[r].attrs,n));var i=e.start,o=e.end;return this.step(new CS(i,o,i,o,new e$(n,0,0),t.length,!0))},yS.prototype.setBlockType=function(e,t,n,r){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(i.doc,i.mapping.slice(o).map(t),n)){i.clearIncompatible(i.mapping.slice(o).map(t,1),n);var s=i.mapping.slice(o),a=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new CS(a,l,a+1,l-1,new e$(Kk.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},yS.prototype.setNodeMarkup=function(e,t,n,r){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var o=t.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new CS(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new e$(Kk.from(o),0,0),1,!0))},yS.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),i=Kk.empty,o=Kk.empty,s=r.depth,a=r.depth-t,l=t-1;s>a;s--,l--){i=Kk.from(r.node(s).copy(i));var c=n&&n[l];o=Kk.from(c?c.type.create(c.attrs,o):r.node(s).copy(o));}return this.step(new SS(e,e,new e$(i.append(o),t,t),!0))},yS.prototype.join=function(e,t){void 0===t&&(t=1);var n=new SS(e-t,e+t,e$.empty,!0);return this.step(n)};var PS=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new e$(jS(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return $S.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new IS(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return {stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(kS);kS.jsonID("addMark",PS);var IS=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new e$(jS(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return $S.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new PS(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return {stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(kS);function zS(e,t,n){return !n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}kS.jsonID("removeMark",IS),yS.prototype.addMark=function(e,t,n){var r=this,i=[],o=[],s=null,a=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var f=Math.max(l,e),p=Math.min(l+r.nodeSize,t),d=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(d)||(s&&s.to==f&&s.mark.eq(u[h])?s.to=p:i.push(s=new IS(f,p,u[h])));a&&a.to==f?a.to=p:o.push(a=new PS(f,p,n));}}})),i.forEach((function(e){return r.step(e)})),o.forEach((function(e){return r.step(e)})),this},yS.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var i=[],o=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){o++;var a=null;if(n instanceof R$){var l=n.isInSet(r.marks);l&&(a=[l]);}else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var c=Math.min(s+r.nodeSize,t),u=0;u<a.length;u++){for(var f=a[u],p=void 0,d=0;d<i.length;d++){var h=i[d];h.step==o-1&&f.eq(i[d].style)&&(p=h);}p?(p.to=c,p.step=o):i.push({style:f,from:Math.max(s,e),to:c,step:o});}}})),i.forEach((function(e){return r.step(new IS(e.from,e.to,e.style))})),this},yS.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),i=[],o=e+1,s=0;s<r.childCount;s++){var a=r.child(s),l=o+a.nodeSize,c=n.matchType(a.type,a.attrs);if(c){n=c;for(var u=0;u<a.marks.length;u++)t.allowsMarkType(a.marks[u].type)||this.step(new IS(o,l,a.marks[u]));}else i.push(new SS(o,l,e$.empty));o=l;}if(!n.validEnd){var f=n.fillBefore(Kk.empty,!0);this.replace(o,o,new e$(f,0,0));}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},yS.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=e$.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=e$.empty),t==n&&!r.size)return null;var i=e.resolve(t),o=e.resolve(n);return zS(i,o,r)?new SS(t,n,r):new RS(i,o,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},yS.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new e$(Kk.from(n),0,0))},yS.prototype.delete=function(e,t){return this.replace(e,t,e$.empty)},yS.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var RS=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))});}this.placed=Kk.empty;for(var o=e.depth;o>0;o--)this.placed=Kk.from(e.node(o).copy(this.placed));},FS={depth:{configurable:!0}};function BS(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(BS(e.firstChild.content,t-1,n)))}function WS(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(WS(e.lastChild.content,t-1,n)))}function HS(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function VS(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,VS(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Kk.empty,!0)))),e.copy(r)}function qS(e,t,n,r,i){var o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;var a=r.fillBefore(o.content,!0,s);return a&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return !0;return !1}(n,o.content,s)?a:null}function US(e,t,n,r,i){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(US(o.content,t+1,n,r,o)));}if(t>r){var s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(Kk.empty,!0));}return e}function KS(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;i==t.start(r)&&n.push(r);}return n}FS.depth.get=function(){return this.frontier.length-1},RS.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode();}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;for(var o=this.placed,s=r.depth,a=i.depth;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;var l=new e$(o,s,a);return t>-1?new CS(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new SS(r.pos,i.pos,l):void 0},RS.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=HS(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var o=this.frontier[i],s=o.type,a=o.match,l=void 0,c=void 0;if(1==e&&(r?a.matchType(r.type)||(c=a.fillBefore(Kk.from(r),!1)):s.compatibleContent(n.type)))return {sliceDepth:t,frontierDepth:i,parent:n,inject:c};if(2==e&&r&&(l=a.findWrapping(r.type)))return {sliceDepth:t,frontierDepth:i,parent:n,wrap:l};if(n&&a.matchType(n.type))break}},RS.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=HS(t,n);return !(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new e$(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)},RS.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=HS(t,n);if(i.childCount<=1&&n>0){var o=t.size-n<=n+i.size;this.unplaced=new e$(BS(t,n-1,1),n-1,o?n-1:r);}else this.unplaced=new e$(BS(t,n,1),n,r);},RS.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,i=e.inject,o=e.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var s=0;s<o.length;s++)this.openFrontierNode(o[s]);var a=this.unplaced,l=r?r.content:a.content,c=a.openStart-t,u=0,f=[],p=this.frontier[n],d=p.match,h=p.type;if(i){for(var m=0;m<i.childCount;m++)f.push(i.child(m));d=d.matchFragment(i);}for(var g=l.size+t-(a.content.size-a.openEnd);u<l.childCount;){var v=l.child(u),y=d.matchType(v.type);if(!y)break;(++u>1||0==c||v.content.size)&&(d=y,f.push(VS(v.mark(h.allowedMarks(v.marks)),1==u?c:0,u==l.childCount?g:-1)));}var b=u==l.childCount;b||(g=-1),this.placed=WS(this.placed,n,Kk.from(f)),this.frontier[n].match=d,b&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.closeFrontierNode();for(var w=0,x=l;w<g;w++){var k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content;}this.unplaced=b?0==t?e$.empty:new e$(BS(a.content,t-1,1),t-1,g<0?a.openEnd:t-1):new e$(BS(a.content,t,u),a.openStart,a.openEnd);},RS.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return -1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!qS(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return -1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},RS.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,i=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=qS(e,t,i,r,o);if(s){for(var a=t-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=qS(e,a,l.type,c,!0);if(!u||u.childCount)continue e}return {depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}},RS.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=WS(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,i);}return e},RS.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=WS(this.placed,this.depth,Kk.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch});},RS.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(Kk.empty,!0);e.childCount&&(this.placed=WS(this.placed,this.frontier.length,e));},Object.defineProperties(RS.prototype,FS),yS.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),i=this.doc.resolve(t);if(zS(r,i,n))return this.step(new SS(e,t,n));var o=KS(r,this.doc.resolve(t));0==o[o.length-1]&&o.pop();var s=-(r.depth+1);o.unshift(s);for(var a=r.depth,l=r.pos-1;a>0;a--,l--){var c=r.node(a).type.spec;if(c.defining||c.isolating)break;o.indexOf(a)>-1?s=a:r.before(a)==l&&o.splice(1,0,-a);}for(var u=o.indexOf(s),f=[],p=n.openStart,d=n.content,h=0;;h++){var m=d.firstChild;if(f.push(m),h==n.openStart)break;d=m.content;}p>0&&f[p-1].type.spec.defining&&r.node(u).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&r.node(u).type!=f[p-2].type&&(p-=2);for(var g=n.openStart;g>=0;g--){var v=(g+p+1)%(n.openStart+1),y=f[v];if(y)for(var b=0;b<o.length;b++){var w=o[(b+u)%o.length],x=!0;w<0&&(x=!1,w=-w);var k=r.node(w-1),$=r.index(w-1);if(k.canReplaceWith($,$,y.type,y.marks))return this.replace(r.before(w),x?i.after(w):t,new e$(US(n.content,0,n.openStart,v),v,n.openEnd))}}for(var S=this.steps.length,C=o.length-1;C>=0&&(this.replace(e,t,n),!(this.steps.length>S));C--){var M=o[C];C<0||(e=r.before(M),t=i.after(M));}return this},yS.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r);}return this.replaceRange(e,t,new e$(Kk.from(n),0,0))},yS.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),i=KS(n,r),o=0;o<i.length;o++){var s=i[o],a=o==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var JS=Object.create(null),GS=function(e,t,n){this.ranges=n||[new XS(e.min(t),e.max(t))],this.$anchor=e,this.$head=t;},YS={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};YS.anchor.get=function(){return this.$anchor.pos},YS.head.get=function(){return this.$head.pos},YS.from.get=function(){return this.$from.pos},YS.to.get=function(){return this.$to.pos},YS.$from.get=function(){return this.ranges[0].$from},YS.$to.get=function(){return this.ranges[0].$to},YS.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return !1;return !0},GS.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},GS.prototype.replace=function(e,t){void 0===t&&(t=e$.empty);for(var n=t.content.lastChild,r=null,i=0;i<t.openEnd;i++)r=n,n=n.lastChild;for(var o=e.steps.length,s=this.ranges,a=0;a<s.length;a++){var l=s[a],c=l.$from,u=l.$to,f=e.mapping.slice(o);e.replaceRange(f.map(c.pos),f.map(u.pos),a?e$.empty:t),0==a&&oC(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1);}},GS.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],s=o.$from,a=o.$to,l=e.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),oC(e,n,t.isInline?-1:1));}},GS.findFrom=function(e,t,n){var r=e.parent.inlineContent?new ZS(e):iC(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var i=e.depth-1;i>=0;i--){var o=t<0?iC(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):iC(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}},GS.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new nC(e.node(0))},GS.atStart=function(e){return iC(e,e,0,0,1)||new nC(e)},GS.atEnd=function(e){return iC(e,e,e.content.size,e.childCount,-1)||new nC(e)},GS.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=JS[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},GS.jsonID=function(e,t){if(e in JS)throw new RangeError("Duplicate use of selection JSON ID "+e);return JS[e]=t,t.prototype.jsonID=e,t},GS.prototype.getBookmark=function(){return ZS.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(GS.prototype,YS),GS.prototype.visible=!0;var XS=function(e,t){this.$from=e,this.$to=t;},ZS=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n);}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return e.near(i);var o=n.resolve(r.map(this.anchor));return new t(o.parent.inlineContent?o:i,i)},t.prototype.replace=function(t,n){if(void 0===n&&(n=e$.empty),e.prototype.replace.call(this,t,n),n==e$.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r);}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new QS(this.anchor,this.head)},t.prototype.toJSON=function(){return {type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var s=e.findFrom(r,i,!0)||e.findFrom(r,-i,!0);if(!s)return e.near(r,i);r=s.$head;}return n.parent.inlineContent||(0==o||(n=(e.findFrom(n,-i,!0)||e.findFrom(n,i,!0)).$anchor).pos<r.pos!=o<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(GS);GS.jsonID("text",ZS);var QS=function(e,t){this.anchor=e,this.head=t;};QS.prototype.map=function(e){return new QS(e.map(this.anchor),e.map(this.head))},QS.prototype.resolve=function(e){return ZS.between(e.resolve(this.anchor),e.resolve(this.head))};var eC=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,s=i.pos,a=n.resolve(s);return o?e.near(a):new t(a)},t.prototype.content=function(){return new e$(Kk.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return {type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new tC(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return !e.isText&&!1!==e.type.spec.selectable},t}(GS);eC.prototype.visible=!1,GS.jsonID("node",eC);var tC=function(e){this.anchor=e;};tC.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new QS(r,r):new tC(r)},tC.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&eC.isSelectable(n)?new eC(t):GS.near(t)};var nC=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size));}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=e$.empty),n==e$.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r);}else e.prototype.replace.call(this,t,n);},t.prototype.toJSON=function(){return {type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return rC},t}(GS);GS.jsonID("all",nC);var rC={map:function(){return this},resolve:function(e){return new nC(e)}};function iC(e,t,n,r,i,o){if(t.inlineContent)return ZS.create(e,n);for(var s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){var a=t.child(s);if(a.isAtom){if(!o&&eC.isSelectable(a))return eC.create(e,n-(i<0?a.nodeSize:0))}else {var l=iC(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i;}}function oC(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,o=e.steps[r];if(o instanceof SS||o instanceof CS)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r);})),e.setSelection(GS.near(e.doc.resolve(i),n));}}var sC=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null);}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return (1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return Zk.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return (2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null;},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return !1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Zk.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(t);i=n==t?o.marks():o.marksAcross(this.doc.resolve(n));}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(GS.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return !1;return !0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return (4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(yS);function aC(e,t){return t&&e?e.bind(t):e}var lC=function(e,t,n){this.name=e,this.init=aC(t.init,n),this.apply=aC(t.apply,n);},cC=[new lC("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new lC("selection",{init:function(e,t){return e.selection||GS.atStart(t.doc)},apply:function(e){return e.selection}}),new lC("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new lC("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],uC=function(e,t){var n=this;this.schema=e,this.fields=cC.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new lC(e.key,e.spec.state,e));}));},fC=function(e){this.config=e;},pC={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};pC.schema.get=function(){return this.config.schema},pC.plugins.get=function(){return this.config.plugins},fC.prototype.apply=function(e){return this.applyTransaction(e).state},fC.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return !1}return !0},fC.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return {state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var s=this.config.plugins[o];if(s.spec.appendTransaction){var a=r?r[o].n:0,l=r?r[o].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:t.length}:{state:this,n:0});}t.push(c),n=n.applyInner(c),i=!0;}r&&(r[o]={state:n,n:t.length});}}if(!i)return {state:n,transactions:t}}},fC.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new fC(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];t[i.name]=i.apply(e,this[i.name],this,t);}for(var o=0;o<dC.length;o++)dC[o](this,e,t);return t},pC.tr.get=function(){return new sC(this)},fC.create=function(e){for(var t=new uC(e.schema||e.doc.type.schema,e.plugins),n=new fC(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},fC.prototype.reconfigure=function(e){for(var t=new uC(e.schema||this.schema,e.plugins),n=t.fields,r=new fC(t),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,r);}return r},fC.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]));}return t},fC.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new uC(e.schema,e.plugins),i=new fC(r);return r.fields.forEach((function(r){if("doc"==r.name)i.doc=v$.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=GS.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else {if(n)for(var o in n){var s=n[o],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(i[r.name]=a.fromJSON.call(s,e,t[o],i))}i[r.name]=r.init(e,i);}})),i},fC.addApplyListener=function(e){dC.push(e);},fC.removeApplyListener=function(e){var t=dC.indexOf(e);t>-1&&dC.splice(t,1);},Object.defineProperties(fC.prototype,pC);var dC=[];var hC=function(e){this.props={},e.props&&function e(t,n,r){for(var i in t){var o=t[i];o instanceof Function?o=o.bind(n):"handleDOMEvents"==i&&(o=e(o,n,{})),r[i]=o;}return r}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:gC("plugin");};hC.prototype.getState=function(e){return e[this.key]};var mC=Object.create(null);function gC(e){return e in mC?e+"$"+ ++mC[e]:(mC[e]=0,e+"$")}var vC=function(e){void 0===e&&(e="key"),this.key=gC(e);};vC.prototype.get=function(e){return e.config.pluginsByKey[this.key]},vC.prototype.getState=function(e){return e[this.key]};var yC={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var bC=/Edge\/(\d+)/.exec(navigator.userAgent),wC=/MSIE \d/.test(navigator.userAgent),xC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);yC.mac=/Mac/.test(navigator.platform);var kC=yC.ie=!!(wC||xC||bC);yC.ie_version=wC?document.documentMode||6:xC?+xC[1]:bC?+bC[1]:null,yC.gecko=!kC&&/gecko\/(\d+)/i.test(navigator.userAgent),yC.gecko_version=yC.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var $C=!kC&&/Chrome\/(\d+)/.exec(navigator.userAgent);yC.chrome=!!$C,yC.chrome_version=$C&&+$C[1],yC.ios=!kC&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),yC.android=/Android \d/.test(navigator.userAgent),yC.webkit="webkitFontSmoothing"in document.documentElement.style,yC.safari=/Apple Computer/.test(navigator.vendor),yC.webkit_version=yC.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];}var SC=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},CC=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},MC=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},OC=function(e,t,n,r){return n&&(_C(e,t,n,r,-1)||_C(e,t,n,r,1))},TC=/^(img|br|input|textarea|hr)$/i;function _C(e,t,n,r,i){for(;;){if(e==n&&t==r)return !0;if(t==(i<0?0:AC(e))){var o=e.parentNode;if(1!=o.nodeType||NC(e)||TC.test(e.nodeName)||"false"==e.contentEditable)return !1;t=SC(e)+(i<0?0:1),e=o;}else {if(1!=e.nodeType)return !1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return !1;t=i<0?AC(e):0;}}}function AC(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function NC(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var EC=function(e){var t=e.isCollapsed;return t&&yC.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function LC(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function DC(e){return {left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function jC(e,t){return "number"==typeof e?e:e[t]}function PC(e){var t=e.getBoundingClientRect();return {left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function IC(e,t,n){for(var r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,s=n||e.dom;s;s=CC(s))if(1==s.nodeType){var a=s==o.body||1!=s.nodeType,l=a?DC(o):PC(s),c=0,u=0;if(t.top<l.top+jC(r,"top")?u=-(l.top-t.top+jC(i,"top")):t.bottom>l.bottom-jC(r,"bottom")&&(u=t.bottom-l.bottom+jC(i,"bottom")),t.left<l.left+jC(r,"left")?c=-(l.left-t.left+jC(i,"left")):t.right>l.right-jC(r,"right")&&(c=t.right-l.right+jC(i,"right")),c||u)if(a)o.defaultView.scrollBy(c,u);else {var f=s.scrollLeft,p=s.scrollTop;u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c);var d=s.scrollLeft-f,h=s.scrollTop-p;t={left:t.left-d,top:t.top-h,right:t.right-d,bottom:t.bottom-h};}if(a)break}}function zC(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=CC(e));return t}function RC(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.dom,o=r.top,s=r.left;i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=s&&(i.scrollLeft=s);}}var FC=null;function BC(e,t){for(var n,r,i=2e8,o=0,s=t.top,a=t.top,l=e.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else {if(3!=l.nodeType)continue;u=MC(l).getClientRects();}for(var f=0;f<u.length;f++){var p=u[f];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var d=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(d<i){n=l,i=d,r=d&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&d&&(o=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=c+1);}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);var o=VC(r,1);if(o.top!=o.bottom&&WC(t,o))return {node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return {node:e,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:BC(n,r)}function WC(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function HC(e,t){var n,r,i,o,s=e.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(t.left,t.top);a&&(i=(n=a).offsetNode,o=n.offset);}catch(e){}if(!i&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(t.left,t.top);l&&(i=(r=l).startContainer,o=r.startOffset);}var c,u=s.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var f=e.dom.getBoundingClientRect();if(!WC(t,f))return null;if(!(u=function e(t,n,r){var i=t.childNodes.length;if(i&&r.top<r.bottom)for(var o=Math.max(0,Math.min(i-1,Math.floor(i*(n.top-r.top)/(r.bottom-r.top))-2)),s=o;;){var a=t.childNodes[s];if(1==a.nodeType)for(var l=a.getClientRects(),c=0;c<l.length;c++){var u=l[c];if(WC(n,u))return e(a,n,u)}if((s=(s+1)%i)==o)break}return t}(e.dom,t,f)))return null}if(yC.safari&&u.draggable&&(i=o=null),u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),i){if(yC.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var p,d=i.childNodes[o];"IMG"==d.nodeName&&(p=d.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&o++;}i==e.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(c=function(e,t,n,r){for(var i=-1,o=t;o!=e.dom;){var s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else {if(!(a.right<r.left||a.bottom<r.top))break;i=s.posAfter;}}o=s.dom.parentNode;}return i>-1?i:e.docView.posFromDOM(t,n)}(e,i,o,t));}null==c&&(c=function(e,t,n){var r=BC(t,n),i=r.node,o=r.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1;}return e.docView.posFromDOM(i,o,s)}(e,u,t));var h=e.docView.nearestDesc(u,!0);return {pos:c,inside:h?h.posAtStart-h.border:-1}}function VC(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function qC(e,t){var n=e.docView.domFromPos(t),r=n.node,i=n.offset;if(3==r.nodeType&&(yC.webkit||yC.gecko)){var o=VC(MC(r,i,i),0);if(yC.gecko&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var s=VC(MC(r,i-1,i-1),-1);if(s.top==o.top){var a=VC(MC(r,i,i+1),-1);if(a.top!=o.top)return UC(a,a.left<s.left)}}return o}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,c=!0;if(i<r.childNodes.length){var u=r.childNodes[i];1==u.nodeType&&(l=u.getBoundingClientRect());}if(!l&&i){var f=r.childNodes[i-1];1==f.nodeType&&(l=f.getBoundingClientRect(),c=!1);}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return {top:n,bottom:n,left:e.left,right:e.right}}(l||r.getBoundingClientRect(),c)}for(var p=-1;p<2;p+=2)if(p<0&&i){var d=void 0,h=3==r.nodeType?MC(r,i-1,i):3==(d=r.childNodes[i-1]).nodeType?MC(d):1==d.nodeType&&"BR"!=d.nodeName?d:null;if(h){var m=VC(h,1);if(m.top<m.bottom)return UC(m,!1)}}else if(p>0&&i<AC(r)){var g=void 0,v=3==r.nodeType?MC(r,i,i+1):3==(g=r.childNodes[i]).nodeType?MC(g):1==g.nodeType?g:null;if(v){var y=VC(v,-1);if(y.top<y.bottom)return UC(y,!0)}}return UC(VC(3==r.nodeType?MC(r):r,0),!1)}function UC(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return {top:e.top,bottom:e.bottom,left:n,right:n}}function KC(e,t,n){var r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus();}}var JC=/[\u0590-\u08ac]/;var GC=null,YC=null,XC=!1;function ZC(e,t,n){return GC==t&&YC==n?XC:(GC=t,YC=n,XC="up"==n||"down"==n?function(e,t,n){var r=t.selection,i="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return KC(e,t,(function(){for(var t=e.docView.domFromPos(i.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode;}for(var o=qC(e,i.pos),s=t.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else {if(3!=s.nodeType)continue;a=MC(s,0,s.nodeValue.length).getClientRects();}for(var l=0;l<a.length;l++){var c=a[l];if(c.bottom>c.top&&("up"==n?c.bottom<o.top+1:c.top>o.bottom-1))return !1}}return !0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return !1;var i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=getSelection();return JC.test(r.parent.textContent)&&a.modify?KC(e,t,(function(){var t=a.getRangeAt(0),i=a.focusNode,o=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var l=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&o==a.focusOffset;return a.removeAllRanges(),a.addRange(t),null!=s&&(a.caretBidiLevel=s),l})):"left"==n||"backward"==n?o:s}(e,t,n))}var QC=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0;},eM={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};QC.prototype.matchesWidget=function(){return !1},QC.prototype.matchesMark=function(){return !1},QC.prototype.matchesNode=function(){return !1},QC.prototype.matchesHack=function(){return !1},eM.beforePosition.get=function(){return !1},QC.prototype.parseRule=function(){return null},QC.prototype.stopEvent=function(){return !1},eM.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},eM.border.get=function(){return 0},QC.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy();},QC.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size;}},eM.posBefore.get=function(){return this.parent.posBeforeChild(this)},eM.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},eM.posAfter.get=function(){return this.posBefore+this.size},eM.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},QC.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,i;if(e==this.contentDOM)r=e.childNodes[t-1];else {for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling;}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,s;if(e==this.contentDOM)o=e.childNodes[t];else {for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling;}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}var a;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.parentNode.firstChild!=l)break}if(null==a&&t==e.childNodes.length)for(var c=e;;c=c.parentNode){if(c==this.dom){a=!0;break}if(c.parentNode.lastChild!=c)break}}return (null==a?n>0:a)?this.posAtEnd:this.posAtStart},QC.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==e.nodeType?e:e.parentNode):i.nodeDOM==e))return i;n=!1;}}},QC.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},QC.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return -1},QC.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i;}},QC.prototype.domFromPos=function(e){if(!this.contentDOM)return {node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return {node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:SC(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],i=t+r.size;if(e<i)return r.domFromPos(e-t-r.border);t=i;}},QC.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return {node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,s=0;;s++){var a=this.children[s],l=o+a.size;if(-1==r&&e<=l){var c=o+a.border;if(e>=c&&t<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,t,c);e=o;for(var u=s;u>0;u--){var f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=SC(f.dom)+1;break}e-=f.size;}-1==r&&(r=0);}if(r>-1&&(l>t||s==this.children.length-1)){t=l;for(var p=s+1;p<this.children.length;p++){var d=this.children[p];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=SC(d.dom);break}t+=d.size;}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l;}return {node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}},QC.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return !1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},QC.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},QC.prototype.setSelection=function(e,t,n,r){for(var i=Math.min(e,t),o=Math.max(e,t),s=0,a=0;s<this.children.length;s++){var l=this.children[s],c=a+l.size;if(i>a&&o<c)return l.setSelection(e-a-l.border,t-a-l.border,n,r);a=c;}var u=this.domFromPos(e),f=this.domFromPos(t),p=n.getSelection();if(r||!OC(u.node,u.offset,p.anchorNode,p.anchorOffset)||!OC(f.node,f.offset,p.focusNode,p.focusOffset)){var d=!1;if(p.extend||e==t){p.collapse(u.node,u.offset);try{e!=t&&p.extend(f.node,f.offset),d=!0;}catch(e){if(!(e instanceof DOMException))throw e}}if(!d){if(e>t){var h=u;u=f,f=h;}var m=document.createRange();m.setEnd(f.node,f.offset),m.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(m);}}},QC.prototype.ignoreMutation=function(e){return !this.contentDOM&&"selection"!=e.type},eM.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},QC.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var s=n+i.border,a=o-i.border;if(e>=s&&t<=a)return this.dirty=e==n||t==o?2:1,void(e!=s||t!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-s,t-s):i.dirty=3);i.dirty=3;}n=o;}this.dirty=2;},QC.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n);}},Object.defineProperties(QC.prototype,eM);var tM=[],nM=function(e){function t(t,n,r,i){var o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a;}s.contentEditable=!1,s.classList.add("ProseMirror-widget");}e.call(this,t,tM,s,null),this.widget=n,o=this;}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return {ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return !!t&&t(e)},t.prototype.ignoreMutation=function(e){return "selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(QC),rM=function(e){function t(t,n,r,i){e.call(this,t,tM,n,null),this.textDOM=r,this.text=i;}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return {node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return "characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(QC),iM=function(e){function t(t,n,r,i){e.call(this,t,[],r,i),this.mark=n;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,i){var o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return s&&s.dom||(s=Q$.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return {mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0;}},t.prototype.slice=function(e,n,r){var i=t.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=wM(o,n,s,r)),e>0&&(o=wM(o,0,e,r));for(var a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i},t}(QC),oM=function(e){function t(t,n,r,i,o,s,a,l,c){e.call(this,t,n.isLeaf?tM:[],o,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=i,s&&this.updateChildren(l,c);}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,r,i,o,s){var a,l,c=o.nodeViews[n.type.name],u=c&&c(n,o,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),r),f=u&&u.dom,p=u&&u.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(f=(a=Q$.renderSpec(document,n.type.spec.toDOM(n))).dom,p=a.contentDOM);p||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var d=f;return f=mM(f,r,n),u?l=new cM(e,n,r,i,f,p,d,u,o,s+1):n.isText?new aM(e,n,r,i,f,d,o):new t(e,n,r,i,f,p,d,o,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Kk.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&gM(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,i=t,o=r&&e.composing&&this.localCompositionNode(e,t),s=new yM(this,o&&o.node);!function(e,t,n,r){var i=t.locals(e),o=0;if(0==i.length){for(var s=0;s<e.childCount;s++){var a=e.child(s);r(a,i,t.forChild(o,a),s),o+=a.nodeSize;}return}for(var l=0,c=[],u=null,f=0;;){if(l<i.length&&i[l].to==o){for(var p=i[l++],d=void 0;l<i.length&&i[l].to==o;)(d||(d=[p])).push(i[l++]);if(d){d.sort(bM);for(var h=0;h<d.length;h++)n(d[h],f,!!u);}else n(p,f,!!u);}var m=void 0,g=void 0;if(u)g=-1,m=u,u=null;else {if(!(f<e.childCount))break;g=f,m=e.child(f++);}for(var v=0;v<c.length;v++)c[v].to<=o&&c.splice(v--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var y=o+m.nodeSize;if(m.isText){var b=y;l<i.length&&i[l].from<b&&(b=i[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<y&&(u=m.cut(b-o),m=m.cut(0,b-o),y=b,g=-1);}r(m,c.length?c.slice():tM,t.forChild(o,m),g),o=y;}}(this.node,this.innerDeco,(function(t,o,a){t.spec.marks?s.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&s.syncToMarks(o==n.node.childCount?Zk.none:n.node.child(o).marks,r,e),s.placeWidget(t,e,i);}),(function(t,n,o,a){s.syncToMarks(t.marks,r,e),s.findNodeMatch(t,n,o,a)||s.updateNextNode(t,n,o,e,a)||s.addNode(t,n,o,e,i),i+=t.nodeSize;})),s.syncToMarks(tM,r,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(o&&this.protectLocalComposition(e,o),function e(t,n,r){for(var i=t.firstChild,o=!1,s=0;s<n.length;s++){var a=n[s],l=a.dom;if(l.parentNode==t){for(;l!=i;)i=vM(i),o=!0;i=i.nextSibling;}else o=!0,t.insertBefore(l,i);if(a instanceof iM){var c=i?i.previousSibling:t.lastChild;e(a.contentDOM,a.children,r),i=c?c.nextSibling:t.firstChild;}}for(;i;)i=vM(i),o=!0;o&&r.trackWrites==t&&(r.trackWrites=null);}(this.contentDOM,this.children,e),yC.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t;}}(this.dom));},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(!(e.state.selection instanceof ZS)||r<t||i>t+this.node.content.size)){var o=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=AC(e);}else {if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0;}}}(o.focusNode,o.focusOffset);if(s&&this.dom.contains(s.parentNode)){var a=s.nodeValue,l=function(e,t,n,r){for(var i=0,o=0;i<e.childCount&&o<=r;){var s=e.child(i++),a=o;if(o+=s.nodeSize,s.isText){for(var l=s.text;i<e.childCount;){var c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text;}if(o>=n){var u=l.lastIndexOf(t,r-a);if(u>=0&&u+t.length+a>=n)return a+u}}}return -1}(this.node.content,a,r-t,i-t);return l<0?null:{node:s,pos:l,text:a}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,i=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null);}var s=new rM(this,o,n,i);e.compositionNodes.push(s),this.children=wM(this.children,r,r+i.length,e,s);}},t.prototype.update=function(e,t,n,r){return !(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0;},t.prototype.updateOuterDeco=function(e){if(!gM(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=dM(this.dom,this.nodeDOM,pM(this.outerDeco,this.node,t),pM(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e;}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0);},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable");},Object.defineProperties(t.prototype,n),t}(QC);function sM(e,t,n,r,i){return mM(r,t,e),new oM(null,e,t,n,r,r,r,i,0)}var aM=function(e){function t(t,n,r,i,o,s,a){e.call(this,t,n,r,i,o,null,s,a);}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return {skip:e||!0}},t.prototype.update=function(e,t,n,r){return !(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return !0;return !1},t.prototype.domFromPos=function(e){return {node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return "characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var i=this.node.cut(e,n),o=document.createTextNode(i.text);return new t(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},t}(oM),lM=function(e){function t(){e.apply(this,arguments);}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return {ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(QC),cM=function(e){function t(t,n,r,i,o,s,a,l,c,u){e.call(this,t,n,r,i,o,s,a,c,u),this.spec=l;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,i){if(3==this.dirty)return !1;if(this.spec.update){var o=this.spec.update(t,n);return o&&this.updateInner(t,n,r,i),o}return !(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,i)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this);},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this);},t.prototype.setSelection=function(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,i);},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this);},t.prototype.stopEvent=function(e){return !!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(oM);function uM(e){e&&(this.nodeName=e);}uM.prototype=Object.create(null);var fM=[new uM];function pM(e,t,n){if(0==e.length)return fM;for(var r=n?fM[0]:new uM,i=[r],o=0;o<e.length;o++){var s=e[o].type.attrs,a=r;if(s)for(var l in s.nodeName&&i.push(a=new uM(s.nodeName)),s){var c=s[l];null!=c&&(n&&1==i.length&&i.push(a=r=new uM(t.isInline?"span":"div")),"class"==l?a.class=(a.class?a.class+" ":"")+c:"style"==l?a.style=(a.style?a.style+";":"")+c:"nodeName"!=l&&(a[l]=c));}}return i}function dM(e,t,n,r){if(n==fM&&r==fM)return t;for(var i=t,o=0;o<r.length;o++){var s=r[o],a=n[o];if(o){var l=void 0;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.tagName.toLowerCase()==s.nodeName||((l=document.createElement(s.nodeName)).pmIsDeco=!0,l.appendChild(i),a=fM[0]),i=l;}hM(i,a||fM[0],s);}return i}function hM(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){for(var o=t.class?t.class.split(" "):tM,s=n.class?n.class.split(" "):tM,a=0;a<o.length;a++)-1==s.indexOf(o[a])&&e.classList.remove(o[a]);for(var l=0;l<s.length;l++)-1==o.indexOf(s[l])&&e.classList.add(s[l]);}if(t.style!=n.style){if(t.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(t.style);)e.style.removeProperty(c[1]);n.style&&(e.style.cssText+=n.style);}}function mM(e,t,n){return dM(e,e,fM,pM(t,n,1!=e.nodeType))}function gM(e,t){if(e.length!=t.length)return !1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return !1;return !0}function vM(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var yM=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,i=t.length-1;r>0&&i>=0;i--){var o=t[i],s=o.node;if(s){if(s!=e.child(r-1))break;n.push(o),--r;}}return {nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset;};function bM(e,t){return e.type.side-t.type.side}function wM(e,t,n,r,i){for(var o=[],s=0,a=0;s<e.length;s++){var l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=null),u>n&&o.push(l.slice(n-c,l.size,r)));}return o}function xM(e,t){var n=e.selection,r=n.$anchor,i=n.$head,o=t>0?r.max(i):r.min(i),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&GS.findFrom(s,t)}function kM(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function $M(e,t,n){var r=e.state.selection;if(!(r instanceof ZS)){if(r instanceof eC&&r.node.isInline)return kM(e,new ZS(t>0?r.$to:r.$from));var i=xM(e.state,t);return !!i&&kM(e,i)}if(!r.empty||n.indexOf("s")>-1)return !1;if(e.endOfTextblock(t>0?"right":"left")){var o=xM(e.state,t);return !!(o&&o instanceof eC)&&kM(e,o)}if(!(yC.mac&&n.indexOf("m")>-1)){var s,a=r.$head,l=a.textOffset?null:t<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText)return !1;var c=t<0?a.pos-l.nodeSize:a.pos;return !!(l.isAtom||(s=e.docView.descAt(c))&&!s.contentDOM)&&(eC.isSelectable(l)?kM(e,new eC(t<0?e.state.doc.resolve(a.pos-l.nodeSize):a)):!!yC.webkit&&kM(e,new ZS(e.state.doc.resolve(t<0?c:c+l.nodeSize))))}}function SM(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function CM(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function MM(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var i,o,s=!1;for(yC.gecko&&1==n.nodeType&&r<SM(n)&&CM(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(CM(a))i=n,o=--r;else {if(3!=a.nodeType)break;r=(n=a).nodeValue.length;}}else {if(TM(n))break;for(var l=n.previousSibling;l&&CM(l);)i=n.parentNode,o=SC(l),l=l.previousSibling;if(l)r=SM(n=l);else {if((n=n.parentNode)==e.dom)break;r=0;}}s?_M(e,t,n,r):i&&_M(e,t,i,o);}}function OM(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var i,o,s=SM(n);;)if(r<s){if(1!=n.nodeType)break;if(!CM(n.childNodes[r]))break;i=n,o=++r;}else {if(TM(n))break;for(var a=n.nextSibling;a&&CM(a);)i=a.parentNode,o=SC(a)+1,a=a.nextSibling;if(a)r=0,s=SM(n=a);else {if((n=n.parentNode)==e.dom)break;r=s=0;}}i&&_M(e,t,i,o);}}function TM(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function _M(e,t,n,r){if(EC(t)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),t.removeAllRanges(),t.addRange(i);}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();}function AM(e,t,n){var r=e.state.selection;if(r instanceof ZS&&!r.empty||n.indexOf("s")>-1)return !1;if(yC.mac&&n.indexOf("m")>-1)return !1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=xM(e.state,t);if(s&&s instanceof eC)return kM(e,s)}if(!i.parent.inlineContent){var a=GS.findFrom(t<0?i:o,t);return !a||kM(e,a)}return !1}function NM(e,t){if(!(e.state.selection instanceof ZS))return !0;var n=e.state.selection,r=n.$head,i=n.$anchor,o=n.empty;if(!r.sameParent(i))return !0;if(!o)return !1;if(e.endOfTextblock(t>0?"forward":"backward"))return !0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=e.state.tr;return t<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),e.dispatch(a),!0}return !1}function EM(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start();}function LM(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||yC.mac&&72==n&&"c"==r?NM(e,-1)||MM(e):46==n||yC.mac&&68==n&&"c"==r?NM(e,1)||OM(e):13==n||27==n||(37==n?$M(e,-1,r)||MM(e):39==n?$M(e,1,r)||OM(e):38==n?AM(e,-1,r)||MM(e):40==n?function(e){if(yC.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;EM(e,i,!0),setTimeout((function(){return EM(e,i,!1)}),20);}}}(e)||AM(e,1,r)||OM(e):r==(yC.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function DM(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,l,c=r.resolve(s);if(EC(n)){for(a=c;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&eC.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var r=0==t,i=t==AC(e);r||i;){if(e==n)return !0;var o=SC(e);if(!(e=e.parentNode))return !1;r=r&&0==o,i=i&&o==AC(e);}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;l=new eC(s==u?c:r.resolve(u));}}else {var f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;a=r.resolve(f);}l||(l=WM(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1));return l}function jM(e,t){var n=e.state.selection;if(FM(e,n),e.editable?e.hasFocus():HM(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,SC(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&yC.ie&&yC.ie_version<=11&&(r.disabled=!0,r.disabled=!1);}(e);else {var r,i,o=n.anchor,s=n.head;!PM||n instanceof ZS||(n.$from.parent.inlineContent||(r=IM(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=IM(e,n.to))),e.docView.setSelection(o,s,e.root,t),PM&&(r&&RM(r),i&&RM(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"));});}(e));}e.domObserver.setCurSelection(),e.domObserver.connectSelection();}}yM.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},yM.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0;}},yM.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length);},yM.prototype.syncToMarks=function(e,t,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,e.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(e[i])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else {var l=iM.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0;}this.index=0,i++;}},yM.prototype.findNodeMatch=function(e,t,n,r){var i=-1,o=r<0?void 0:this.getPreMatch(r),s=this.top.children;if(o&&o.matchesNode(e,t,n))i=s.indexOf(o);else for(var a=this.index,l=Math.min(s.length,a+5);a<l;a++){var c=s[a];if(c.matchesNode(e,t,n)&&this.preMatched.indexOf(c)<0){i=a;break}}return !(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},yM.prototype.updateNextNode=function(e,t,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var s=this.top.children[o];if(s instanceof oM){var a=this.preMatched.indexOf(s);if(a>-1&&a+this.preMatchOffset!=i)return !1;var l=s.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&gM(t,s.outerDeco)))&&s.update(e,t,n,r))return this.destroyBetween(this.index,o),s.dom!=l&&(this.changed=!0),this.index++,!0;break}}return !1},yM.prototype.addNode=function(e,t,n,r,i){this.top.children.splice(this.index++,0,oM.create(this.top,e,t,n,r,i)),this.changed=!0;},yM.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var i=new nM(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0;}else this.index++;},yM.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof iM;)e=e.children[e.children.length-1];if(!e||!(e instanceof aM)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else {var t=document.createElement("br");this.top.children.splice(this.index++,0,new lM(this.top,tM,t,null)),this.changed=!0;}};var PM=yC.safari||yC.chrome&&yC.chrome_version<63;function IM(e,t){var n=e.docView.domFromPos(t),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,s=i?r.childNodes[i-1]:null;if(yC.safari&&o&&"false"==o.contentEditable)return zM(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return zM(o);if(s)return zM(s)}}function zM(e){return e.contentEditable="true",yC.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function RM(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null);}function FM(e,t){if(t instanceof eC){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(BM(e),n&&n.selectNode(),e.lastSelectedViewDesc=n);}else BM(e);}function BM(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null);}function WM(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||ZS.between(t,n,r)}function HM(e){var t=e.root.getSelection();if(!t.anchorNode)return !1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return !1}}function VM(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(yC.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||yC.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return {ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return {ignore:!0}}function qM(e,t,n,r,i){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,s=DM(e,o);if(s&&!e.state.selection.eq(s)){var a=e.state.tr.setSelection(s);"pointer"==o?a.setMeta("pointer",!0):"key"==o&&a.scrollIntoView(),e.dispatch(a);}}else {var l=e.state.doc.resolve(t),c=l.sharedDepth(n);t=l.before(c+1),n=e.state.doc.resolve(n).after(c+1);var u,f,p=e.state.selection,d=function(e,t,n){var r=e.docView.parseRange(t,n),i=r.node,o=r.fromOffset,s=r.toOffset,a=r.from,l=r.to,c=e.root.getSelection(),u=null,f=c.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],EC(c)||u.push({node:c.focusNode,offset:c.focusOffset})),yC.chrome&&8===e.lastKeyCode)for(var p=s;p>o;p--){var d=i.childNodes[p-1],h=d.pmViewDesc;if("BR"==d.nodeType&&!h){s=p;break}if(!h||h.size)break}var m=e.state.doc,g=e.someProp("domParser")||W$.fromSchema(e.state.schema),v=m.resolve(a),y=null,b=g.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:s,preserveWhitespace:!v.parent.type.spec.code||"full",editableContent:!0,findPositions:u,ruleFromNode:VM,context:v});if(u&&null!=u[0].pos){var w=u[0].pos,x=u[1]&&u[1].pos;null==x&&(x=w),y={anchor:w+a,head:x+a};}return {doc:b,sel:y,from:a,to:l}}(e,t,n),h=e.state.doc,m=h.slice(d.from,d.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(u=e.state.selection.to,f="end"):(u=e.state.selection.from,f="start"),e.lastKeyCode=null;var g=function(e,t,n,r,i){var o=e.findDiffStart(t,n);if(null==o)return null;var s=e.findDiffEnd(t,n+e.size,n+t.size),a=s.a,l=s.b;if("end"==i){var c=Math.max(0,o-Math.min(a,l));r-=a+c-o;}if(a<o&&e.size<t.size){l=(o-=r<=o&&r>=a?o-r:0)+(l-a),a=o;}else if(l<o){a=(o-=r<=o&&r>=l?o-r:0)+(a-l),l=o;}return {start:o,endA:a,endB:l}}(m.content,d.doc.content,d.from,u,f);if(!g){if(!(r&&p instanceof ZS&&!p.empty&&p.$head.sameParent(p.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){var v=UM(e,e.state.doc,d.sel);v&&!v.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(v));}return}g={start:p.from,endA:p.to,endB:p.to};}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof ZS&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),yC.ie&&yC.ie_version<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>d.from&&"  "==d.doc.textBetween(g.start-d.from-1,g.start-d.from+1)&&(g.start--,g.endA--,g.endB--);var y,b=d.doc.resolveNoCache(g.start-d.from),w=d.doc.resolveNoCache(g.endB-d.from),x=b.sameParent(w)&&b.parent.inlineContent;if((yC.ios&&e.lastIOSEnter>Date.now()-225&&(!x||i.some((function(e){return "DIV"==e.nodeName||"P"==e.nodeName})))||!x&&b.pos<d.doc.content.size&&(y=GS.findFrom(d.doc.resolve(b.pos+1),1,!0))&&y.head==w.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,LC(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>g.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||KM(r,!0,!1)<i.pos)return !1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return !1;var s=e.resolve(KM(o,!0,!0));if(!s.parent.isTextblock||s.pos>n||KM(s,!0,!1)<n)return !1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(h,g.start,g.endA,b,w)&&e.someProp("handleKeyDown",(function(t){return t(e,LC(8,"Backspace"))})))yC.android&&yC.chrome&&e.domObserver.suppressSelectionUpdates();else {yC.android&&!x&&b.start()!=w.start()&&0==w.parentOffset&&b.depth==w.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==g.endA&&(g.endB-=2,w=d.doc.resolveNoCache(g.endB-d.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,LC(13,"Enter"))}));}),20));var k,$,S,C,M=g.start,O=g.endA;if(x)if(b.pos==w.pos)yC.ie&&yC.ie_version<=11&&0==b.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return jM(e)}),20)),k=e.state.tr.delete(M,O),$=h.resolve(g.start).marksAcross(h.resolve(g.endA));else if(g.endA==g.endB&&(C=h.resolve(g.start))&&(S=function(e,t){for(var n,r,i,o=e.firstChild.marks,s=t.firstChild.marks,a=o,l=s,c=0;c<s.length;c++)a=s[c].removeFromSet(a);for(var u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",i=function(e){return e.mark(r.addToSet(e.marks))};else {if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",i=function(e){return e.mark(r.removeFromSet(e.marks))};}for(var f=[],p=0;p<t.childCount;p++)f.push(i(t.child(p)));if(Kk.from(f).eq(e))return {mark:r,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),C.parent.content.cut(C.parentOffset,g.endA-C.start()))))k=e.state.tr,"add"==S.type?k.addMark(M,O,S.mark):k.removeMark(M,O,S.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){var T=b.parent.textBetween(b.parentOffset,w.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,M,O,T)})))return;k=e.state.tr.insertText(T,M,O);}if(k||(k=e.state.tr.replace(M,O,d.doc.slice(g.start-d.from,g.endB-d.from))),d.sel){var _=UM(e,k.doc,d.sel);_&&!(yC.chrome&&yC.android&&e.composing&&_.empty&&(_.head==M||_.head==k.mapping.map(O)-1)||yC.ie&&_.empty&&_.head==M)&&k.setSelection(_);}$&&k.ensureMarks($),e.dispatch(k.scrollIntoView());}}}function UM(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:WM(e,t.resolve(n.anchor),t.resolve(n.head))}function KM(e,t,n){for(var r=e.depth,i=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n)for(var o=e.node(r).maybeChild(e.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function JM(e,t){for(var n=[],r=t.content,i=t.openStart,o=t.openEnd;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content;}var a=e.someProp("clipboardSerializer")||Q$.fromSchema(e.state.schema),l=eO(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));for(var u,f=c.firstChild;f&&1==f.nodeType&&(u=ZM[f.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var d=l.createElement(u[p]);c.firstChild;)d.appendChild(c.firstChild);c.appendChild(d);}f=c.firstChild;}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function GM(e,t,n,r,i){var o,s,a=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,a||r);})),a)return new e$(Kk.from(e.state.schema.text(t)),0,0);var c=e.someProp("clipboardTextParser",(function(e){return e(t,i,r)}));c?s=c:(o=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){o.appendChild(document.createElement("p")).textContent=e;})));}else e.someProp("transformPastedHTML",(function(e){n=e(n);})),o=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=eO().createElement("div"),i=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),o=0;(n=i&&ZM[i[1].toLowerCase()])&&(e=n.map((function(e){return "<"+e+">"})).join("")+e+n.map((function(e){return "</"+e+">"})).reverse().join(""),o=n.length);r.innerHTML=e;for(var s=0;s<o;s++)r=r.firstChild;return r}(n);var u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+) (.*)/.exec(u.getAttribute("data-pm-slice"));if(!s){var p=e.someProp("clipboardParser")||e.someProp("domParser")||W$.fromSchema(e.state.schema);s=p.parseSlice(o,{preserveWhitespace:!(!l&&!f),context:i});}return s=f?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t);}catch(t){return e}for(var i=e.content,o=e.openStart,s=e.openEnd,a=n.length-2;a>=0;a-=2){var l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;i=Kk.from(l.create(n[a+1],i)),o++,s++;}return new e$(i,o,s)}(function(e,t,n){t<e.openStart&&(e=new e$(XM(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new e$(XM(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(s,+f[1],+f[2]),f[3]):e$.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),i=void 0,o=[];if(e.forEach((function(e){if(o){var t,n=r.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&i.length&&function e(t,n,r,i,o){if(o<t.length&&o<n.length&&t[o]==n[o]){var s=e(t,n,r,i.lastChild,o+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(o==t.length-1?r.type:t[o+1]))return i.copy(i.content.append(Kk.from(YM(r,t,o+1))))}}(n,i,e,o[o.length-1],0))o[o.length-1]=t;else {o.length&&(o[o.length-1]=function e(t,n){if(0==n)return t;var r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(Kk.empty,!0);return t.copy(r.append(i))}(o[o.length-1],i.length));var s=YM(e,n);o.push(s),r=r.matchType(s.type,s.attrs),i=n;}}})),o)return {v:Kk.from(o)}},r=t.depth;r>=0;r--){var i=n(r);if(i)return i.v}return e}(s.content,i),!1),e.someProp("transformPasted",(function(e){s=e(s);})),s}function YM(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Kk.from(e));return e}function XM(e,t,n,r,i,o){var s=t<0?e.firstChild:e.lastChild,a=s.content;return i<r-1&&(a=XM(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Kk.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}var ZM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},QM=null;function eO(){return QM||(QM=document.implementation.createHTMLDocument("title"))}var tO={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},nO=yC.ie&&yC.ie_version<=11,rO=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null;};rO.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset;},rO.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var iO=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);yC.ie&&yC.ie_version<=11&&e.some((function(e){return "childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush();})),this.currentSelection=new rO,nO&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon();}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1;};iO.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush();}),20));},iO.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush());},iO.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,tO),nO&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection();},iO.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20);}this.observer.disconnect();}nO&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection();},iO.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange);},iO.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange);},iO.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50);},iO.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&HM(e)){var e;if(this.suppressingSelectionUpdates)return jM(this.view);if(yC.ie&&yC.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&OC(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush();}},iO.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection());},iO.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return !0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},iO.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&HM(this.view)&&!this.ignoreSelectionChange(t),r=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var a=0;a<e.length;a++){var l=this.registerMutation(e[a],s);l&&(r=r<0?l.from:Math.min(l.from,r),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(o=!0));}if(yC.gecko&&s.length>1){var c=s.filter((function(e){return "BR"==e.nodeName}));if(2==c.length){var u=c[0],f=c[1];u.parentNode&&u.parentNode.parentNode==f.parentNode?f.remove():u.remove();}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),function(e){if(oO)return;oO=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.");}(this.view)),this.handleDOMChange(r,i,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||jM(this.view));}},iO.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var r=e.previousSibling,i=e.nextSibling;if(yC.ie&&yC.ie_version<=11&&e.addedNodes.length)for(var o=0;o<e.addedNodes.length;o++){var s=e.addedNodes[o],a=s.previousSibling,l=s.nextSibling;(!a||Array.prototype.indexOf.call(e.addedNodes,a)<0)&&(r=a),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l);}for(var c=r&&r.parentNode==e.target?SC(r)+1:0,u=n.localPosFromDOM(e.target,c,-1),f=i&&i.parentNode==e.target?SC(i):e.target.childNodes.length,p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);return {from:u,to:n.localPosFromDOM(e.target,f,1)}}return "attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var oO=!1;var sO={},aO={};function lO(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now();}function cO(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return uO(e,t)});}));}function uO(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return !!r&&(r(e,t)||t.defaultPrevented)}))}function fO(e){return {left:e.clientX,top:e.clientY}}function pO(e,t,n,r,i){if(-1==r)return !1;for(var o=e.state.doc.resolve(r),s=function(r){if(e.someProp(t,(function(t){return r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1)})))return {v:!0}},a=o.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return !1}function dO(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r);}function hO(e,t,n,r,i){return pO(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?function(e,t){if(-1==t)return !1;var n,r,i=e.state.selection;i instanceof eC&&(n=i.node);for(var o=e.state.doc.resolve(t),s=o.depth+1;s>0;s--){var a=s>o.depth?o.nodeAfter:o.node(s);if(eC.isSelectable(a)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(s);break}}return null!=r&&(dO(e,eC.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return !1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return !!(r&&r.isAtom&&eC.isSelectable(r))&&(dO(e,new eC(n),"pointer"),!0)}(e,n))}function mO(e,t,n,r){return pO(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function gO(e,t,n,r){return pO(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return !!n.inlineContent&&(dO(e,ZS.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),i=r.depth+1;i>0;i--){var o=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(o.inlineContent)dO(e,ZS.create(n,s+1,s+1+o.content.size),"pointer");else {if(!eC.isSelectable(o))continue;dO(e,eC.create(n,s),"pointer");}return !0}}(e,n)}function vO(e){return $O(e)}aO.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!wO(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!yC.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||LM(e,t)?t.preventDefault():lO(e,"key");else {var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,LC(13,"Enter"))})),e.lastIOSEnter=0);}),200);}},aO.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1);},aO.keypress=function(e,t){if(!(wO(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||yC.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else {var n=e.state.selection;if(!(n instanceof ZS&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault();}}};var yO=yC.mac?"metaKey":"ctrlKey";sO.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=vO(e),r=Date.now(),i="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[yO]&&("singleClick"==e.lastClick.type?i="doubleClick":"doubleClick"==e.lastClick.type&&(i="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:i};var o=e.posAtCoords(fO(t));o&&("singleClick"==i?e.mouseDown=new bO(e,o,t,n):("doubleClick"==i?mO:gO)(e,o.pos,o.inside,t)?t.preventDefault():lO(e,"pointer"));};var bO=function(e,t,n,r){var i,o,s=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[yO],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else {var a=e.state.doc.resolve(t.pos);i=a.parent,o=a.depth?a.before():0;}this.mightDrag=null;var l=r?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof eC&&o==e.state.selection.from)&&(this.mightDrag={node:i,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&yC.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),lO(e,"pointer");};function wO(e,t){return !!e.composing||!!(yC.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}bO.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null;},bO.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(fO(e))),this.allowDefault||!t?lO(this.view,"pointer"):hO(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||yC.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||yC.chrome&&!(this.view.state.selection instanceof ZS)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(dO(this.view,GS.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):lO(this.view,"pointer");}},bO.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),lO(this.view,"pointer");},sO.touchdown=function(e){vO(e),lO(e,"pointer");},sO.contextmenu=function(e){return vO(e)};var xO=yC.android?5e3:-1;function kO(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return $O(e)}),t));}function $O(e,t){for(e.domObserver.forceFlush(),e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();if(t||e.docView.dirty){var n=DM(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return !1}aO.compositionstart=aO.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return !1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),$O(e,!0),e.markCursor=null;else if($O(e),yC.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}i=s,o=-1;}e.composing=!0;}kO(e,xO);},aO.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,kO(e,20));};var SO=yC.ie&&yC.ie_version<15||yC.ios&&yC.webkit_version<604;function CO(e,t,n,r){var i=GM(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,r,i||e$.empty)}))&&i){var o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(i);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"));}}sO.copy=aO.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var i=SO?null:t.clipboardData,o=JM(e,n.content()),s=o.dom,a=o.text;i?(t.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus();}),50);}}(e,s),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"));}},aO.paste=function(e,t){var n=SO?null:t.clipboardData,r=n&&n.getData("text/html"),i=n&&n.getData("text/plain");n&&(r||i||n.files.length)?(CO(e,i,r,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?CO(e,r.value,null,t):CO(e,r.textContent,r.innerHTML,t);}),50);}}(e,t);};var MO=function(e,t){this.slice=e,this.move=t;},OO=yC.mac?"altKey":"ctrlKey";for(var TO in sO.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(fO(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof eC?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(eC.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var o=e.docView.nearestDesc(t.target,!0);if(!o||!o.node.type.spec.draggable||o==e.docView)return;e.dispatch(e.state.tr.setSelection(eC.create(e.state.doc,o.posBefore)));}var s=e.state.selection.content(),a=JM(e,s),l=a.dom,c=a.text;t.dataTransfer.clearData(),t.dataTransfer.setData(SO?"Text":"text/html",l.innerHTML),SO||t.dataTransfer.setData("text/plain",c),e.dragging=new MO(s,!t[OO]);}},sO.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50);},aO.dragover=aO.dragenter=function(e,t){return t.preventDefault()},aO.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(fO(t));if(r){var i=e.state.doc.resolve(r.pos);if(i){var o=n&&n.slice||GM(e,t.dataTransfer.getData(SO?"Text":"text/plain"),SO?null:t.dataTransfer.getData("text/html"),!1,i);if(e.someProp("handleDrop",(function(r){return r(e,t,o||e$.empty,n&&n.move)})))t.preventDefault();else if(o){t.preventDefault();var s=o?function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,c=r.index(a)+(l>0?1:0);if(1==s?r.node(a).canReplace(c,c,i):r.node(a).contentMatchAt(c).findWrapping(i.firstChild.type))return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}(e.state.doc,i.pos,o):i.pos;null==s&&(s=i.pos);var a=e.state.tr;n&&n.move&&a.deleteSelection();var l=a.mapping.map(s),c=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,u=a.doc;if(c?a.replaceRangeWith(l,l,o.content.firstChild):a.replaceRange(l,l,o),!a.doc.eq(u)){var f=a.doc.resolve(l);c&&eC.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild)?a.setSelection(new eC(f)):a.setSelection(WM(e,f,a.doc.resolve(a.mapping.map(s)))),e.focus(),e.dispatch(a.setMeta("uiEvent","drop"));}}}}}},sO.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&jM(e);}),20));},sO.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1);},sO.beforeinput=function(e,t){if(yC.chrome&&yC.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,LC(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView());}}),50);}},aO)sO[TO]=aO[TO];function _O(e,t){if(e==t)return !0;for(var n in e)if(e[n]!==t[n])return !1;for(var r in t)if(!(r in e))return !1;return !0}var AO=function(e,t){this.spec=t||PO,this.side=this.spec.side||0,this.toDOM=e;};AO.prototype.map=function(e,t,n,r){var i=e.mapResult(t.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new LO(o-n,o-n,this)},AO.prototype.valid=function(){return !0},AO.prototype.eq=function(e){return this==e||e instanceof AO&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_O(this.spec,e.spec))};var NO=function(e,t){this.spec=t||PO,this.attrs=e;};NO.prototype.map=function(e,t,n,r){var i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new LO(i,o,this)},NO.prototype.valid=function(e,t){return t.from<t.to},NO.prototype.eq=function(e){return this==e||e instanceof NO&&_O(this.attrs,e.attrs)&&_O(this.spec,e.spec)},NO.is=function(e){return e.type instanceof NO};var EO=function(e,t){this.spec=t||PO,this.attrs=e;};EO.prototype.map=function(e,t,n,r){var i=e.mapResult(t.from+r,1);if(i.deleted)return null;var o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new LO(i.pos-n,o.pos-n,this)},EO.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,i=n.offset;return i==t.from&&i+e.child(r).nodeSize==t.to},EO.prototype.eq=function(e){return this==e||e instanceof EO&&_O(this.attrs,e.attrs)&&_O(this.spec,e.spec)};var LO=function(e,t,n){this.from=e,this.to=t,this.type=n;},DO={spec:{configurable:!0}};LO.prototype.copy=function(e,t){return new LO(e,t,this.type)},LO.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},LO.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},LO.widget=function(e,t,n){return new LO(e,e,new AO(t,n))},LO.inline=function(e,t,n,r){return new LO(e,t,new NO(n,r))},LO.node=function(e,t,n,r){return new LO(e,t,new EO(n,r))},DO.spec.get=function(){return this.type.spec},Object.defineProperties(LO.prototype,DO);var jO=[],PO={},IO=function(e,t){this.local=e&&e.length?e:jO,this.children=t&&t.length?t:jO;};IO.create=function(e,t){return t.length?HO(t,e,0,PO):zO},IO.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},IO.prototype.findInner=function(e,t,n,r,i){for(var o=0;o<this.local.length;o++){var s=this.local[o];s.from<=t&&s.to>=e&&(!i||i(s.spec))&&n.push(s.copy(s.from+r,s.to+r));}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){var l=this.children[a]+1;this.children[a+2].findInner(e-l,t-l,n,r+l,i);}},IO.prototype.map=function(e,t,n){return this==zO||0==e.maps.length?this:this.mapInner(e,t,0,0,n||PO)},IO.prototype.mapInner=function(e,t,n,r,i){for(var o,s=0;s<this.local.length;s++){var a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec);}return this.children.length?function(e,t,n,r,i,o,s){for(var a=e.slice(),l=function(e,t,n,r){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||e>l+o||(t>=a[s]+o?a[s+1]=-1:n>=i&&(c=r-n-(t-e))&&(a[s]+=c,a[s+1]+=c));}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,f=0;f<a.length;f+=3)if(-1==a[f+1]){var p=n.map(a[f]+o),d=p-i;if(d<0||d>=r.content.size){u=!0;continue}var h=n.map(e[f+1]+o,-1)-i,m=r.content.findIndex(d),g=m.index,v=m.offset,y=r.maybeChild(g);if(y&&v==d&&v+y.nodeSize==h){var b=a[f+2].mapInner(n,y,p+1,a[f]+o+1,s);b!=zO?(a[f]=d,a[f+1]=h,a[f+2]=b):(a[f+1]=-2,u=!0);}else u=!0;}if(u){var w=HO(function(e,t,n,r,i,o,s){function a(e,t){for(var o=0;o<e.local.length;o++){var l=e.local[o].map(r,i,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[o].spec);}for(var c=0;c<e.children.length;c+=3)a(e.children[c+2],e.children[c]+t+1);}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+o+1);return n}(a,e,t||[],n,i,o,s),r,0,s);t=w.local;for(var x=0;x<a.length;x+=3)a[x+1]<0&&(a.splice(x,3),x-=3);for(var k=0,$=0;k<w.children.length;k+=3){for(var S=w.children[k];$<a.length&&a[$]<S;)$+=3;a.splice($,0,w.children[k],w.children[k+1],w.children[k+2]);}}return new IO(t&&t.sort(VO),a)}(this.children,o,e,t,n,r,i):o?new IO(o.sort(VO)):zO},IO.prototype.add=function(e,t){return t.length?this==zO?IO.create(e,t):this.addInner(e,t,0):this},IO.prototype.addInner=function(e,t,n){var r,i=this,o=0;e.forEach((function(e,s){var a,l=s+n;if(a=BO(t,e,l)){for(r||(r=i.children.slice());o<r.length&&r[o]<s;)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(e,a,l+1):r.splice(o,0,s,s+e.nodeSize,HO(a,e,l+1,PO)),o+=3;}}));var s=FO(o?WO(t):t,-n);return new IO(s.length?this.local.concat(s).sort(VO):this.local,r||this.children)},IO.prototype.remove=function(e){return 0==e.length||this==zO?this:this.removeInner(e,0)},IO.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,s=n[i]+t,a=n[i+1]+t,l=0,c=void 0;l<e.length;l++)(c=e[l])&&c.from>s&&c.to<a&&(e[l]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var u=n[i+2].removeInner(o,s+1);u!=zO?n[i+2]=u:(n.splice(i,3),i-=3);}}if(r.length)for(var f=0,p=void 0;f<e.length;f++)if(p=e[f])for(var d=0;d<r.length;d++)r[d].eq(p,t)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new IO(r,n):zO},IO.prototype.forChild=function(e,t){if(this==zO)return this;if(t.isLeaf)return IO.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=e){this.children[i]==e&&(n=this.children[i+2]);break}for(var o=e+1,s=o+t.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof NO){var c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(r||(r=[])).push(l.copy(c,u));}}if(r){var f=new IO(r.sort(VO));return n?new RO([f,n]):f}return n||zO},IO.prototype.eq=function(e){if(this==e)return !0;if(!(e instanceof IO)||this.local.length!=e.local.length||this.children.length!=e.children.length)return !1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return !1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return !1;return !0},IO.prototype.locals=function(e){return qO(this.localsInner(e))},IO.prototype.localsInner=function(e){if(this==zO)return jO;if(e.inlineContent||!this.local.some(NO.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof NO||t.push(this.local[n]);return t};var zO=new IO;IO.empty=zO,IO.removeOverlap=qO;var RO=function(e){this.members=e;};function FO(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(new LO(i.from+t,i.to+t,i.type));}return n}function BO(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,i=null,o=0,s=void 0;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function WO(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function HO(e,t,n,r){var i=[],o=!1;t.forEach((function(t,s){var a=BO(e,t,s+n);if(a){o=!0;var l=HO(a,t,n+s+1,r);l!=zO&&i.push(s,s+t.nodeSize,l);}}));for(var s=FO(o?WO(e):e,-n).sort(VO),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new IO(s,i):zO}function VO(e,t){return e.from-t.from||e.to-t.to}function qO(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var i=n+1;i<t.length;i++){var o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),UO(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),UO(t,i+1,o.copy(r.to,o.to)));}}return t}function UO(e,t,n){for(;t<e.length&&VO(n,e[t])>0;)t++;e.splice(t,0,n);}function KO(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=zO&&t.push(r);})),e.cursorWrapper&&t.push(IO.create(e.state.doc,[e.cursorWrapper.deco])),RO.from(t)}RO.prototype.forChild=function(e,t){if(t.isLeaf)return IO.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(e,t);i!=zO&&(i instanceof RO?n=n.concat(i.members):n.push(i));}return RO.from(n)},RO.prototype.eq=function(e){if(!(e instanceof RO)||e.members.length!=this.members.length)return !1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return !1;return !0},RO.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<i.length;o++)t.push(i[o]);}else t=i;}return t?qO(n?t:t.sort(VO)):jO},RO.from=function(e){switch(e.length){case 0:return zO;case 1:return e[0];default:return new RO(e)}};var JO=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ZO(this),this.markCursor=null,this.cursorWrapper=null,XO(this),this.nodeViews=QO(this),this.docView=sM(this.state.doc,YO(this),KO(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new iO(e,(function(t,n,r,i){return qM(e,t,n,r,i)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=sO[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return !0;if(t.defaultPrevented)return !1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return !1;return !0}(e,t)||uO(e,t)||!e.editable&&t.type in aO||n(e,t);});};for(var n in sO)t(n);yC.safari&&e.dom.addEventListener("input",(function(){return null})),cO(e);}(this),this.pluginViews=[],this.updatePluginViews();},GO={props:{configurable:!0},root:{configurable:!0}};function YO(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]));})),[LO.node(0,e.state.doc.content.size,t)]}function XO(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:LO.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})};}else e.cursorWrapper=null;}function ZO(e){return !e.someProp("editable",(function(t){return !1===t(e.state)}))}function QO(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);})),t}GO.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state;}return this._props},JO.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&cO(this),this._props=e,this.updateStateInner(e.state,!0);},JO.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t);},JO.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins);},JO.prototype.updateStateInner=function(e,t){var n=this,r=this.state,i=!1;if(this.state=e,t){var o=QO(this);(function(e,t){var n=0,r=0;for(var i in e){if(e[i]!=t[i])return !0;n++;}for(var o in t)r++;return n!=r})(o,this.nodeViews)&&(this.nodeViews=o,i=!0),cO(this);}this.editable=ZO(this),XO(this);var s,a,l,c,u,f,p,d,h,m,g,v=KO(this),y=YO(this),b=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",w=i||!this.docView.matchesNode(e.doc,y,v),x=w||!e.selection.eq(r.selection),k="preserve"==b&&x&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,s=i+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=e.root.elementFromPoint(o,s);if(a!=e.dom&&e.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=i-20){t=a,n=l.top;break}}}return {refDOM:t,refTop:n,stack:zC(e.dom)}}(this);if(x){this.domObserver.stop();var $=w&&(yC.ie||yC.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(c=r.selection,u=e.selection,f=Math.min(c.$anchor.sharedDepth(c.head),u.$anchor.sharedDepth(u.head)),c.$anchor.start(f)!=u.$anchor.start(f));if(w){var S=yC.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,y,v,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=sM(e.doc,y,v,this.dom,this)),S&&!this.trackWrites&&($=!0);}$||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(s=this,a=s.docView.domFromPos(s.state.selection.anchor),l=s.root.getSelection(),OC(a.node,a.offset,l.anchorNode,l.anchorOffset)))?jM(this,$):(FM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start();}if(this.updatePluginViews(r),"reset"==b)this.dom.scrollTop=0;else if("to selection"==b){var C=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof eC?IC(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),C):IC(this,this.coordsAtPos(e.selection.head),C));}else k&&(d=(p=k).refDOM,h=p.refTop,m=p.stack,g=d?d.getBoundingClientRect().top:0,RC(m,0==g?0:g-h));},JO.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy();},JO.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e);}else {this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var i=this.state.plugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this));}}},JO.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var i=this.state.plugins;if(i)for(var o=0;o<i.length;o++){var s=i[o].props[e];if(null!=s&&(n=t?t(s):s))return n}},JO.prototype.hasFocus=function(){return this.root.activeElement==this.dom},JO.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(FC)return e.focus(FC);var t=zC(e);e.focus(null==FC?{get preventScroll(){return FC={preventScroll:!0},!0}}:void 0),FC||(FC=!1,RC(t,0));}(this.dom),jM(this),this.domObserver.start();},GO.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},JO.prototype.posAtCoords=function(e){return HC(this,e)},JO.prototype.coordsAtPos=function(e){return qC(this,e)},JO.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},JO.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},JO.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},JO.prototype.endOfTextblock=function(e,t){return ZC(this,t||this.state,e)},JO.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout);}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],KO(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null);},JO.prototype.dispatchEvent=function(e){return function(e,t){uO(e,t)||!sO[t.type]||!e.editable&&t.type in aO||sO[t.type](e,t);}(this,e)},JO.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e));},Object.defineProperties(JO.prototype,GO);var eT=function(){};eT.prototype.append=function(e){return e.length?(e=eT.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},eT.prototype.prepend=function(e){return e.length?eT.from(e).append(this):this},eT.prototype.appendInner=function(e){return new nT(this,e)},eT.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?eT.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},eT.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},eT.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0);},eT.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},eT.from=function(e){return e instanceof eT?e:e&&e.length?new tT(e):eT.empty};var tT=function(e){function t(t){e.call(this),this.values=t;}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return !1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return !1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(eT);eT.empty=new tT([]);var nT=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1;}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return !(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return !(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(eT);var hT=new vC("history"),mT=new vC("closeHistory");for(var bT={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},wT={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},xT="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),kT="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),$T="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ST="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),CT="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),MT=xT&&(ST||+xT[1]<57)||$T&&ST,OT=0;OT<10;OT++)bT[48+OT]=bT[96+OT]=String(OT);for(OT=1;OT<=24;OT++)bT[OT+111]="F"+OT;for(OT=65;OT<=90;OT++)bT[OT]=String.fromCharCode(OT+32),wT[OT]=String.fromCharCode(OT);for(var TT in bT)wT.hasOwnProperty(TT)||(wT[TT]=bT[TT]);var _T="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function DT(e,t){return !e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function jT(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return !0;return !1}function PT(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function IT(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function BT(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function WT(e,t){var n=e.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return !1;var o=r.node(-1),s=r.indexAfter(-1),a=BT(o.contentMatchAt(s));if(!o.canReplaceWith(s,s,a))return !1;if(t){var l=r.after(),c=e.tr.replaceWith(l,l,a.createAndFill());c.setSelection(GS.near(c.doc.resolve(l),1)),t(c.scrollIntoView());}return !0}function VT(e,t,n){var r,i,o=t.nodeBefore,s=t.nodeAfter;if(o.type.spec.isolating||s.type.spec.isolating)return !1;if(function(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,o=t.index();return !!(r&&i&&r.type.compatibleContent(i.type))&&(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(o,o+1)||!i.isTextblock&&!ES(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return !0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(r[0]||s.type).validEnd){if(n){for(var a=t.pos+s.nodeSize,l=Kk.empty,c=r.length-1;c>=0;c--)l=Kk.from(r[c].create(null,l));l=Kk.from(o.copy(l));var u=e.tr.step(new CS(t.pos-1,a,t.pos,a,new e$(l,1,0),r.length,!0)),f=a+2*r.length;ES(u.doc,f)&&u.join(f),n(u.scrollIntoView());}return !0}var p=GS.findFrom(t,1),d=p&&p.$from.blockRange(p.$to),h=d&&TS(d);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(d,h).scrollIntoView()),!0)}function qT(e,t){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=a&&_S(a,e,t);return !!l&&(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0)}}function UT(e,t){return function(n,r){var i=n.selection,o=i.from,s=i.to,a=!1;return n.doc.nodesBetween(o,s,(function(r,i){if(a)return !1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)a=!0;else {var o=n.doc.resolve(i),s=o.index();a=o.parent.canReplaceWith(s,s+1,e);}})),!!a&&(r&&r(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0)}}function KT(e,t){return function(n,r){var i=n.selection,o=i.empty,s=i.$cursor,a=i.ranges;if(o&&!s||!function(e,t,n){for(var r=function(r){var i=t[r],o=i.$from,s=i.$to,a=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,s.pos,(function(e){if(a)return !1;a=e.inlineContent&&e.type.allowsMarkType(n);})),a)return {v:!0}},i=0;i<t.length;i++){var o=r(i);if(o)return o.v}return !1}(n.doc,a,e))return !1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else {for(var l=!1,c=n.tr,u=0;!l&&u<a.length;u++){var f=a[u],p=f.$from,d=f.$to;l=n.doc.rangeHasMark(p.pos,d.pos,e);}for(var h=0;h<a.length;h++){var m=a[h],g=m.$from,v=m.$to;l?c.removeMark(g.pos,v.pos,e):c.addMark(g.pos,v.pos,e.create(t));}r(c.scrollIntoView());}return !0}}function JT(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var i=0;i<e.length;i++)if(e[i](t,n,r))return !0;return !1}}var GT=JT(DT,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return !1;var i=PT(r);if(!i){var o=r.blockRange(),s=o&&TS(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)}var a=i.nodeBefore;if(!a.type.spec.isolating&&VT(e,i,t))return !0;if(0==r.parent.content.size&&(jT(a,"end")||eC.isSelectable(a))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection(jT(a,"end")?GS.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):eC.create(l.doc,i.pos-a.nodeSize)),t(l.scrollIntoView());}return !0}return !(!a.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,i=r.$head,o=i;if(!r.empty)return !1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return !1;o=PT(i);}var s=o&&o.nodeBefore;return !(!s||!eC.isSelectable(s))&&(t&&t(e.tr.setSelection(eC.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)})),YT=JT(DT,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return !1;var i=IT(r);if(!i)return !1;var o=i.nodeAfter;if(VT(e,i,t))return !0;if(0==r.parent.content.size&&(jT(o,"start")||eC.isSelectable(o))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(jT(o,"start")?GS.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):eC.create(s.doc,s.mapping.map(i.pos))),t(s.scrollIntoView());}return !0}return !(!o.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,i=r.$head,o=i;if(!r.empty)return !1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return !1;o=IT(i);}var s=o&&o.nodeAfter;return !(!s||!eC.isSelectable(s))&&(t&&t(e.tr.setSelection(eC.create(e.doc,o.pos)).scrollIntoView()),!0)})),XT={Enter:JT((function(e,t){var n=e.selection,r=n.$head,i=n.$anchor;return !(!r.parent.type.spec.code||!r.sameParent(i))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,i=n.$to;if(r.parent.inlineContent||i.parent.inlineContent)return !1;var o=BT(r.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return !1;if(t){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(ZS.create(a.doc,s+1)),t(a.scrollIntoView());}return !0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return !1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(NS(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),o=i&&TS(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,i=n.$to;if(e.selection instanceof eC&&e.selection.node.isBlock)return !(!r.parentOffset||!NS(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return !1;if(t){var o=i.parentOffset==i.parent.content.size,s=e.tr;e.selection instanceof ZS&&s.deleteSelection();var a=0==r.depth?null:BT(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=o&&a?[{type:a}]:null,c=NS(s.doc,s.mapping.map(r.pos),1,l);l||c||!NS(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(l=[{type:a}],c=!0),c&&(s.split(s.mapping.map(r.pos),1,l),o||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),Kk.from(a.create(),r.parent))||s.setNodeMarkup(s.mapping.map(r.before()),a)),t(s.scrollIntoView());}return !0})),"Mod-Enter":WT,Backspace:GT,"Mod-Backspace":GT,Delete:YT,"Mod-Delete":YT,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new nC(e.doc))),!0}},ZT={"Ctrl-h":XT.Backspace,"Alt-Backspace":XT["Mod-Backspace"],"Ctrl-d":XT.Delete,"Ctrl-Alt-Backspace":XT["Mod-Delete"],"Alt-Delete":XT["Mod-Delete"],"Alt-d":XT["Mod-Delete"]};for(var QT in XT)ZT[QT]=XT[QT];var e_=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?ZT:XT,t_=["ol",0],n_=["ul",0],r_=["li",0],i_={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return {order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?t_:["ol",{start:e.attrs.order},0]}},o_={parseDOM:[{tag:"ul"}],toDOM:function(){return n_}},s_={parseDOM:[{tag:"li"}],toDOM:function(){return r_},defining:!0};function a_(e,t){var n={};for(var r in e)n[r]=e[r];for(var i in t)n[i]=t[i];return n}function l_(e,t){return function(n,r){var i=n.selection,o=i.$from,s=i.$to,a=o.blockRange(s),l=!1,c=a;if(!a)return !1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(e)&&0==a.startIndex){if(0==o.index(a.depth-1))return !1;var u=n.doc.resolve(a.start-2);c=new h$(u,u,a.depth),a.endIndex<a.parent.childCount&&(a=new h$(o,n.doc.resolve(s.end(a.depth)),a.depth)),l=!0;}var f=_S(c,e,t,a);return !!f&&(r&&r(function(e,t,n,r,i){for(var o=Kk.empty,s=n.length-1;s>=0;s--)o=Kk.from(n[s].type.create(n[s].attrs,o));e.step(new CS(t.start-(r?2:0),t.end,t.start,t.end,new e$(o,0,0),n.length,!0));for(var a=0,l=0;l<n.length;l++)n[l].type==i&&(a=l+1);for(var c=n.length-a,u=t.start+n.length-(r?2:0),f=t.parent,p=t.startIndex,d=t.endIndex,h=!0;p<d;p++,h=!1)!h&&NS(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=f.child(p).nodeSize;return e}(n.tr,a,f,l,e).scrollIntoView()),!0)}}const y_="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const x_=new F$({nodes:function(e,t,n){return e.append({ordered_list:a_(i_,{content:"list_item+",group:n}),bullet_list:a_(o_,{content:"list_item+",group:n}),list_item:a_(s_,{content:t})})}(uS.spec.nodes,"paragraph block*","block"),marks:uS.spec.marks.addToEnd("highlight",{toDOM:()=>["mark"],parseDOM:[{tag:"mark"}]}).addToEnd("link",{attrs:{href:{}},toDOM:e=>["a",{href:e.attrs.href}],parseDOM:[{tag:"a",getAttrs:e=>({href:e.href})}],inclusive:!1}).addToEnd("code",{toDOM:()=>["code"],parseDOM:[{tag:"code"}]})});function k_(e,t,n){return {blockType:x_.nodes[e],options:t,command:UT(x_.nodes[e],t),dom:document.querySelector("#primo-toolbar--"+n)}}function $_(e){const{state:t,dispatch:n}=e;!function(e,t){let{doc:n,selection:r}=e;if(r.empty)return ()=>{};let i=null;return n.rangeHasMark(r.from,r.to,x_.marks.link)||(i={href:prompt("Enter link","")},i.href)?KT(x_.marks.link,i):()=>{}}(t)(t,n,e);}class S_{constructor(e){this.editorView=e;const t=[{command:KT(x_.marks.highlight),dom:document.querySelector("#primo-toolbar--highlight")},{isLink:!0,dom:document.querySelector("#primo-toolbar--link")},{command:KT(x_.marks.strong),dom:document.querySelector("#primo-toolbar--bold")},{command:KT(x_.marks.em),dom:document.querySelector("#primo-toolbar--italic")},k_("code_block",{},"code"),k_("heading",{level:1},"h1"),k_("heading",{level:2},"h2"),{command:l_(x_.nodes.bullet_list),dom:document.querySelector("#primo-toolbar--ul")},{command:l_(x_.nodes.ordered_list),dom:document.querySelector("#primo-toolbar--ol")},{command:qT(x_.nodes.blockquote),dom:document.querySelector("#primo-toolbar--blockquote")}];this.items=t,this.dom=document.querySelector("#primo-toolbar"),this.update(),this.dom.addEventListener("mousedown",n=>{n.preventDefault();const r=c(To),i=(r?r.id:null)===e.dom.id.replace("editor-","");i&&e.focus(),t.forEach(({command:t,dom:r,blockType:o,options:s,isLink:a})=>{if(r.contains(n.target)&&i)if(a)$_(e);else {let{$from:n,to:r,node:i}=e.state.selection;r<=n.end()&&n.parent.hasMarkup(o,s)?UT(x_.nodes.paragraph)(e.state,e.dispatch,e):t(e.state,e.dispatch,e);}});});}update(){this.items.forEach(({command:e,dom:t})=>{if(e){e(this.editorView.state,null,this.editorView);}});}destroy(){this.dom.remove();}}let C_=new hC({view:e=>new S_(e)});function SA(e,t,n){const r=e.slice();return r[15]=t[n],r}function CA(t){let n,r;return {c(){n=M("link"),L(n,"href",r="$"+t[15].src),L(n,"rel","stylesheet");},m(e,t){$(e,n,t);},p:e,d(e){e&&S(n);}}}function MA(t){let n,r;return {c(){n=M("div"),L(n,"id","primo-empty-state");},m(e,t){$(e,n,t);},p:e,i(e){r||le(()=>{r=Se(n,No,{duration:100}),r.start();});},o:e,d(e){e&&S(n);}}}function OA(t){let n,r,i;return {c(){n=M("div"),L(n,"class","primo-page"),L(n,"id",r="component-"+t[4]);},m(e,r){$(e,n,r),n.innerHTML=t[1];},p(e,t){2&t&&(n.innerHTML=e[1]);},i(e){i||le(()=>{i=Se(n,No,{duration:100}),i.start();});},o:e,d(e){e&&S(n);}}}function TA(t){let n,r,i,o,s,a,l,c,u,f,p,d,h,m,g,v,y,b,w=function(e){return e.map(e=>`<link href="${e.src}" rel="stylesheet" />`)}(t[5])+"",x=nk(t[0])+"",O=t[5],_=[];for(let e=0;e<O.length;e+=1)_[e]=CA(SA(t,O,e));function N(e,t){return e[1]?OA:MA}let E=N(t),D=E(t);return {c(){r=A();for(let e=0;e<_.length;e+=1)_[e].c();i=M("script"),s=M("script"),l=M("script"),u=M("script"),p=M("script"),h=A(),g=A(),v=T(),D.c(),y=T(),b=M("div"),n=new H(r),i.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.1/system.min.js")&&L(i,"src","https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.1/system.min.js"),L(i,"integrity","sha256-15j2fw0zp8UuYXmubFHW7ScK/xr5NhxkxmJcp7T3Lrc="),L(i,"crossorigin","anonymous"),s.src!==(a="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/named-register.min.js")&&L(s,"src","https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/named-register.min.js"),L(s,"integrity","sha256-ezV7DuHnj9ggFddRE32dDuLSGesXoT2ZWY8g+mEknMM="),L(s,"crossorigin","anonymous"),l.src!==(c="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/use-default.min.js")&&L(l,"src","https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/use-default.min.js"),L(l,"integrity","sha256-uVDULWwA/sIHxnO31dK8ThAuK46MrPmrVn+JXlMXc5A="),L(l,"crossorigin","anonymous"),u.src!==(f="https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/amd.min.js")&&L(u,"src","https://cdnjs.cloudflare.com/ajax/libs/systemjs/6.3.2/extras/amd.min.js"),L(u,"integrity","sha256-7vS4pPsg7zx1oTAJ1zQIr2lDg/q8anzUCcz6nxuaKhU="),L(u,"crossorigin","anonymous"),L(p,"type","systemjs-importmap"),d=new H(h),m=new H(g),L(b,"primo-js","");},m(e,o){n.m(w,document.head),k(document.head,r);for(let e=0;e<_.length;e+=1)_[e].m(document.head,null);k(document.head,i),k(document.head,s),k(document.head,l),k(document.head,u),k(document.head,p),t[6](p),d.m(x,document.head),k(document.head,h),m.m(t[2],document.head),k(document.head,g),$(e,v,o),D.m(e,o),$(e,y,o),$(e,b,o);},p(e,[t]){if(32&t){let n;for(O=e[5],n=0;n<O.length;n+=1){const r=SA(e,O,n);_[n]?_[n].p(r,t):(_[n]=CA(r),_[n].c(),_[n].m(i.parentNode,i));}for(;n<_.length;n+=1)_[n].d(1);_.length=O.length;}1&t&&x!==(x=nk(e[0])+"")&&d.p(x),4&t&&m.p(e[2]),E===(E=N(e))&&D?D.p(e,t):(D.d(1),D=E(e),D&&(D.c(),xe(D,1),D.m(y.parentNode,y)));},i(e){xe(D);},o:e,d(e){S(r),e&&n.d(),C(_,e),S(i),S(s),S(l),S(u),S(p),t[6](null),S(h),e&&d.d(),S(g),e&&m.d(),e&&S(v),D.d(e),e&&S(y),e&&S(b);}}}function _A(e,t,n){let r=Ms.get("tailwind");const{dependencies:i,id:o,html:s,css:a,js:l}=Ms.get("preview");let c,u,f=o||null,p=s,d=nk(a),h=i?i.libraries.filter(e=>"css"===e.type):[],m=i?i.libraries.filter(e=>"js"===e.type):[];return X(()=>{!async function(e){const t=m.map(e=>e.name),n=t.map(e=>`System.import('${e}')`).join(",");zk("[primo-js]","script",m.length>0?`Promise.all([${n}]).then(modules => {\n        const [${t.join(",")}] = modules;\n        ${e}\n      })`:e,{type:"module"});}(l);}),Ms.on("preview",({newValue:e})=>{n(1,p=e.html),n(2,d=nk(e.css));}),Ms.on("tailwind",({newValue:e})=>{n(0,r=e);}),e.$$.update=()=>{136&e.$$.dirty&&c&&n(3,c.innerHTML=u,c);},n(7,u=JSON.stringify({imports:_i.mapValues(_i.keyBy(m,"name"),"src")})),[r,p,d,c,f,h,function(e){re[e?"unshift":"push"](()=>{c=e,n(3,c),n(7,u),n(13,m);});}]}class AA extends Ie{constructor(e){super(),je(this,e,_A,TA,a,{});}}

    const app = new AA({
        target: document.body
    });

    return app;

}());
//# sourceMappingURL=bundle.js.map
